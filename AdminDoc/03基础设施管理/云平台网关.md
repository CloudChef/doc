**云平台网关**
越来越多的企业采用混合云的架构，企业底层的基础架构和网络环境较为复杂，SmartCMP采用的分布式架构可适应多种场景：
集中管理多个数据中心，多个VPC，虚拟网络环境的隔离；混合云环境（私有云+公有云）。
+通过开通CloudGateway与主节点之间的有限通信端口， SmartCMP就可以借助云平台网关统一管理和监控各VPC、数据中心或者远程站点的资源
+ 典型应用场景：当网关不能支持完整SaaS模式下的网络隔离问题，导致SmartCMP与隔离的数据中心网络不通，例如，下图所示：SmartCMP与主数据中心的网络是打通的，但SmartCMP与隔离的中心网络不通，我们需要借助主数据中心的网段来访问隔离的数据中心，通过在两个隔离的数据中心分别安装CloudGateway，CloudGateway部署成功之后，在云平台接入的入口，加入CloudGateway的代理网关，实现SmartCMP与隔离数据中心连通并管理其资源。


![CloudGateway](../../picture/Admin/CloudGateway.png)

+ 下文介绍具体的实现步骤：

    + 首先，SmartCMP在组件库内置了CloudGateway组件，该组件提供Nginx, Consul, Prometheus等功能，每一个Gateway组件只能反代一个云平台的地址，监听所在云平台API端口。
    + 蓝图设计师，可以在蓝图的可视化编辑器中，将CloudGateway、虚拟、网络进行统一编排，如下图所示：两个network组件分别代表，其中一个为管理网络，保证Gateway与CMP之间的连通，另一个为代理网络，保证Gateway与隔离数据中心的连通。
    
    ![CloudGateway+VM+Network](../../picture/Admin/CloudGateway+VM+Network.png)   

    + 在服务配置中，设置云平台网关的相关参数，包括：下载路径（CloudGateway的Ansible安装包的下载路径）、网关（SmartCMP与主数据中心能连通的网络的网关）、代理网段（SmartCMP与主数据中心能连通的网络的网段）等信息。

    + 安装成功之后该组件会出现在云资源软件列表中，同时也新增了云平台网关菜单，放在基础设施- 云平台网关的菜单列表中。需要在隔离网络的数据中心云平台处，关联云平台网关，打通SmartCMP与隔离的数据中心的链路。

    + 并且，在服务部署里面，可以查看已部署成功的云平台网关信息，进行刷新状态、停止、安装软件、删除等变更运维操作。
