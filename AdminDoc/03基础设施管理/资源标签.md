
# 资源标签{#资源标签}
标签核心功能是自动匹配资源，快速选择资源以及利用标签一键搜索，快速筛选。
添加标签的具体步骤：点击左侧导航栏 「基础设施」 - 「资源标签」，管理员有配置标签和定义标签的参数的权限。
+ 配置资源标签的「基本信息」：名称（一般配置中文，比如环境）、主键（只能输入英文和数字，比如env，作为标识位）、描述、顺序（定义标签选择的顺序）选择类型（单选/多选，指定做筛选时，标签选择值集的方式），指定的资源类型：云资源（例如：资源池）、存储资源（例如：vSphere的数据存储，OpenStack的存储类型）、网络资源。注意：同一个资源池可以设置多个标签，例如：可以给同一个vSphere资源池的存储或网络资源，分别选择使不同的标签。


+ 配置资源标签的「值集」例如：当key是环境，支持创建值value时，支持添加一个值集（例如：生产环境），也支持添加多个值集（例如：生产环境、测试环境、开发环境）并且每个值需要配置名称， 主键（可以用于命名规则），以及描述。 
点击保存按钮，资源标签创建完成

# 使用资源标签

资源标签创建完成之后，将资源池与资源标签进行绑定，具体操作步骤：点击左侧导航栏 「基础设施」 - 「资源池管理」在资源标签选择“标签键值”，一个资源池只能选择一个key,能选择一个或多个value, 例如：vSphere资源池,key选定为"环境",选择一个value“开发环境”或多个value“生产环境、测试环境、开发环境”。

资源标签在服务配置中的应用：配置Server或Instance节点的资源池，可供选择的资源池来源于“共享资源池、业务组绑定的资源池”，其中资源标签在选择资源池的作用：
+ 选择手工指定资源池的策略，然后根据选定的资源标签过滤，再进一步根据标签过滤的结果进行选择，选择是否允许在申请时修改或者在审批时修改。例如：vSphere云服务配置Server组件，选择手工指定资源池的策略，选定拥有“开发环境”资源标签的资源池“vSphere开发资源池”，勾选“允许修改”和“仅审批时可改”，则服务配置完成之后，在服务申请时，可再一次选择资源池。

+ 选择“自动选择剩余容量最大、自动选择费用最低、平均分配” 的资源池选择策略，平台将根据策略自动分配，并且自动分配的时候，只能在按照标签过滤出来的资源池当中进行选择。更多服务配置信息请参考：[服务配置](https://cloudchef.github.io/doc/AdminDoc/05服务建模/服务配置.html) 

+ 资源标签在服务申请中的应用：服务配置中配置资源池允许修改，则在申请页面，针对每个key，根据资源池中已经配置的资源标签，只展现资源池中已经使用的value。

>「Note」面对“多个key 并且每个key有多个value”的应用场景。例如，存在两个key,分别为 “环境、性能 ”。key是环境时，下面设有三个value ，分别为“Pro，UAT，Dev”；key是性能时，下面设有三个value 分别为 “高性能，中性能，一般性能” 。两个资源池（vSphere-dev 资源池 和 vSphere-test 资源池），vSphere-dev 资源池有2个标签Pro和高性能，vSphere-test 资源池有2个标签UAT和一般性能, 因此在为节点配置云资源、服务申请页面展示的时候，“环境”下只显示Pro和UAT，“性能”下只显示高性能和一般性能,任意选择其中一个资源标签的value之后，剩余的标签展示要根据第一个资源标签的value的选择进行动态调整。例如：首先选择资源标签的value “ Pro ”，剩余的第二个标签只会出现“高性能”。以此类推，在更多key和更多value的应用场景中，选择逻辑也一致。
