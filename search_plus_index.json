{"./":{"url":"./","title":"SmartCMP 6.2","keywords":"","body":"SmartCMP 6.2发行说明 　　在SmartCMP 6.2版本中，我们隆重推出手机App！同时，不仅新增云网关，桌面云等功能，还为用户提供了更完善的费用分析，更细颗粒度的工单服务，更全面的运维管理。我们也在持续优化UI和产品的易用性，为您提供更好的使用体验。 　　SmartCMP 6.2版的详细新功能如下： 手机App登录各大应用市场 支持使用手机App登录SaaS平台。 支持登录后查看云资源概览、详情，配置信息和监控信息。 支持进行基本运维操作，例如启停主机等。 支持云网关 提供向导式安装指引，帮助用户选择安装云网关的主机，并快速完成安装操作。 支持网络中转节点的配置（平台通过网络中转节点与云网关进行通信）；可后台配置标签，用于标记不同的网络中转节点（如不同区域），用户在新增云网关的时候进行选择，自动匹配与之通信的中转节点。 支持通过云网关，访问和管理隔离网络的云平台控制器（例如vCenter）、制品库（Harbor，Nexus，DTR）、CI/CD工具（Jenkins）和备份系统（Veeam），转发管理请求。 支持通过云网关，实现转发云管平台管理隔离数据中心的云资源的请求，帮助监控代理获取隔离数据中心云资源的监控数据，进行远程访问控制，并能够查看相关的活动记录。 支持华为桌面云 支持华为桌面云，用户可创建资源池，纳管已有桌面虚拟机，并设置配额。 支持用户自助申请服务，新建桌面云并进行用户授权。 支持在关机状态下调整桌面虚拟机的CPU和内存资源。 优化LVM管理 支持启用LVM，使用磁盘或者LV创建文件系统。可在服务配置进行限定，或放开给用户进行申请。 除了系统盘，支持配置添加额外的数据盘。可在服务配置进行限定，或放开给用户进行申请。 支持在服务配置中，配置用户在添加磁盘或者创建文件系统时候，可以只读或者修改的参数，例如磁盘类型、vSphere置备模式等等。 在运维操作中，支持添加或者扩展磁盘，也支持添加或者扩展文件系统。 更完善的费用分析 支持内置及自定义添加新的费用类型，为不同的云资源类型关联计费项，在费用账单中进行匹配。 支持费用明细的功能，展示同步账单中的详细费用流水信息，范围包括平台已经纳管或者部署的云资源费用，以及尚未在平台中进行管理的。 支持添加或修改新的费用明细，同时能够修改或指定费用数据的组织架构信息、费用类型等信息。 支持费用下钻，用户能够从费用饼图中进入该过滤条件下的费用明细，查看详细流水信息。 优化工单服务 支持为流程的每一步配置表单，例如配置申请表单和处理表单，让申请者和IT填写不同字段。每一步的表单在请求详情中进行展现。 支持为手工工单设置流程关闭策略，开启自动关闭功能，并会向处理人发送通知。用户可以重新申请已关闭的工单。 支持配置紧急程度、影响程度和优先级的每个级别以及名称，同时配置优先级与紧急程度、影响程度的对应关系。 支持针对每个服务，配置SLA的不同策略。 更全面的运维管理 支持关联凭证和云主机，下次远程访问或运维操作时将自动选择关联的凭证，并能够批量改密和下发密钥。 支持事件管理，预先定义事件的触发条件（例如云资源部署完成、卸除之后，检测到IP冲突等等），触发任务，以及通知的角色和用户，使发生故障的资源触发自愈操作，无需人工干预，就能自动解决问题。 支持实例远程、批量执行脚本（从脚本库中选择脚本或者直接输入脚本），并显示执行脚本的日志。 优化产品体验易用性 支持根据场景灵活配置菜单栏，首次登陆时，平台按照平台管理员选择的角色进行菜单配置，分类提供需要的菜单。 提供配置向导，平台管理员可以参考向导中的场景和模块，熟悉平台使用方法。 支持可视化表单配置，用户可以通过拖拽的方式创建和编辑所需的表单，并保留了原有的Json配置方式。 更便捷的云资源部署和纳管 支持通过服务单台导入存量机器，或通过csv文件批量导入。 支持复制蓝图或服务，用户可快速创建并自定义配置。 支持从蓝图直接进行申请，部署云资源和软件。 支持快速发布服务，云组件无需发布成蓝图，可以直接应用到服务配置进行服务卡片的配置和发布。 其他功能优化 支持在IP分配方式选择IP池的情况下，允许用户在申请服务时，手工指定IP池中某一个地址。 支持使用虚拟机模板中的操作系统名称和类型作为可以使用的字段。 支持针对资源池中的存储资源设置存储标签，标识存储的类型或属性，用户在申请服务的时候可通过标签来指定存储。 支持使用云资源标签为云资源分类，进行筛选。管理员配置标签，用户从管理员配好的列表中进行选择。 支持一个服务关联多个组件，用户在申请服务的时候可以按需选择。 支持细颗粒度的服务申请字段的配置：针对每个服务的内置申请字段，管理员可以全局配置字段是否展示或者必填，或针对每个服务进行单独设置。 进行运维操作的时候（包括安装软件/安装监控/安装代理/执行脚本），平台将统一轮巡云主机的IP（优先级为：管理IP，公网IP，弹性或浮动IP，其他IP），记录下第一个能够访问的IP，下次操作时优先使用。 支持调整阿里云公网IP带宽。 支持阿里云弹性网卡ENI部署，绑定、解绑虚拟机。 支持修改阿里云RDS配置，包括实例类型和存储空间。 支持将流水线共享到指定的业务组和项目，同时能够授权角色。 支持对内置菜单的关闭、开启。 支持UI界面直接配置特定功能，例如，配置回收站保留时间和已删除资源展示时间，配置IP池冷却时间，配置需要隐藏的盘符和挂载点。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-02-22 10:04:14 "},"releaseNotes/6.1.0README.html":{"url":"releaseNotes/6.1.0README.html","title":"SmartCMP 6.1","keywords":"","body":"SmartCMP 6.1发行说明 在SmartCMP 6.1版本中，我们为用户带来全新的作业管理功能，并进一步丰富了多云管理，对阿里云、腾讯云、Azure、AWS、金山等公有云的支持更加广泛，以及支持通过Helm Chart包来管理应用部署和升级。同时，我们持续优化UI和产品的易用性，并提供更多的权限管控功能。 SmartCMP 6.1版的详细新功能如下： 增强流水线的功能，支持自定义更多类型的任务，以及丰富的参数和资源选择。 支持对云主机、数据库批量启停、执行脚本并查看结果。 新增流水线作业云资源运维任务，支持更新容器镜像。 新增支持流水线作业制品库解析任务，解析制品库中的软件制品包的地址，以获取最新的制品包。 支持更加灵活的参数和资源选择，提供3种方式：在任务配置时指定、执行时灵活选择、上下文传参（包括全局和任务参数）。 通过执行历史的详情可以了解该流水线作业的基本信息、全局变量、执行结果的状态，目标机器、执行结果日志等等信息。 完善脚本库，支持选择多种云资源类型，批量脚本执行，执行脚本时显示脚本的日志信息。 在统一的平台上规范管理适用于多种环境的脚本，直接新建、编辑和删除脚本，还支持快速查找新建好的脚本。 支持根据业务需要创建一些共享脚本，供授权的业务组和某类角色成员使用。 灵活地选择执行该脚本的云资源类型（云主机、数据库等等）。 脚本执行的详细历史记录，记录脚本运行的输出结果，方便事后核查和审计。 云平台对公有云的支持更加丰富。 阿里云：新增支持部署更多种类的阿里云资源，包括RDS，Redis，Kubernetes集群，镜像仓库，NAS。针对阿里云资源提供更丰富的云平台监控，无需安装监控代理。 腾讯云：支持EIP、对象存储、VPC等资源的部署；支持更全面的运维操作，如调整配置、数据盘调整磁盘大小、远程终端、WebSSH、修改云主机名称等；更完善的费用分析，如同步腾讯云账单、费用分析、报表；支持导入已有云资源。 Azure：支持Kubernetes Cluster和Redis组件。 AWS：支持部署EIP，绑定、解绑EC2；EC2调整配置；S3文件管理器（创建文件夹，上传、下载文件），创建接入点，设置访问权限。 金山：导入和同步已有云主机、EIP；部署EIP，绑定、解绑虚拟机；创建VPC和子网。 新增支持Helm Chart。 支持通过Chart包直接部署容器应用，以及更新Chart包，升级应用。 增强云平台监控告警的能力。 新增支持阿里云多个组件的监控，包括：RDS、Redis、SLB、ECS、OSS等。 通过云平台API读取监控指标数据，无需安装SmartCMP监控代理。 支持双因素认证。 支持场景：用户登录、运维操作、用户修改个人资料。 双因素认证开启后，支持对接的通知方式包括：短信，邮件，微信，钉钉。 新增支持对接安恒堡垒机。 工单服务的优化。 手工工单服务的通知支持更多的场景，包括服务团队接单，处理完成，用户关闭等等。 工单和服务申请时候支持上传多个附件。 持续优化产品UI、增强产品易用性。 服务部署、云主机、云资源和回收站列表重构。 在云主机、云资源列表能够直接申请对应的资源。 添加一个云平台后，可以在同一页面方便快捷地添加相关的基础设施资源配置。 服务部署详情能够看到初始参数和费用信息。 对服务部署和云资源可以配置第二所有者，单独配置授权，指定其对服务部署和云资源可进行的操作。 支持自定义二级菜单。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-02-22 10:04:14 "},"releaseNotes/6.0.0README.html":{"url":"releaseNotes/6.0.0README.html","title":"SmartCMP 6.0","keywords":"","body":"SmartCMP 6.0发行说明 SmartCMP 6.0版本完善了阿里公有云和专有云的管理，新增支持谷歌GCP等更多云平台，同时提供更全面的计费规则、资金账户的充值支付、SLA服务等级协议等新功能，为用户自助申请、购买云资源提供更加丰富多样的选择，并提供灵活的计量计费、变更运维、服务跟踪，简化云运营。 完善阿里公有云和专有云的管理，提供更多种类资源的开通，以及丰富的运维操作。 支持用户使用包年包月或按需的模式进行资源申请、变配和续约。 支持对象存储OSS文件管理器，进行文件夹管理，上传、下载文件。 支持负载均衡SLB监听器和成员的配置、管理，变更配置，修改带宽和实例类型。 支持弹性伸缩组ESS的管理，设置伸缩任务，自动触发弹性伸缩，查看伸缩活动；或手工添加成员，并能够设置成员的保护状态。 支持虚拟专有网络VPC和虚拟交换机vSwitch的创建、运维和回收。 支持创建自定义镜像，在申请云主机的时候选择镜像进行部署，快速生成新的应用环境。 新增支持谷歌云GCP，华为公有云和FusionCompute，对计算、存储和网络等资源进行生命周期管理。 提供更加灵活的计量计费 支持公有云的二次计费，设置转售系数、货币单位与汇率转换 支持对私有云各种云资源与服务，按照不同属性和申请方式（包年包月或按需）设置计费规则。 新增资金账户，对接支付网关，为用户提供充值功能。充值后的金额，在申请包年包月资源时会被扣除，以及自动抵按量计费产生的账单费用。用户可以通过收支明细查看详细的流水信息，进行多维度的筛选。 新增SLA服务等级协议，定义服务完成的时间。当SLA状态发生变化时，将会向相关服务团队发送通知，确保及时地追踪服务处理进度。 为用户提供凭证功能，管理自己的密钥或密码，在申请资源和变更操作时，选择凭证进行配置和访问。 新增堡垒机的会话管理、录像回放功能。 新增命名规范和授权配置模板，定义云资源的命名规范和用户的操作权限。可进行全局设置，或针对某些业务组单独配置。 优化云平台网关，内置为平台组件，提供可视化的生命周期管理。只需为每个数据中心、VPC或远程站点部署一个云平台网关，连接隔离网络环境中的云平台并管理其中资源。 全新的服务申请页面，提供类公有云的体验。 提供更加丰富的UI界面和菜单配置，灵活定义品牌、页面信息和配色展示。 页面加载更加流畅、快速。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"releaseNotes/5.5.0README.html":{"url":"releaseNotes/5.5.0README.html","title":"SmartCMP 5.5","keywords":"","body":"SmartCMP 5.5 发行说明 核心目标： 任意资源都是组件对象 完善监控告警组件 提供内嵌的堡垒机服务 加强第三方系统的对接能力 更好的支持云平台管理 新增组件库 内置丰富的组件库，以树形结构的分组目录显示各种类型（IaaS、PaaS、容器、软件、代理等等）资源 支持扩展“任意资源”，自定义添加任意组件和操作，自定义额外的属性、脚本、操作 支持Terraform自动化编排工具，使用Terraform来创建、修改、删除组件资源 完善监控告警组件 组件监控作为单独的页面，展示对应用的监控，自定义监控指标和监控的展示方式 扩展资源池功能 支持设置资源池标签，并在分配资源时按标签选择合适的一个或多个资源池 支持在分配资源时按平均分配原则选择合适的资源池 支持复制、启用、禁用资源池 扩展业务组管理 支持设置业务组的资源配额，以控制业务组资源的使用，支持一键启用/禁用，启用时，灵活设定资源的额度包括：CPU、内存、存储、虚机数量，实时展现资源使用率、资源已使用和剩余额度 预算配额：支持在业务组上设置费用额度，费用到达额度之后不能申请新的资源 业务组申请资源规范，业务组成员在服务目录申请资源时，设定申请云主机CPU和内存最大值，留空表示无限制 扩展服务申请 支持定制服务目录分组与服务的展示方式，根据需求选择标签页展示或层级展示 支持在服务申请时隐藏非必填字段，将非必要的参数（如标签、执行时间、备注）在配置服务卡片时选择隐藏 扩展运维操作：支持自定义云主机运维操作、云资源运维操作 扩展 DevOps 功能 增加定制的任务类型：堡垒机任务、Veeam备份任务、Veeam恢复任务 通过服务卡片直接执行任意任务（云资源任务、蓝图部署任务、脚本任务等等） 新增安全审计功能 基于Veeam的备份和恢复操作 支持接入内置的堡垒机，通过统一的Http请求对各种堡垒机进行调度 支持通过基于云平台、SSH和RDP的方式来打开云主机的远程终端 支持将资源池与配置好的堡垒机进行绑定，资源池部署的虚拟机将自动注册到配置好的的堡垒机中，卸除虚拟机则自动从堡垒机中取消注册 加强第三方系统的对接能力 支持接入第三方堡垒机系统，例如：Jumpserver、齐治、绿盟等等 支持接入第三方备份恢复管理平台 更好的支持云平台管理 基于抽象云组件新增支持SmartX、UCloud、FusionCompute UI优化 新增界面配置，为每个租户设置品牌和服务申请信息包括，配色、页眉、浏览器标签、登录页面、关于页面和是否显示帮助文档，以及调整服务目录的显示方式 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2020-08-06 15:34:15 "},"releaseNotes/5.2.0README.html":{"url":"releaseNotes/5.2.0README.html","title":"SmartCMP 5.2","keywords":"","body":"SmartCMP 5.2 发行说明 新增DevOps功能 提供流水线的构建，定义不同阶段与任务，完成新环境部署、软件升级等应用上线流程 支持流水线各个任务的之间的参数传递，例如将上一个任务新部署虚拟机的IP地址传给下一个任务进行调用 流水线的触发支持手工、定时、Jenkins触发、Webhook触发等 支持查看流水线的执行状态、输出信息 新增更加通用的第三方云平台对接方式 支持金山私有云和深信服超融合，对计算、存储、网络等资源进行全面管理 扩展资源池使用策略 支持在分配资源时按费用最低原则选择合适的资源池 扩展虚拟机模板管理 新增支持虚拟机模板的多种镜像来源（公共、市场、自定义） 扩展业务组的管理 支持在业务组上设置费用额度，费用到达额度之后不能申请新的资源 支持为业务组、项目设置图标 扩展命名规范 新增能设置统一的公网IP名称的命名规则。定义规则时，可选择平台定义的字段（如业务组、项目、服务名称等等），或输入自定义的字符。 支持动态数字序列，根据名称的变化自动从初始编号开始，例如Dev-App-01， Dev-App-02， Dev-Web-01 更加多样的通知方式 新增支持使用企业微信、钉钉进行消息、告警等通知 更加灵活的表单配置 支持自定义表单中指定的用户，能够设置访问资源的权限，以及能够作为审批员 支持使用自定义表单中的字段作为服务部署、云主机显示名等的命名规则 扩展服务目录管理 新增一个服务关联/发布到一个或多个业务组里，只有关联业务组的用户可以访问。 针对每个服务，支持指定可以申请该服务的角色 新增支持直接将已发布的蓝图发布为服务，用户申请时候选择和填写参数。 新增支持一个服务关联多个蓝图，用户在申请服务的时候可以按需选择。 UI优化 新增为每个租户设置界面不同的配色风格（亮色系，暗色系） Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2020-08-06 15:34:15 "},"releaseNotes/5.1.0README.html":{"url":"releaseNotes/5.1.0README.html","title":"SmartCMP 5.1","keywords":"","body":"SmartCMP 5.1发行说明 全新的UI设计 SmartCMP 5.1的界面进行了全新升级，UI更美观，信息布局更加合理，优化交互和用户体验。 全新的欢迎页界面：总览资源和服务状态 服务部署、云主机和云资源的列表界面：列表宽度可以调节，筛选项更丰富 服务部署、云主机和云资源的详情页面：关键配置信息和性能指标展示更丰富，布局更加合理 列表、标签页、搜索框的风格优化 新增自定义表单 提供全新的表单设计器，创建和配置自定义表单，为任意的服务定义参数和字段，满足任意服务的信息输入和展现需求； 支持自定义创建表单信息和布局。目前表单布局通过Json配置，采用流行的Json Schema Form，可以定义复杂的交互表单，支持和第三方系统交互获取数据。 支持将创建的表单与云资源部署服务或工单服务进行关联，用户按需申请服务，表单动态的渲染展现，用户输入所需要的信息； 审批员在审批过程中、服务团队在处理过程中，能够看到用户填写的表单内容。 全新流程引擎 SmartCMP 5.1提供全新的BPMN流程引擎，不仅可以添加串行、并行审批流程还可以通过可视化的流程设计器灵活地定制多样的流程； 服务流程：新的流程引擎可以灵活定义云资源自动化部署任务和人工任务，以及各个任务之间的流转方式。例如，可以创建一个服务部署流程，在云资源部署成功后，需要额外步骤进行人工操作。 审批子流程：可以灵活定义各种审批方式，包括多级审批、平行审批、条件审批等等。服务流程中可以选择任意审批子流程。 服务支持新增功能 云资源自动化部署服务： 支持一键部署Oracle RAC；支持一键部署Apache Flink。 工单服务： 支持事件处理流程，解决用户报告的IT资源相关的问题，例如：VM出现故障，数据库性能问题等。 自助服务新增功能 用户在申请服务的时候，可以看到预估的整体服务费用。 用户在申请服务的时候，能够对已填写参数进行保存，在下次申请的时候，可以重新加载，自动填充上次已经填写好的参数。 已部署虚拟机的自助管理：可设置定时循环任务，在指定的时间自动化执行操作，并能够查看定时任务，进行取消。 云平台管理新增功能 Azure：支持按需创建新的Azure安全组NSG，配置安全组规则；支持按需创建Azure资源组，以及资源组中的虚拟网络VNET，子网，以及诊断存储账户 Hyper-V：自动化部署Hyper-V虚拟机，支持通过IP池进行IP分配；支持为Hyper-V虚拟机创建和配置多个网卡；支持更多的Hyper-V虚拟机Day2运维操作，包括：调整配置，虚拟机或存储迁移，以及重置虚拟机的OS主机名。 青云：向青云公有云和私有云部署虚拟机，支持通过IP池进行IP地址分配。能够为青云公有云和私有云的虚拟机创建快照，从快照进行恢复，并对快照进行管理。支持远程终端连接青云私有云的虚拟机。 IP地址管理新增功能 支持IP地址池目录结构管理，可以创建多级目录，定义不同层级的网络环境和IP地址段，以树形结构进行展示。 支持IP池中设置主备DNS，网段路由信息，在给虚拟机分发IP地址的时候同时进行设置。 系统管理新增功能 菜单配置：支持接入第三方系统的页面，并可以配置菜单所处的位置，指定能够访问的角色。 解决的问题 以下内容是SmartCMP 5.1新版本中修复的部分缺陷 优化了SmartCMP英文版的菜单项，提示文字等。 在服务请求的记录中，能够看到服务任务的执行结果是成功还是失败。 优化了组件同步的逻辑，从而缩短了将更新组件同步到已发布服务的时间。 将申请资源扩容的工单申请关联到新版的流程引擎，允许业务组管理员在资源不够的时候提交工单申请。 解决了对vCenter进行迁移之后（例如从Windows迁移到Linux Appliance），SmartCMP中纳管的虚拟机状态不正常的问题。 解决了用户无法上传头像的问题。 解决了并行审批时，多人同时进行审批的并发问题。 解决了重新申请部署时，部分参数未重新加载的问题。 修复了业务组管理员对于费用统计和服务发布的权限问题。 修复了延长服务部署租期的时间显示问题。 修复了配置Hyper-V资源池时超时的问题。 已知问题 SmartCMP中青云资源池限制快照数最大为10，只能给每个青云的云主机最多创建10个快照。 SmartCMP中对青云虚拟机创建多个快照，如果删除一个快照，会同时删除这个快照创建之后的所有快照（与青云云平台的操作行为相同）。 申请OpenStack Windows虚拟机时，如果添加了额外数据盘并指定盘符，取消盘符后仍需要安装CMP代理。 发布OpenStack负载均衡服务时，负载均衡节点的数据加载较慢。 发布vSphere虚拟机与NSX网络虚拟化的共享服务时，有些NSX参数不能直接配置，需要申请时候进行修改。 如果设置了多条同步策略，导入相同的虚拟机，会出现重复的服务部署。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2020-08-06 15:34:15 "},"foundationConcepts/03基础架构/":{"url":"foundationConcepts/03基础架构/","title":"基础架构","keywords":"","body":"基础架构 通过基础架构，您可以统一管理多云异构环境的所有资源，包括私有云、公有云、x86裸金属服务器、网络虚拟化（SDN）、存储虚拟化（SDS）等不同类型。接入云平台之后，您可以通过资源池将计算、存储、网络等资源进行分配，指定给不同业务组使用。同时，您可以在SmartCMP中创建虚拟机模板和计算规格（即实例类型），将各个云平台的虚拟机模板（或操作系统镜像）以及计算规格（即实例类型）进行封装和抽象，实现统一管理和自动化调用。 云平台 您可以在SmartCMP中输入各云平台的访问信息，进行连接和纳管。例如，虚拟化管理控制器地址、用户名和密码，或者公有云访问密钥。下表列出了各个云平台入口需要输入的信息： 云平台类型 接入方式 vSphere vCenter Server VMware NSX NSX管理控制器 OpenStack OpenStack管理控制器 阿里云 阿里云云服务账号AccessKey AWS AWS云服务账号AccessKey 微软Azure Azure API访问凭证 腾讯云 腾讯云云服务账号AccessKey 青云 青云云服务账号AccessKey 资源池 在资源池中，您可以指定云平台中的一组资源对象做为资源入口，用于部署云主机或其他云资源。该资源对象可以是虚拟化平台中的计算机群集，或是公有云的区域。 通过资源池将计算、存储、网络等资源进行分类和指定，分配到不同的业务组，提供给业务组中的成员进行消费和使用。例如，您可以将vSphere群集中的不同数据存储（Datastore）和虚拟交换机分配到不同资源池，使得不同部门部署的资源使用不同的存储和网络；或指定公有云特定的区域、可用区和专有网络（VPC），使得通过该资源池部署的公有云服务都统一使用该可用区的资源，并通过该VPC与其他服务进行网络隔离。 下表列出了各个云平台资源池的资源入口配置： 云平台类型 资源池资源入口 vSphere vSphere群集 OpenStack OpenStack可用区 阿里云 阿里云区域，可用区以及VPC AWS AWS区域，可用区以及VPC 微软Azure Azure订阅ID，区域以及资源组 青云 青云云区域，可用区以及VPC 可为每个业务组关联一个或多个资源池（包括多个来自同一云平台的资源池）。同时，每个资源池可以分配给一个业务组使用，也可以分配给多个或全部业务组进行共享。 您可以在资源池中： 指定虚拟化平台的计算资源，或公有云的区域、可用区等信息； 设定可用使用的资源配额，包括CPU数量，内存数量，可以部署的云主机数量等等； 指定特定的存储资源、网络资源 手工导入云平台中的存量资源，或设置定时策略，自动同步云平台中的存量资源。 例如，您可以创建vSphere资源池： 指定纳管的vCenter中某个vSphere群集来提供计算资源； 设定该资源池的资源配额：CPU数量，内存数量，可以部署的云主机数量，允许的快照数量等等； 指定可使用的数据存储，并设定每个数据存储可使用的存储空间； 指定可使用的虚拟交换机，并设定IP地址分配方式。 虚拟机模板 您可以在SmartCMP中定义一个或多个的操作系统（例如CentOS）。操作系统是个逻辑概念，可为每个操作系统关联不同云平台中的模板或镜像（例如vCenter中的CentOS虚拟机模板，或阿里公有云中的CentOS镜像等）。操作系统和虚拟机模板将在服务配置的时候使用。 计算规格 计算规格定义了计算机CPU和内存的配置规范。在SmartCMP平台上，与操作系统类似，计算规格是个逻辑概念，您可以为每个计算规格关联不同云平台中的规格或实例类型（例如OpenStack\b平台中的规格，或AWS公有云中的实例类型等）。计算规格和云平台规格将在服务配置的时候使用。 通过操作系统和计算规格的抽象，您可以根据需要创建不同的操作系统，关联符合企业安全规范的虚拟机模板；同时创建不同的计算规格，指定特定的实例类型（例如已经购买的预留实例类型）。您可以在服务配置的时候指定操作系统和虚拟机模板，发布标准化的服务供用户进行申请。 IP地址管理 您可以创建和管理IP池，从而在部署云资源的时候自动化分配IP地址。IP池能够支持多云的异构环境，例如创建一个IP池，同时分配给vSphere和OpenStack平台使用。 通过IP地址管理，您可以查看IP地址的使用情况、历史日志，并且能够手动占用、释放IP地址。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"foundationConcepts/02组织架构/":{"url":"foundationConcepts/02组织架构/","title":"组织架构","keywords":"","body":"组织架构 业务组是平台内的逻辑组织结构，支持创建多级业务组。业务组是一个逻辑概念，有需要把用户、服务、资源使用以及流程、规范等联系在一起的实体都可以用业务组来对应，比如子公司，不同层级的部门等。 业务组可以创建一个或多个项目。项目内的用户成员只能来源于项目所在业务组的成员，项目成员可以共享使用项目中的云资源。 业务组与项目 您可以创建不同的组织架构，包括业务组和项目。 业务组 业务组是逻辑组织结构，可为企业的部门、机构或者事业部创建对应的业务组。支持平台管理员创建多级业务组，关联到业务组的用户可以使用该业务组中的资源和服务。 可以为每个业务组配置独立的规则，流程和资源： 可为每个业务组关联一个或多个资源池。 可为每个业务组关联用户。 可为每个业务组设置不同的审批流程，操作许可，云资源使用租期，云资源命名规范等。 项目 在SmartCMP中，一个项目内的云资源对本项目中的所有成员可见，对其它项目的所有成员不可见。 一个项目可从属于某个业务组或者多个业务组，可以包含多个用户。一个用户可以加入多个项目。 角色 角色由一组可与用户关联的权限组成，用于确定该用户在SmartCMP中可以管理、配置和使用的功能。基于个人的职责，每个用户可关联一个或多个角色，所具备的权限将是这些角色的叠加。 在SmartCMP部署完成之后，默认提供以下角色： 角色概览 您可根据需要创建自定义的角色，关联到所需的用户。 平台管理员 通常为负责整体架构的管理员。平台管理员会根据其内部组织需求来配置SmartCMP，负责流程和策略配置、组织架构配置，用户和权限配置等等。 主要职责： 创建和管理用户、角色，为用户分配角色和权限，创建服务团队 创建和管理业务组，为各业务组指定业务组管理员。 创建和管理服务流程和审批流程。 进行系统配置，包括目录服务信息、邮件系统信息、仪表盘和报表的访问权限，等等。 软件架构师 通常负责设计软件和应用的架构，可以管理和配置组件和蓝图。 主要职责： 创建和管理软件组件。 创建和修改蓝图，根据业务需要，进行建模，定义蓝图中包含的组件，包括基础架构组件、软件组件。 发布蓝图。 对需要下架的蓝图进行取消发布和删除。 基础设施管理员 基础设施管理员拥有所有基础设施资源的配置权限。 主要职责： 接入云平台 资源池创建与分配，纳管云平台存量云资源 配置和管理云平台的虚拟机模板（即操作系统镜像），计算规格（即实例类型） 管理IP地址池 根据软件架构师发布的蓝图，配置和发布服务。 管理目录服务。 分析资源使用，回收到期资源。 业务组角色概览 业务组范围上的角色具有该特定业务组的相应职责，不会影响其他业务组。 业务组管理员 管理业务组内的所有用户和资源。 主要职责： 为业务组添加用户并关联角色。 配置云资源的使用租期，命名规范等策略。 配置业务组云资源操作许可和服务部署操作许可，指定用户可以进行的操作（例如开关机，添加磁盘，调整配置等等）以及需要的审批流程。 创建项目，指定项目管理员。 监控业务组中的资源使用情况。如果资源紧缺，可申请资源扩容。 业务组成员 业务组中的所有用户均可以请求发布到该业务组的服务（包括共享给所有业务组的服务）。用户可以申请服务，创建部署云资源。 主要职责： 自助申请所需的服务。 查看所拥有云资源的配置、监控信息等，进行自助运维操作（所能够进行的操作权限由业务组关联配置）。 自助设置对所拥有的云资源的告警。 项目角色概览 项目范围上的角色具有该特定项目的相应职责，不会影响其他项目。 项目管理员 管理一个或多个项目，通常是项目经理。 主要职责： 为项目添加用户并关联角色。 查看项目所拥有的云资源。 项目成员 项目成员同时也是该项目所属业务组的成员，因此可以申请发布到该业务组的服务，并能够查看资源，进行操作。同时，同一个项目的所有成员均可以查看该项目中的资源。 服务团队 服务团队是工单服务管理过程中处理工单任务的服务人员集合。平台管理员可以创建一个或多个服务团队，并向每个服务团队指派成员。 主要职责： 当用户通过服务目录申请需要人工介入的手工工单服务之后，根据预先配置的服务流程，相应的服务团队将接到工单进行处理。 服务团队中的人员接到工单之后，可以进行转派，也可以进行线下处理，在完成任务之后更新工单状态，将工单返回给申请用户进行确认和关闭。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-02-23 14:41:34 "},"foundationConcepts/04服务模型/":{"url":"foundationConcepts/04服务模型/","title":"服务建模","keywords":"","body":"服务模型 在SmartCMP中，服务分为两种类型： 云资源蓝图服务：是指各云平台资源的申请和自动化部署。这些服务可以是基础设施服务（例如虚拟机，防火墙，DNS等等），应用服务（例如数据库，或是包含网络负载均衡、Web组件和数据库在内的整体应用等等）。 手工工单服务：即非标准化、需要人工进行介入和支持的服务，包括服务请求，事件处理等等。例如，用户忘记密码需要进行重置，或是提交一个开通邮箱或账户的请求，或是遇到IT服务的问题需要解决（服务器、打印机或网络不能访问等等）。用户可通过服务目录发起工单请求服务，服务团队收到请求，进行工单处理。 下图描述了组件、蓝图、服务和部署之间的逻辑联系。组件包括软件组件和基础架构组件，软件架构师构建应用的拓扑结构图并为服务配置资源和参数，将服务卡片发布到服务目录。业务组成员在服务目录中根据实际需求进行自助申请，服务按照策略和规范自动组合，完成自动化部署交付。 组件 任意资源都是组件对象，无论是软件、基础设施还是容器资源，不同类型的云资源都是组件对象，都可以组件化。组件的定义采用面向对象的设计方法，使用统一的数据结构进行建模，并将配置属性标准化。不仅内置丰富的组件资源和常用的操作，还拥有高度可扩展的能力，根据用户需求灵活自定义添加组件资源和配置运维操作。 丰富的组件库:开箱即用的组件资源。SmartCMP云管平台内置大量常用的组件资源，包括IaaS（不同云平台的云主机、网络、存储等等）、PaaS（RDS）、容器（Kubernetes、Docker）、软件(MySQL、Oracle、Nginx等等)、代理（监控代理），不同类型资源在统一的界面进行创建和管理，采用树形结构的分组目录，支持自定义组件分组，支持二次编辑、快速复制、导入、导出组件。 「Note」详细的创建和管理步骤请参考：组件库 　自定义组件:用户根据需求创建可重用的组件，将任意资源组件化以及将配置组件的过程标准化，包括定义资源类型，定义版本，定义属性，定义组件的操作等等，并且所有的配置界面都开放给用户自定义。例如：DBA在创建数据库集群时，需要部署Oracle数据库，DBA可根据需求在组件库添加Oracle组件，配置组件，包括配置组件概况、使用说明、属性、脚本、操作（指定数据库的创建、启动、停止、重启、删除等等操作） 「Note」自定义组件的详细步骤请参考：创建组件 组件构建蓝图 组件是构成蓝图的基本单元。SmartCMP中构成蓝图的组件主要包含两种类型： 基础设施组件：包括计算组件（例如，虚拟机、容器等），网络组件（例如，负载均衡、安全组、防火墙等），存储组件（例如，磁盘、对象存储等）。这些组件是SmartCMP内置的，在蓝图设计时候可以进行选择。 软件组件：用于应用软件的安装，包括中间件、关系型数据库、非关系型数据库等等。您可以将配置属性标准化，并使用脚本来指定在软件部署的过程中如何安装、配置、卸载或更新组件（您也可以自定义您所需要的其他操作）。软件架构师可以通过软件组件管理界面创建自定义的组件，更新已有组件，或者删除已经下架的组件。在蓝图设计时，软件组件可与基础设施组件一起使用。 「Note」SmartCMP内置大量常用的组件，当自定义添加的基础设施组件或软件组件，添加组件时选择实例化，在蓝图设计时也可进行选择。 面向对象的设计 组件的设计，采用面向对象思想设计的结构，面向对象具有封装、继承和多态三大特性。继承可以使得子类别具有父类别的各种属性和方法，而不需要再次编写相同的代码。在令子类别继承父类别的同时，可以重新定义某些属性，并重写某些方法，即覆盖父类别的原有属性和方法，使其获得与父类别不同的功能。 操作和属性可继承。系统内置组件的启动、停止、重启、删除、刷新操作。（以刷新操作为例，系统提前配置完成，组件刷新操作所使用的实现方式、脚本、任务和刷新必须的参数。）内置的操作可应用于平台上的任意资源。因此，在创建组件Oracle时，将自动继承内置的“启动、停止、重启、删除、刷新”操作。当选择组件类型Software，则创建的Oracle组件具有父类软件组件的各种属性，也可以通过自定义属性，使其获得与父类不同的功能。需要注意的是自定义添加的属性键值和父组件中的属性键值不能相同，否则将覆盖父组件中的属性定义。也可以通过创建新文件添加脚本文件，脚本文件将用于对组件进行扩展。例如：自定义组件Oracle的install.sh脚本将与“创建操作”进行关联。 封装指隐藏复杂操作的实现细节，仅对外提供公共的访问方式。平台将复杂的操作内置，开箱即用，降低差异性和理解难度。例如：“调整虚机配置”操作(调整虚拟机的计算规格和云平台规格)，同一个“调整虚机配置”操作当云平台类型不同时，SmartCMP云管平台隐藏资源操作的流转细节，只暴露公共的访问接口。例如：“调整虚机配置”操作应用在Hyper -V平台的虚拟机和OpenStack平台的虚拟机上，具体的技术实现方式不同，但是用户配置界面，显示相同内容。 多态指同一个操作，由于传入的参数不同产生差异化效果。例如：当创建组件Oracle时，不同应用系统对Oracle的部署需求和参数控制都会有特定的需求和自定义要求。“属性”可以按照不同系统的部署要求，通过设置自定义属性，将应用组件需要填写的配置参数暴露在界面配置上，传递自定义参数。当自动化部署Oracle时，SmartCMP云管理平台会自动化调用相关参数执行应用的安装配置，达到不同数据集群对Oracle部署的不同要求。 蓝图 蓝图是包含计算、存储、网络、软件等资源在内的整体应用的完整规范，用于确定各种资源的的属性与依赖关系、工作流和执行策略。您可以通过可视化画布进行蓝图设计，将一个或多个组件进行组合，从而创建标准化的服务框架。蓝图发布之后，可用于创建服务。 蓝图可以是多种形式，例如，一个蓝图可以包含： 一个网络组件和一个虚拟机组件 一个防火墙组件，或是一个公有云关系型数据库组件 多层次的应用架构，例如：网络负载均衡，Web应用，和数据库 多个云平台组件的混合编排，例如Web应用部署在阿里云，数据库在vSphere私有云；或是Web应用在Kubernetes容器，数据库在OpenStack私有云。 流程 流程定义了自动化过程当中每一步的活动或任务执行的顺序与策略。 SmartCMP中的流程分为以下三种类型。每种类型都包含内置的流程，可以直接使用。这些内置的流程不能修改或删除。您也可以通过可视化的流程设计器，自定义需要的流程。 云资源蓝图流程：定义云资源自动化部署的流程，包括标准云服务部署内置流程。 手工工单流程：定义工单服务每一步的任务和流转方式，包括标准手工工单，标准事件管理等内置流程。 审批流程：用于控制用户申请服务、或针对云资源进行运维操作时，是否需要获得组织中某人或者某些人的批准才能进行。 表单 当用户请求服务目录中的服务时，您创建和发布的每个服务都会显示一个表单。在创建或配置每个服务时，您可以使用默认表单；如果您需要修改或添加额外的字段信息供用户在申请时候填写，您可以通过表单设计器，自定义表单。 服务分组 服务分组用于将不同的服务组织到相关类型中，使用户可以更方便地浏览所需的服务。例如：基础设施服务，数据库服务，工单服务等等。您可以根据需要创建新的分组，将需要发布的服务进行归类展示。 服务发布 平台管理员可将已经发布的蓝图和流程，根据不同的组织或部门需求进行配置，发布成为服务目录中的服务。一个服务可以发布到某个业务组，这样只有该业务组的成员才能进行申请；也可以发布到所有业务组，共享给所有成员进行申请。 在服务配置的过程中： 针对云资源部署服务，您可以指定部署的完整规范，例如虚拟机配置（所需的虚拟机模板，计算规格大小，磁盘配置等等），租期，操作许可，审批流程，服务流程，自定义表单等等； 针对工单服务，您可以指定每一步任务处理的服务团队，审批流程，服务流程，自定义表单等等。 服务的租期 租期包括租用时间，保留时间以及回收站回收时间： 当租用时间到期之后，服务部署中的所有计算资源将会被关机； 当保留时间到期之后，该服务部署将会被放置到回收站； 在回收站中，您可以还原，或进行手动删除（将从云平台中彻底释放这些资源）。如不进行任何操作，资源将在回收时间到期后，自动删除（将从云平台中彻底释放这些资源）。 服务的审批流程 审批流程可在业务组和服务配置处分别进行设置： 业务组配置的审批流程将对该业务组所有的服务生效； 如果某个服务单独配置了审批流程，该流程将生效，不再使用业务组配置的审批流程；如果服务没有配置，则使用业务组配置的审批流程。 服务部署 用户申请云资源服务之后，经过审批（如果配置了审批流程），SmartCMP将根据服务配置的策略与规范自动化进行部署，完成之后，交付给用户进行使用。 服务部署是指用户所申请服务包含的的所有云资源，例如一台虚拟机，一个数据库，或是一个多层次架构的应用环境。用户可在配置的服务租期内，使用该服务部署的所有资源，并能够根据管理员配置的操作许可，自助进行运维或变更操作。 命名规范模板 通过规范模板定义服务部署和云资源的命名规则，在全局进行一次配置，所有业务组默认使用，不同的业务组还可以按需单独选择配置，覆盖全局设置。 命名规则模板规范了服务部署及其所包含云资源的名称，包括服务部署名称、云主机显示名称、以及Windows或Linux操作系统主机名（Hostname）。为了保证命名的唯一性，您可以在规则中加入命名后缀。 命名后缀可以是自定义长度的数字序列或者自定义长度的随机字符串。您可以为数字序列指定初始化序列号，例如，您可以创建一个长度为3、初始化序列号为1的命名后缀，如果指定业务组名加上此后缀为云主机名称的命名规则，则针对Dev业务组部署出来的云主机名称将依次为Dev001、Dev002等。 授权配置模板 通过授权配置模板定义用户对服务部署和云资源的可以进行的操作，同时操作可以配置审批流程，可以将一套授权配置模板应用于所有的业务组，也可以允许不同的业务组单独关联授权配置模板。 其中，操作许可指授权给用户可以针对服务部署或是云资源执行的变更或运维操作。您可以禁用或启用某些操作，以及针对启用的操作设置审批流程。操作许可分为两种类型： 服务部署操作针是指针对服务部署级别的操作，包括延长服务部署的租期，更改服务部署所属的业务组、项目、所有者等等； 云资源操作许针对云主机或其他云资源，包括开关机，远程连接，添加磁盘，迁移等等。 可在统一的授权配置界面，创建多套符合使用场景的操作许可模板： 在系统配置界面，为所有的业务组配置一个授权配置模板，所有的业务组将默认使用； 每个业务组单独配置的操作许可，将对该业务组所有的服务部署和云资源生效； Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"foundationConcepts/05作业管理/":{"url":"foundationConcepts/05作业管理/","title":"作业管理","keywords":"","body":"作业管理 作业管理概念描述 平台运用流程化、自动化的理念将零碎的单个任务组装成一个自动化的流水线作业。每个阶段和任务可以做为一个原子节点，进行灵活的配置，并且提供丰富多样的触发机制，结合权限管控和详细的结构展示，满足用户复杂多样的业务使用场景。 同时，自动化流水线可以与平台的脚本库功能结合使用，支持复杂的运维操作自动化、应用集成与发布自动化的场景，例如：服务部署+运维一体化流程式管理；制品库解析+应用自助更新；数据库SQL自动化运维等等。 作业管理应用场景 应用集成与发布自动化 平台的集成与发布功能为企业提供持续集成的敏捷软件开发，以 IT 自动化以及持续集成（CI）、持续部署（CD）为基础，来优化产品开发(DEV)、测试(QA)、系统运维(OPS)等所有环节。软件行业日益清晰地认识到，为了持续、高效、可靠地交付软件产品和服务，开发部门和运维部门必须紧密合作，通过自动化的工具协作和沟通来完成软件的生命周期管理。核心的使用场景包括： 通过设置各阶段和任务来自动化应用软件的打包、环境部署、自动化测试等，配置出适合开发团队特点的持续发布、持续部署的自动化流水线作业。平台应用发布流水线作业能够与 Jenkins, Git, Nexus等持续集成工具无缝协作，实现整个应用部署，应用升级的自动化，完成从开发、测试到生产的持续交付与部署。 基于蓝图，实现每一个应用拓扑蓝图的自动化部署，并让平台根据策略自动化触发流水线、执行发布，测试、制品管理和自动化部署。支持部署任意应用到任意云，打通开发，测试，生产各个环境。 使用经过验证的架构、程序和部署工具，在生产环境自动上线或更新应用，确保跨云部署和变更的一致性，降低部署和运维风险。 部署自动化通过以应用程序为中心的角度集成整个工具链（自动化完成软件开发项目过程中包括持续构建、应用配置、制品归档、资源部署、监控运维等各个环节）、管理并可视化整个流水线的候选版本部署，快速获取正确的制品部署到相应的环境，从而构建了Dev和Ops之间的桥梁。 研发和测试人员通过平台服务目录自助申请云资源或服务，减少开发和运维之间协作的时间损耗，使团队整体更加高效地协同工作、迭代功能、发布产品。 运维自动化 平台自动化运维功能真正地面向企业运维部门，依托高度可定制地脚本、流水线作业的阶段和任务，提供对任意云资源的运维批量操作，重复执行能力，可满足企业几乎一切自动化运维需求。 具体包括：对虚拟机（或任意云云组件，如：VM、网络、数据库、中间件等）的单个脚本执行或批量脚本执行；提供流水线作业执行，能够编排多个脚本、或脚本与文件分发、或脚本与组件安装的顺序和参数传递；对脚本执行、作业执行的定时操作；可以配置服务部署完成后的后置操作，即完成对应的脚本执行或作业执行，例如，云主机部署成功之后，进行云主机的批量启停操作；所有类型的运维操作，均有历史记录，记录着详细的信息，方便事后核查和审计。 脚本库 脚本：指可以运行在终端的工具或命令，平台支持包括 Shell、Perl、Bat、PowerShell、Python、SQL 等类型脚本。 脚本库：管理员将海量的脚本进行统一的创建和管理，支持根据业务需要创建一些共享脚本，供授权的业务组某类角色成员，在任意场景下直接引用。 在统一的平台界面上规范地管理适用于多种环境的脚本。支持直接新建、编辑和删除脚本，还支持快速查找新建好的脚本，将脚本共享给指定的业务组和角色使用。 同时，可以灵活地选择适应该脚本的云资源类型（如：云主机、数据库、中间件、网络、存储等等）。例如：创建MySQLCheck脚本来检查数据库参数，可以指定该脚本执行的云资源类型为 Software下的 RDS和 PaaS类型下的RDS，脚本执行完成后，可以在执行历史中可查看脚本执行的的详细日志信息。 流水线作业 平台自动化流水线创建自动的、可重复利用、安全合规的应用交付流程，自定义配置构建、部署、测试端到端的流程治理和控制。 流水线实现了自动化发布、跨不同环境和阶段部署、全生命周期部署和发布管理。 无论是流水线的定义，还是流水线的执行，都提供了友好的交互界面，通过简单实践即可掌握流水线的配置，流水线运行过程中也可直观感受流水线的处理过程。 流水线由一系列阶段构成，每个阶段由软件在发布到生产之前必须完成的多个任务和环境组成，描述了为了获得预期结果需要执行的操作。 流水线在包含一个或多个并行或串行任务的连续阶段中构建。 整个流水线的定义方式如下： 新增流水线，绑定一个项目，则流水线供项目成员调用，并可添加全局参数，在后期任务中进行调用。 自定义流水线的触发条件，触发器定义何时自动运行流水线，可以手动触发流水线任务，也可以设定策略由触发器自动触发流水线任务，实现灵活的流水线触发条件。触发器类型包括： Jenkins触发；Webhook集成（支持Git，Gitlab等代码仓库改变触发）；手工触发；定时触发。 根据业务需要定义阶段和任务。 阶段 阶段是一组将并行或串行的任务组成，当前阶段任务满足规则并执行完成时，被提升到流水线中的下一个阶段。 平台流水线支持多种阶段和任务的自定义和组装，能够在阶段中添加任意数量的执行任务，通过它们已经可以设计出各种场景适用的开发、部署、运维流水线，同时基于平台的二次开发能力，可以扩展更多个性化的场景需求。 阶段分为多种类型，包括 代码编译阶段：构建二进制文件。 单元测试阶段：运行所有单元测试并分析代码质量，例如：开发，功能测试，用户验收测试（UAT），负载测试（LT），系统集成测试（SIT）。 打包阶段：构建最终的程序包，虚拟机镜像或Docker镜像。 可以在阶段任务的执行过程中定义输入输出的参数、执行时间，实现在指定条件下启用该阶段。 例如，可定义软件打包、部署测试环境等不同的阶段。每个阶段的任务类型包括：Jenkins Job 任务、部署新应用任务、云资源变更任务、脚本执行任务等等。 流水线执行之后，用户可以查看每个阶段和任务的执行状态，以及输出信息。 任务 每个阶段的任务即软件开发过程中的活动或作业，这些活动可以是获取制品、自动部署，运行单元测试，创建任务、运行自定义工作流或脚本等等。 流水线的发布者可以定义每个任务的输入、输出参数，在后续的任务中进行调用。平台还能支持多种类型的流水线任务地定义，包括： 等待任务，定义间隔时间，在执行时等待。在输入参数处填写等待时间（s）。 蓝图部署任务，在作业执行时部署新的云资源，在输入参数处填写服务（服务目录中发布的服务）和模板。 Jenkins任务，执行Jenkins上已有的Job，配置Jenkins的端点和Job，自定义构建软件包。 选择云资源运维任务，对指定的云资源执行运维操作，例如启停、快速执行脚本、添加白名单等。 制品库解析任务，解析二进制制品库中的软件制品包版本。 例如，通过一个蓝图部署任务，支持将任意新应用部署到windows、linux、k8s容器等各种丰富的运行环境，即可以自动化触发一个已发布的云资源服务，进行云资源的部署；而云资源任务则可以自动化进行云资源变更、运维操作，进行应用软件的升级、更新。 触发器 自定义流水线的触发条件，触发器定义何时自动运行流水线，可以手动触发流水线任务，也可以设定策略由触发器自动触发流水线任务。平台触发器类型包括：Webhook集成(支持Git，Gitlab等代码仓库改变触发)、Jenkins触发、定时触发、手工触发等等。 CI/CD工具链 平台能够集成丰富的CI/CD工具链，为应用软件提供代码管理、持续构建、制品管理、部署、监控运维等等多种功能，并提供开放的API。所有功能基于全面的集成框架，囊括主流的软件工具：GitLab、GitHub、Jenkins、Maven、Ansible、Puppet、Chef、Nexus、Kafka等等，实现开发人员更高效的代码管理，运维人员更低风险的变更应用程序，提升应用程序质量降低部署功能的风险。 制品库 制品即构建过程的输出物，包括软件包，测试报告，应用配置文件等可在服务器上直接运行或可查看二进制形式的文件，通常称之为二进制软件制品。 制品管理是对软件研发过程中生成的产物的管理， 一般作为最终交付物完成发布和交付。所有的制品包，依赖组件均能够纳入制品库中统一管理。制品库应作为测试及生产部署的唯一可信制品来源。 不同开发语言 所产生的制品的获取、使用、共享方式不同，不同的制品仓库能够管理各自开发语言类型的二进制制品。 平台将领先的二进制制品管理仓库Nexus嵌入到代码流中。 开发组织通常会为每个项目建立制品管理系统，以实现更加简单、方便地获取制品，并实现在网络上传输大型制品的良好性能。 尽管开发人员使用不同类型的代码开发构建工具、测试人员使用不同类型的测试工具，但是软件制品管理系统指定了仓库类型和制品位置，并处理获取最新和正确制品的所有复杂性，降低创建自动化发布流水线的复杂性，快速地获得正确的制品提高部署效率。 入口 入口可以添加需要连接的持续集成系统，例如Jenkins。Jenkins是一个开源的、提供友好操作界面的持续集成(CI)工具，主要用于持续、自动的构建/测试软件项目。Jenkins通常与版本管理工具、构建工具结合使用，常用的版本控制工具有SVN、Git，构建工具有Maven、Ant、Gradle。 平台集成Jenkins工具，帮助用户高效地构建代码，自动测试，致力于打造虚拟化、容器、多云等环境下，适应复杂业务场景地应用持续集成(CI)。下图展示了应用持续集成过程中，Jenkins能发挥的作用。 执行历史 通过执行历史的详情可以了解在平台执行过的脚本、流水线作业，以及所有的脚本执行的基本信息、全局变量、执行结果的状态，目标机器和执行的结果日志。 在历史详情将显示任务的编排，如果任务执行成功，需要显示为绿色，失败为红色。脚本执行针对的云资源的也需要显示执行的结果，成功/失败。云资源中可以查看云主机的名称，IP，状态，点击显示执行结果，支持快速搜索云资源，也可用状态进行过滤。 下图展现了一个复杂的流水线的执行过程： Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/01快速上手/":{"url":"AdminDoc/01快速上手/","title":"快速上手","keywords":"","body":"快速上手 欢迎阅读SmartCMP云管理平台的快速上手文档，了解如何快速管理您的多云环境，部署云资源，并进行生命周期管理。 SmartCMP简介 SmartCMP是业内领先的云管理平台，提供各行业企业客户一站式的多云管理能力，包括多云统一管理、面向业务部门的自服务、服务编排和自动化、完善的人员/组织和权限控制管理、策略驱动资源分配、云资源的成本分析和优化、全面的监控告警与自动化运维等云管理服务。通过一套平台，您可以完成云管理的方方面面，持续提升IT敏捷性和效率。 多云统一管理：您可以通过SmartCMP平台统一管理包括阿里云、腾讯云、AWS、Azure、金山云、华为云等公有云，VMware，OpenStack等私有云，Kubernetes容器云，并支持快速导入并管理存量虚拟机。 面向业务部门的自服务：业务部门的用户，在不需要学习专业云知识的情况下，以服务的形式进行各种云资源的申请。平台会根据策略进行资源的选择，分配，创建等过程。 跨云服务编排和自动化：平台采用创新的可视化蓝图编辑框架，将应用系统复杂的资源依赖关系和架构描述通过图形化的方式进行设计，从而实现强大的云服务编排能力和基础设施即代码（IaC）的能力。云服务蓝图一次设计多次部署，极大加速业务系统的上线速度。 人员、组织和权限控制：用户可以通过策略驱动访问权限，细粒度的角色和权限管理，资源配额，费用配额等，实现控制资源与服务的访问、申请以及规范。 成本分析和优化：云资源动态计费、账单同步及分摊，定位闲置资源及时调整分配策略。 多云统一的监控告警：监控不同云平台的云资源和软件运行状况，并进行统一的展现和告警。用户可以基于监控告警去自定义告警触发后操作，支持多种告警通知方式，包括系统通知、钉钉、短信、微信、邮件等。 SmartCMP支持自动化部署的云资源类型 由于各个云平台的差异，SmartCMP云管平台对于各个云平台所支持的资源类型有所不同。下表列出了目前SmartCMP对于各个云平台能够支持的云资源部署类型（Y表示支持，空白表示暂不支持）。 分类 云资源类型 公有云 私有云 阿里云 Azure AWS 华为云 腾讯云 金山云 青云 GCP UCloud vSphere+NSX OpenStack 计算 虚拟机 Y Y Y Y Y Y Y Y Y Y Y 弹性伸缩组 Y 存储 磁盘 Y Y Y Y Y Y Y Y Y 对象存储 Y Y Y Y 文件共享存储NAS Y 网络 公网IP Y Y Y 弹性公网IP或浮动IP Y Y Y Y Y Y 安全组 Y Y Y Y Y Y Y Y Y Y Y 防火墙 Y Y 虚拟网络VPC Y Y Y Y Y Y 虚拟交换机或者子网 Y Y Y Y 负载均衡器 Y Y Y Y Y 路由器 Y Y Edge Network Y 域名DNS Y 数据库 关系型数据库RDS Y Y Y Y Redis Y Y Y 容器 Kubernetes群集 Y Y SmartCMP快速配置和使用步骤 通过如下一些简单的步骤，您可以快速开始管理和部署云资源： 登录平台，查看主页。 导入或者创建部署云资源： 导入云主机:当您在主流公有云，私有云（例如阿里云，腾讯云，AWS, Azure, vSphere等）上已部署云资源，并需要导入至SmartCMP进行纳管，您可以进行以下操作： 配置云平台入口，管理云账号。 创建资源池，导入云主机。 导入存量机器：当您有物理机需要管理，或者在SmartCMP暂未支持的云平台上已部署云资源，并需要导入至SmartCMP进行纳管，您可以进行以下操作： 创建Hostpool资源池，导入存量机器。 您也可以通过SmartCMP创建部署云资源： 配置云平台入口，管理云账号。 创建资源池，指定资源使用和配额。 配置虚拟机模板，管理各个云平台的模板或镜像（可选）。 配置计算规格，管理各个云平台的规格或实例类型（可选）。 添加IP池，定义可用的IP地址范围（可选）。 定义业务组，关联用户、资源池，配置审批流程、部署规范等。 申请部署云资源。 「Note」 1. 若您需要连接并管理隔离网络环境的云平台，您可以在配置云平台入口时关联云网关。2. 若您需要对隔离网络环境中云资源进行操作，包括需要远程访问云主机，转发云管平台管理隔离数据中心的云资源的请求，获取云资源的监控数据（云资源需要能够访问公网）等，您可以在创建资源池时关联云网关。 当您已经导入或者通过SmartCMP部署了云资源，可以进行以下云资源管理的操作： 自助运维，管理云资源，查看监控信息，进行自助运维操作。 配置堡垒机（可选）。 「Note」 若您需要通过云网关连接云主机，可直接关联云网关与资源池，对隔离网络环境中的云资源进行运维操作，并从已安装监控代理的云资源获取监控数据；若需要通过公网IP连接云主机，安装平台的监控代理，或进行运维操作，请针对平台的IP地址139.224.11.192设置一定的访问权限，包括允许SSH或WinRM，以及访问监控端口（Linux机器默认为9100，Windows机器9182）。 登录平台 您可以免费注册，注册成功后登录SmartCMP云管平台。 浏览器输入平台的域名地址。 可使用手机号或邮箱进行登录。 登录平台之后，主页将展示您拥有的云资源信息和工单处理情况，从其他页面可以点击右上角的主页按钮返回到此页面。如果需要修改您的用户头像，可以点击页面导航栏右上角的用户图标，进入编辑资料。 左侧是各级菜单，您可以参考以下步骤快速配置平台，管理和部署您的云资源。如果需要熟悉平台页面，请参考页面导航 配置云平台入口 云平台入口定义了您需要管理的公有云、私有云、容器等云基础设施的接入方式。不同云基础设施账号的形式及获取方式各有不同，您可以通过填写对应的访问信息完成云平台基础设施的接入。 添加vSphere云平台 为了管理vSphere虚拟化平台内的资源，您需要将vCenter连入到平台。请提供vCenter地址、管理员用户名和密码等信息来进行访问。如果您需要连接vCenter，并想要创建或查看云资源信息，请安装配置云网关，具体操作步骤请参考云网关管理。 　1.进入 基础设施 - 云平台管理 ，选择 vSphere ，点击添加。 　2.输入所需参数(请根据自己的真实环境输入相关参数，示例只给出参考)。 参数名称 描述 示例 云名称 vSphere云平台名称 vSphere数据中心A 用户名 vCenter管理员用户名 administrator@vsphere.local 密码 vCenter管理员密码 ** 地址 vCenter IP地址 192.168.xx.xx 端口 API端口 443 数据中心 数据中心所在地 上海 关联VMware NSX云平台 NSX云平台（需先添加VMware平台） 选择对应的NSX云平台名称 云网关 已安装的云网关 选择对应的云网关名称 　3.点击验证，验证连接vSphere虚拟化平台。 　4.验证成功后点击保存，vSphere虚拟化平台连接成功。 添加阿里云平台 当接入云平台时，为了保障云主机的安全性，公有云（包括阿里云、腾讯云、AWS）在API调用时均需要验证访问者的身份，以确保访问者具有相关权限。公有云的验证方式通过Access Key来实现。Access Key由Access Key ID和Access Key Secret构成平台接入公有云云平台的访问密钥ID和访问密钥。 以阿里公有云为例，您可以根据下面的步骤来添加一个阿里云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择阿里云 点击添加按钮，填入以下信息：云名称、访问密钥ID、访问密钥。 阿里云访问密钥AccessKey获取方式： 获取Access Key Secret的方法:登录您的阿里云管理控制台，点击页面右上角个人信息，展开面板，选择里面的 Accesskey 。 您也可以直接登录访问 https://ak-console.aliyun.com，进入AccessKey管理界面，查看您的AccessKey列表，如果当前列表为空，您也可以创建一个，新建AccessKey时阿里云会向账号联系人手机发送验证码，验证通过后可以创建AccessKey； 获取Access Key ID:阿里云账号ID是阿里云分配给每个用户的唯一识别码，不可更改，用户要查看自己的阿里云账号ID，请在登录状态下访问阿里云账号\"安全设置\"，地址:https://account.console.aliyun.com/secure；在打开的\"安全设置\"页面中，查找自己的账号ID。 您可以启用云平台监控。云平台监控是指通过云平台API获取云资源的监控数据，支持阿里云的ECS（请在虚拟机模板中选择监控方式）、SLB、OSS、Redis、RDS等监控。 「Note」 启用云平台监控后，平台会频繁调用阿里云API，可能会触发阿里云的API限流机制，并需要为超出免费次数限制的API调用支付额外的费用。 费用配置：平台通过公有云API实时获取申请服务和变配资源时的预估价格。您可以针对公有云平台资源设定折扣系数、云平台货币单位，并选择是否启用账单同步策略。 云平台货币单位：可选人民币、欧元、印尼盾、日元、英镑、沙特里亚尔或美元。 汇率：如果公有云的货币单位和系统货币不一样，请配置云平台货币单位和汇率从而得到准确的预估费用。 打折系数：即SmartCMP作为云资源转售平台进行二次计费，帮助运营商和IDC向用户售卖云资源与服务，运营商和IDC实际转售的是公有云厂商的资源，通过自定义折扣系数，实现资源的灵活计价。 启用账单同步策略：勾选后可通过设置的定时策略，同步云平台费用信息。 点击验证，验证连接成功后点击保存，阿里云平台已保存。 添加其他云平台　 如果需要添加其他云平台，请参考云平台管理 创建资源池 通过资源池，您可以指定私有云的主机或群集、或公有云的区域和可用区为资源入口，分配不同的基础设施资源（包括计算、存储、网络等等）给不同的组织或环境进行使用，并可以设定配额。资源池可分配给一个、多个或全部业务组，从而指定不同的组织和用户使用该云平台中的基础设施资源。 在后续的服务配置过程中，可以选择不同的资源池分配策略，手工进行指定，或由平台自动根据资源池的使用情况和指定的资源进行分配。 当您需要对隔离网络环境中的云资源进行运维操作，可以选择安装部署云网关，并在创建资源池时关联云网关。具体操作步骤可以参考云网关管理。 创建vSphere资源池 在左边导航选择 基础设施 下的二级菜单 资源池管理。点击添加按钮，选择 vSphere ，会出现创建资源池界面。按照表单逐步填写相关信息，保存即可。 概况标签页： 名称：自定义资源池名称，请说明环境或者类型 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的vSphere云平台），资源入口，文件夹（选填）。 资源入口：选择vCenter中的某个集群或主机（包含集群和不在集群中的物理主机） 文件夹 （选填）：选择vCenter中的虚拟机和模板文件夹，从而指定通过这个资源池部署的虚拟机的存放位置。 计算资源标签页： 资源入口信息：可查看您所选择作为资源入口的群集和主机信息。 物理主机信息：vCenter中宿主机的详细信息。 计算资源： 资源配额（选填）：可设置本资源池最大允许部署的vCPU、内存及虚机数量以及每台虚机允许快照数量，留空为无限制。 vSphere资源池（选填）：指定vCenter中的资源池，从而将平台资源池与vCenter资源池进行映射，直接使用vCenter资源池中的配置进行配额管理。 宿主机选择策略： vSphere平台自动选择：平台将部署指令发送到vCenter，按照vCenter自身的资源选择逻辑进行部署。 优先选择剩余物理内存最大的主机：静虚拟机部署到选择剩余物理内存最大的宿主机。 存储：选择当前资源池使用的存储池以及存储配额 预留空间：选择预留给当前资源池的存储空间 优先级：存储使用的优先级，数值小的会优先使用 网络资源标签页： 选择vCenter中的虚拟交换机或分布式虚拟机交换机，并进行设置： 别名：可给网络添加描述，在服务配置和申请时，将显示描述信息，方便选择； IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将vCenter中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步vCenter中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，保存后在资源池列表出现添加成功的vSphere资源池。 创建阿里云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择阿里云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的阿里云云平台）。 选择区域，可用区（选择区域后出现对应的可用区，可多选）。 资源组，选填，可选择阿里云中的资源组，从而将用户在本资源池中申请部署的资源在阿里云上分配到指定的资源组。 网络类型，推荐选择专有网络，选择需要使用的VPC（若列表中下拉为空，请在阿里云控制台上创建VPC）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 网络资源标签页：指定用户可以选择使用的安全组和虚拟交换机。若列表显示为空，请在阿里云控制台上创建。 安全策略组： 虚拟交换机：若选择专有网络，需要选择虚拟交换机 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将阿里云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步阿里云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，阿里云资源池创建成功。 创建Hostpool资源池，导入存量机器 如果您有其他云平台存量资源需要管理，可以添加Hostpool资源池，对存量机器进行批量导入。详细步骤请参考Hostpool资源池。 创建其他资源池 如果需要创建其他资源池，请参考资源池管理 配置虚拟机模板（可选） 虚拟机模板是平台对操作系统的抽象和标准化。平台提供了内置的通用操作系统，您无需额外配置，可直接申请部署云资源，平台将会根据您选择的资源环境，读取云平台中的可用镜像。 您也可以创建新的操作系统，或为各个操作系统指定特定的虚拟机模板或操作系统镜像，供您和用户在部署虚拟机的时候进行选择，或由平台根据您的配置自动进行选择。详细步骤请参考添加虚拟机模板。 配置计算规格（可选） 计算规格定义了虚拟机的CPU和内存的配置规范（如：2核CPU，4G内存）。平台提供了内置的计算规格，您无需额外配置，可直接申请部署云资源，平台将会根据您选择的资源环境，读取云平台的可用规格。 您也可以创建新的计算规格，或为各个云平台指定特定的实例规格，供您和用户在部署虚拟机的时候进行选择，或由平台根据您的配置自动进行选择。详细步骤请参考添加计算规格 「Note」不同类型云平台的计算规格的配置方式有所不同，区别如下： 私有云平台例如vSphere只需定义计算规格，不需要配置云平台规格 OpenStack需要定义计算规格和云平台规格 Azure、AWS、阿里云等公有云平台需要定义计算规格和云平台规格（针对每个公有云区域需要定义一个云平台规格） 添加IP池 您可以配置IP池，管理IP地址段，并可在IP池中查看IP地址使用情况，可占用以及释放被占用的IP地址。 「Note」IP池支持私有云、以及Azure内网IP地址的分配。 以vSphere虚机部署时为云主机统一分配IPv6地址为例，说明IPv6的IP池创建、配置和使用步骤。 IP池支持IPv6、IPv4的网关和路由的配置, 提供灵活的选项开关，来确认当前IP池是IPv4, IPv6或是两个都支持。 创建IPv6的IP池。点击 基础设施 - IP地址管理 ，显示IP池列表，点击添加按钮，填写IP池的名称vSphere-VM-IPv6、描述、类型选择IPv6、IPv6CIDR和网关。 对于支持IPv6的IP池, 如下图所示，每一个IPv6的IP范围不能超过10位, 也就是最多1024个IPv6地址数量。对于支持IPv6的IP池, 有独立的IPv6的Ip范围的tab页。 IP池与vSphere资源池进行关联。如下图所示，在网络资源那选择创建完成的IPv6的IP池。 管理IP地址，在IP地址列表界面，点击IP池名称，对IP地址进行管理，可查看IP用量趋势，手动释放；支持IP地址冲突检测；冷却期设置，IP释放后保留一段时间，冷却期过后再重新放入IP池中进行分配；支持IP地址使用情况的详细日志信息查询 您可以参考如下操作步骤管理IP地址： 选择IP范围标签页，可看见IP池中所有管理的IP地址的详情：IP地址、使用IP的资源、状态（可用、已占用、不可用、冷却中、预留、预分配）、更新时间、操作人。支持对已占用、冷却中的IP地址进行释放操作，对可用的IP地址进行占用。 点击 IP地址 将显示该IP的状态更新和冲突检测的操作日志。 「Note」IP管理支持IP池冷却期并支持自定义设置冷却期的时长，IP地址被释放后，IP地址会进入冷却期，在冷却期结束之后IP地址才会被重新分配。管理员可在 系统配置 - 系统参数 设置默认IP地址冷却时间。 定义业务组 业务组是平台内的逻辑组织结构，支持创建多级业务组。业务组是一个逻辑概念，有需要把用户、服务、资源使用以及流程、规范等联系在一起的实体都可以用业务组来对应，比如子公司，不同层级的部门等。 可参考下列步骤来配置业务组： 点击左侧导航栏 组织架构 - 业务组 ，点击业务组名称进入编辑页面，或创建一个新的。 概况标签页： 填写名称、上级业务组、简称、描述并上传图标。 主色调：选择某一颜色作为该业务组的主色调，该业务组发布的服务在服务目录中将显示设置的主色调颜色。若未设置，将由系统随机选择。 租期策略： 服务部署租用时间，最大值最小值任意留空则对应区间无限制。服务租用时间到期后云主机将被自动关机。 服务部署保留时间，最大值最小值任意留空则对应区间无限制。保留时间到期后，服务部署将被卸除，放入回收站。 最大可延期次数：允许用户延长租用到期时间的次数。 服务到期后允许启动：勾选表示在服务部署到期之后，允许用户在延长租期之前启动该服务继续使用。 用户标签页: 关联用户，点击 关联用户 ，勾选列表中的用户，点击确定，关联该用户到业务组。关联成功后，将在用户页面显示已关联用户。 移除用户：若该业务组中已有用户，在列表中选择某用户，点击 移除用户 ，取消该用户和业务组的关联，该用户将不能查看、使用该业务组的资源。 关联角色：选择列表界面中的某用户，点击 关联角色 ，勾选 业务组管理员 ，点击提交，给该用户业务组管理员的角色。 资源池标签页:将资源池与业务组进行关联，使得业务组内的用户可以申请这些资源。 添加资源池：关联该资源池和业务组的关系。 移除资源池：移除该资源池和业务组的关系。若有未卸除部署在该资源池上，将不能移除. 规范标签页：配置命名及申请规范。 命名规范：配置服务部署、云主机和云资源的命名规范，点击下拉列表选择已添加的命名规范模板，留空表示使用系统设置中的缺省模板。 申请规范：配置业务组在服务目录申请资源的规范，申请云主机CPU和内存最大值，留空表示无限制。 审批流程标签页：为业务组申请资源和服务关联审批流程，留空为不关联流程。 授权配置标签页：配置授权配置模板，指定用户对服务部署和云资源可以进行的操作。点击下拉列表选择已添加的授权配置模板，留空表示使用系统设置中的缺省模板。 资源配额标签页：支持设置业务组的资源配额以满足控制部门级别资源配额的需求。业务组的资源配额与资源池的资源配额互相独立，是两个层面的资源配额管控。能够设置以下资源的额度：CPU、内存、存储、虚机数量。 默认不启用：资源配额界面禁止输入，同时不计算已使用的资源数量。 选择启用：上述资源可以设置配额，都是非必填项，只能输入大于等于零的整数，留空表示无限制。支持查看已使用配额（如果某个配额是无限制，剩余也一直是无限制，使用率一直是0%）。当新服务部署占用资源，或者运维操作修改配置变更资源使用情况，或者更改业务组，相应的资源使用情况会产生变更。 「Note」如果之前一段时间业务组没有启用配额，但业务组有资源占用，则该业务组在启用配额之后，将会显示已经使用的资源。子业务组的配额独立，即不受父业务组的限制，可以单独配置。 预算配额标签页：管理员可以为此业务组配置该业务组和每个用户的每个月/每年的预算，留空为无限制。个人预算不能大于业务组总预算。当业务组预算达到阈值，业务组成员不能申请新的资源。您可以设置到达预算之后对于云资源的控制策略，以及预算阈值告警。 预算配额的设置步骤： 选择计时单位年或月：选择按月表示在每月1号清零已有，恢复初始值；选择按年表示在下一年的起始日清零已有，恢复初始值。 业务组配额管理：填写总预算，设定百分比，当业务组整体费用超过配置的总预算百分比，触发后续通知，系统将自动发送通知给业务组管理员。 个人预算：设置个人预算，设定百分比，个人预算使用到达阈值时，触发后续通知，将发送通知给用户。个人预算设置后保存业务组，可在用户标签页查看每个用户预算的额度和使用情况，并可为每个用户单独设置额度。 预算策略： 选择“预算用完后不能申请新的资源”，当业务组预算使用完时，业务组关联的所有用户将不能申请新的需要付费的资源。 选择“预算用完后付费资源将自动关机” ：当个人预算使用完时，属于个人的云资源将关机，或者当业务组预算使用完时，属于业务组的云资源将关机。 「Note」当业务组下有多个额度不同的用户时，其中一个用户欠费，不影响其他用户申请资源，属于欠费用户的云主机停机，不影响其他用户的云主机状态。 申请部署云资源 在将基础设施和组织架构配置完成之后，您可以通过以下方式申请部署云资源： 云资源快速申请：您可以在云主机和云资源页面快速申请和创建。 使用内置服务：或通过服务目录，选择平台内置的服务，进行申请，部署云资源。 配置服务：您也可以根据您企业的需求，创建新的服务。通过服务对应的蓝图，您可以利用平台强大的基础设施即代码的功能，自动化部署虚拟机、中间件、数据库或是复杂的多层应用架构。具体步骤请参考蓝图设计蓝图设计和服务建模。 管理云资源 申请云资源部署之后，平台将根据您制定的配置，或是根据设定的策略，自动化部署您申请服务包含的所有云资源，例如一台虚拟机，一个数据库，或是一个多层次架构的应用环境。您可在配置的服务租期内，使用该服务部署的所有资源，自助进行运维或变更操作。 服务申请后，可在 我的部署 - 服务部署 查看该部署的进行状态。 若有审批流程，可在 服务请求 - 我的申请 中，查看请求的详细信息和当前审批流程走向 若无审批流程，可点击服务部署名称进入部署详情页面，可查看该部署的基本信息，服务部署拓扑，以及操作历史 查看服务部署，自助运维 服务成功部署后，可在 服务部署 页面查看服务部署的状态、详情、监控等。您可通过统一页面，看到申请的所有服务部署和云资源，包括，云主机、存储、网络、软件等，查看运行状态，并进行允许的各种变更运维操作。 在左侧菜单选择 我的部署 - 服务部署 后，您可以看到您有管理权限的来自所有云平台、所有区域的所有部署实例。一个服务部署包含了您申请的一个服务中的所有云资源，包括云主机，以及中间件、数据库等软件。 在服务部署列表中，您可以选中一个或者多个服务部署快速进行一些运维操作，包括停止服务部署、安装软件、延长过期时间、卸除服务部署、删除管理信息、更改所有者、更改项目、更改业务组和伸缩） 点击服务部署名称，可查看该服务部署的详细信息。服务部署详情信息界面包括基本信息、服务部署拓扑、操作历史和监控（对云主机和应用组件的监控）以及顶部的运维操作 概况标签页：包括服务部署的名称、业务组、项目、蓝图、资源池、云平台，以及费用、状态、时间等相关信息。还包括该服务部署的输入参数列表以及输出结果信息。服务部署失败后，某些场景可线下修复，修复成功后支持更改服务部署状态，将\"异常\"更改为\"正常\" 部署拓扑标签页：包括服务部署的蓝图、详情和流程信息。鼠标悬停至服务拓扑图中，将显示该节点的关键配置信息和监控信息（如果启用了监控） 监控标签页：显示对该部署中的云主机和组件应用的监控信息（如果启用了监控） 操作历史标签页：显示该服务部署的操作历史记录 查看云主机和云资源，进行自助运维 在云主机中可以查看和编辑您有管理权限的云主机。在主机详情页中，如果启用了监控，您可以在 监控 标签页中查看虚拟机的监控指标信息。 在云资源中可以查看和编辑您有管理权限的云资源，包括存储、网络和软件等资源。如果启用了监控，在云资源详情页中，如SLB，RDS等，您可以在监控标签页中查看监控指标信息。 部署堡垒机（可选） SmartCMP云管理平台提供了堡垒机功能，支持您通过堡垒机访问虚拟机，并可选择SSH/RDP/VNC等多种远程协议，为您提供统一的运维入口、构建安全、高效的运维通道。 堡垒机拥有以下主要特点： 权限管理：整合堡垒机和平台的访问控制，支持对不同角色实行不同的授权配置，管控运维操作范围； 管理协议：支持SSH、RDP、VNC等多种远程访问协议； 运维操作：支持对主机进行批量改密和下发密钥，提高安全防护； 会话管理和录像回放：拥有会话管理功能，并支持对所有的运维操作进行录像，全程审计。 当您需要使用堡垒机时，可以参考部署堡垒机。 至此，您已经可以通过平台成功申请部署云资源，并进行管理和运维操作。如需了解平台其他更丰富的功能和使用方法，请阅读平台使用手册的其他章节。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/02首页/":{"url":"AdminDoc/02首页/","title":"页面导航","keywords":"","body":"页面导航 您登录平台之后，可在各个区域进行操作： 左侧是各级菜单，代表不同的功能模块列表。 导航栏右上角是快速查找信息功能区，可以点击头像进入个人中心 。 页面右下角提供了配置向导和联系技术支持的方式。 查看主页内容 登录平台之后，主页将展示您拥有的云资源信息和工单处理情况，从其他页面可以点击右上角的主页按钮返回到此页面。 用户信息：如果需要修改您的用户头像，可以点击页面导航栏右上角的用户图标，进入编辑资料。 待处理任务，包括： 待审批：等待您进行审批的服务请求数量，点击链接您可进入待审批列表页面； 待处理：等待您处理的工单数量，点击链接您可进入待处理列表页面。 已申请的云资源服务： 审批中：您已提交申请的、正在等待审批的服务请求数量，点击数字可进入 我的部署 - 服务部署 查看处于审批中状态的服务请求； 已部署：已经完成的服务部署，点击数字可进入 我的部署 - 服务部署 查看处于运行等状态的部署； 即将到期：将在两周内到期的服务部署，到期后将被自动关机。点击数字可进入 我的部署 - 服务部署 查看两周内即将到期的部署； 即将卸除：将在两周内卸除的服务数量，卸除后将放入回收站。点击链接您可进入 我的部署 - 服务部署 查看两周内即将被卸除的部署。 申请服务：点击后您可以进入 服务目录 进行服务申请。 已提交的工单服务： 审批中：您已提交申请的、正在等待审批的工单请求，点击数字可进入 服务请求 - 我的请求 查看申请状态为审批中的工单请求； 处理中：您已提交申请的、正在等待服务团队处理的工单请求，点击数字可进入 服务请求 - 我的请求 查看申请状态为处理中的工单请求。 资源信息： 虚拟机数量（即已部署的云主机实例数量），点击链接您可进入 我的部署 - 云主机 页面，查看云主机实例列表； 应用数量（即云资源的软件资源数量），点击链接您可进入 我的部署 - 云资源 - 软件资源 - 软件 中查看软件的实例列表； 其它资源数量（这里列出的是除了云主机和应用之外的云资源数量），点击链接您可进入 我的部署 - 云资源 查看和管理您的所有云资源。 告警信息：针对云主机和应用的告警，以及触发的告警总次数，点击饼图您可进入 监控告警 - 已触发警报 查看告警信息详情。 我的请求：显示最新的五条请求信息，包括请求编号、请求时间，您可以点击请求编号跳转到服务请求详情页面，或点击更多进入 我的请求 服务请求列表。 页面导航栏 页面导航栏提供了 通知 和 操作历史 查看功能： 点击 头像 可进入个人中心。您可以进入 账户管理 页面（需要管理员的权限）查看企业账户、套餐和费用情况；编辑资料可修改您的个人信息，包括创建和保存经常使用的凭证，用于访问已部署的云资源。 点击 通知 按钮可查看当前未读消息列表，通知包括消息（如审批通过）、告警通知等，可标记列表中的通知为已读，将不再提示。点击列表中的某条通知将进入该通知详情页面。 点击 操作历史 按钮可查看当前正在进行的操作，显示该操作的名称、服务名称，请求用户以及创建时间。可点击某条操作信息进入操作历史详情页面，也可点击 查看全部 进入操作历史列表界面。 点击 ？ 图标可以查看平台详细的使用手册。 配置向导和联系技术支持 页面右下角提供了配置向导和联系技术支持的方式。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/02首页/个人中心.html":{"url":"AdminDoc/02首页/个人中心.html","title":"个人中心","keywords":"","body":"个人中心 个人中心集成了用户的基础资料、联系方式、及凭证等的配置管理、并支持查看角色、业务组与权限范围。 您登录平台之后，可以点击右上角头像进入个人中心。 概况 在概况页面，您可以定义您的用户名、登录名、邮箱并上传头像。 您可以配置您的企业微信、钉钉或邮箱等，用于接收系统的通知、告警等消息推送。 角色 在角色页面您可查看您的角色以及所对应的实体对象（组件库、蓝图设计）和权限范围（访问、读取、创建、编辑或删除）。 关联业务组 在当前页面您可查看您已关联的业务组。如需关联或者解除关联某个业务组，请通过 组织架构 - 业务组 的用户标签页关联或移除对应用户（需使用有相应权限的用户角色登录系统）。 我的凭证 在我的凭证页面您可管理已有凭证或者添加新的凭证，以在申请资源和变更操作时，选择凭证进行配置和访问。 添加凭证 您可根据如下步骤添加凭证： 在我的凭证标签页，点击添加，进入基本信息标签页。 输入名称、描述、用户名并选择凭证类别：密码、密钥。 密码：填写密码、确认密码（前后输入的密码必须一致）。服务配置时，可允许企业成员申请时，修改您创建的密码，还支持企业成员在申请服务时选择自己的凭证或者手动输入用户名和密码。 密钥：创建或导入密钥。在虚拟机模板中，若选择密钥对的验证类型，将只能选择系统中已存在的共享的且类型为密钥的凭证（新建生成或导入的密钥）。 创建密钥：选择算法（RSA）以及长度，目前支持1024、2048和4096三个长度的密钥生成。 导入密钥:可导入私钥在系统中保存以便随后使用。 允许共享：勾选允许共享，可将我的凭证共享给指定业务组的指定角色。若需要在添加虚拟机模板时选用该凭证，需将该凭证共享给全部业务组。 点击保存，添加凭证成功。 申请服务或执行运维操作时，您可选择自己的凭证或者手动输入用户名和密码进行身份验证. 编辑凭证 在我的凭证标签页，点击某个凭证，您可修改凭证的名称、用户名及密码密钥。修改用户名和/或密码将同时更新凭证所关联云主机的密码。 查看关联的云主机 在我的凭证标签页，点击某个凭证，您可在 关联的云主机 标签页，查看当前凭证已关联的云主机。该页面展示了已关联云主机的IP地址、所属业务组和项目、所有者以及上次改密状态和时间。点击更多可以查看过往改密记录，包含改密时间、操作人及状态等。 如需将凭证与云主机关联，请参考关联凭证。当用户修改凭证中的用户名或密码，凭证所关联的云主机的密码也将同时被更新。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/":{"url":"AdminDoc/03基础设施管理/","title":"基础设施配置","keywords":"","body":"基础设施 SmartCMP统一管理数据中心的计算、存储、网络、应用等各种资源，包括私有云、公有云、混合云、容器云、x86物理机等多种类型。支持快速导入并无缝管理存量虚拟机，使用云平台标准的API进行操作，管理云资源。 由于通过API和各个不同云基础设施进行交互，因此用户的云基础设施账号的形式不一样的（如公有云使用AccessKey，私用云使用用户名与密码等）。 「Note」不同云基础设施账号的获取方式各有不同，具体请参考：添加云平台。 在基础设施中您可以配置： 云平台入口：添加需要连接和管理的私有云、公有云等云平台的信息，例如虚拟化管理控制器地址和用户名密码，或者公有云访问密钥。 资源标签：为您所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而在配置和申请服务的时候进行筛选和指定。 资源池：定义资源配额并控制资源访问。 虚拟机模板：创建和管理虚拟机模板，在服务配置和申请的时候进行指定。 计算规格：创建和管理虚拟机模板，在服务配置和申请的时候进行指定。 IP地址：创建需要管理的IP地址目录结构和IP地址池，在部署云资源时自动分配IP地址。支持私有云平台以及Azure虚拟机的内网IP地址分配。 物理机入口：添加和管理您的物理机。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/云平台网关.html":{"url":"AdminDoc/03基础设施管理/云平台网关.html","title":"云网关管理","keywords":"","body":"云网关管理 功能描述 越来越多的企业采用混合云的架构，企业底层的基础架构和网络环境较为复杂，SmartCMP云管理平台（以下简称“云管平台”）提供的云网关功能，可以帮助您连接并管理多个数据中心，多个VPC，隔离的虚拟网络环境，混合云环境（私有云+公有云）等，并且避免将所有需要管理的云资源的端口进行开通或暴露到公网。 典型应用场景 当云管平台与隔离的区域网络不通时，您可以选择部署云网关，如下图所示： 数据中心1和2都处于隔离的网络环境中，与云管平台网络不通。 在公有云上构建了一个隔离的网络环境（Virtual Private Cloud），并且VPC中云资源未分配公网IP，也未绑定弹性公网IP，则云管平台默认无法和VPC内部的云资源通信。 您只需要在公有云和网络隔离的数据中心分别部署一个云网关，就能借助云网关访问并管理隔离区域的云资源。 云网关的作用 云网关安装完成之后，可以发挥以下功能： 关联云网关与云平台，云网关能够负责转发管理云平台的请求。例如：云管平台通过云网关能够连接隔离网络环境的云平台，并能够创建或查看云资源信息。 关联云网关与资源池，能够实现以下功能： 转发云管平台管理隔离数据中心的云资源的请求。例如：云管平台可以通过云网关将 “安装监控代理“、“执行脚本“、“安装软件“等请求发送给相应的云资源，无需直接连接隔离网络下每一个云资源。 帮助监控代理获取隔离数据中心云资源的监控数据。例如：云管平台可以通过云网关从已安装监控代理的云资源获取监控数据，无需直接连接隔离网络下每一个云资源。 帮助云管平台远程访问云主机，并能够查看相关的活动记录。例如：云管平台可以通过云网关查看过往远程访问云主机的会话信息，了解每个历史会话的详细信息。 云网关的安装方法 安装前提 如果您需要为网络隔离的数据中心、VPC或远程站点部署一个云网关，请选择一台主机安装云网关代理，主机的选择需要遵循以下原则： 该主机和其它您需要管理的内网主机在同一个网络内，能够互相连接; 该主机需为Linux操作系统，建议使用CentOS或RHEL 7.x版本; 该主机不需要配置公网IP，但需要能够访问公网; 该主机建议至少配置2核CPU和4GB内存，并且为云网关安装目录（默认为/usr/local/src）预留至少10GB空闲磁盘空间。 安装步骤 您可以通过以下安装步骤完成云网关的部署 在左侧菜单选择 基础设施 – 云网关管理，您可以查看并管理所有您已创建的云网关。 点击添加按钮，进入编辑页面： 名称和描述：自定义云网关的名称和描述，以便进行标识。 标签：请根据云网关所在地点或区域选择合适的标签，平台会根据标签，选择合适的网络中转节点转发网络流量。 点击下一步，进入安装脚本页面，复制脚本信息。 选择一台符合安装条件的云主机，执行脚本信息，安装云网关的代理。 云网关的使用 当您成功安装云网关之后，您可以在 我的部署 - 云资源 - 网络 列表中，查看已安装的云网关名称、IP地址和创建时间等信息。 当您关联云网关与云平台，云网关能够负责转发管理云平台的请求。具体步骤可参照下文： 点击 基础设施 - 云平台管理 ，点击需要关联的云平台（例如vSphere), 在概况标签页选择已部署成功的云网关，点击保存按钮，云网关与云平台关联成功。 当您关联云网关与资源池，就能够对隔离网络环境中云资源进行一系列运维操作，包括能够远程访问云主机，获取云资源的监控数据，对云资源进行“安装监控代理“、“执行脚本“、“安装软件“等操作。具体步骤可参照下文： 点击 基础设施 - 资源池管理 ，点击需要关联的资源池, 在概况标签页选择已部署成功的云网关，点击保存按钮，云网关与资源池关联成功。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2020-12-21 18:28:39 "},"AdminDoc/03基础设施管理/云平台管理.html":{"url":"AdminDoc/03基础设施管理/云平台管理.html","title":"云网关应用场景","keywords":"","body":"云平台管理 云平台入口定义了您需要管理的公有云、私有云、容器等云基础设施的接入方式。不同云基础设施账号的形式及获取方式各有不同，您可以通过填写对应的访问信息完成云平台基础设施的接入。 添加云平台 当接入云平台时，为了保障云主机的安全性，公有云（包括阿里云、腾讯云、AWS）在API调用时均需要验证访问者的身份，以确保访问者具有相关权限。公有云的验证方式通过Access Key来实现。Access Key由云平台颁发给云主机的所有者，它由Access Key ID和Access Key Secret构成对应SmartCMP接入公有云云平台的访问密钥ID和访问密钥。 添加vSphere云平台 为了管理vSphere虚拟化平台内的资源，您需要将vCenter连入到平台。请提供vCenter地址、管理员用户名和密码等信息来进行访问。 　1.进入 基础设施 - 云平台管理 ，选择 vSphere ，点击添加。 　2.输入所需参数(请根据自己的真实环境输入相关参数，示例只给出参考)。 参数名称 描述 示例 云名称 vSphere云平台名称 vSphere数据中心A 用户名 vCenter管理员用户名 administrator@vsphere.local 密码 vCenter管理员密码 ** 地址 vCenter IP地址 192.168.xx.xx 端口 API端口 443 数据中心 数据中心所在地 上海 关联VMware NSX云平台 NSX云平台（需先添加VMware平台） 选择对应的NSX云平台名称 　3.点击验证，验证连接vSphere虚拟化平台。 　4.验证成功后点击保存，vSphere虚拟化平台连接成功。 添加VMware NSX平台 为了管理VMware NSX平台内的资源，需要用户提供远程URL来访问VMware NSX。 　1.在左边导航选择 基础设施 - 云平台管理 ，在左边选择 VMwareNSX 类型 　2.点击添加按钮 ，填入下列信息:名称、地址、用户名及密码 参数名称 描述 示例 名称 VMware NSX云平台名称 VMwareNSX 地址 请输入VMware NSX地址 192.168.84.201 用户名 VMware NSX平台管理员用户名 云平台管理账户 密码 VMware NSX云平台管理员密码 云平台管理账户密码 　3.点击验证，验证连接成功后，点击保存， VMware NSX平台入口已保存 「Note」 VMware NSX的使用必须在添加了vSphere云平台的基础上，添加成功vSphere云平台和VMware NSX平台后，需要在vSphere云平台中将NSX相关联。 添加OpenStack云平台 为了管理OpenStack云平台内的资源，需要用户提供API访问地址、管理员用户名和密码等信息来访问OpenStack。 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 OpenStack 类型 点击添加按钮，填入下列信息并点击验证。验证连接成功后，点击保存，OpenStack云平台入口已保存。 参数名称 描述 示例 云名称 OpenStack云平台名称 OpenStack 版本 选择云平台版本 OpenStack发行版 认证URL OpenStack keystone认证URL http://xxx.xxx.xxx.x:5000/v2.00 API版本 选择API版本:版本2 版本3 版本2 租户名称 一个项目，团队或组织，指定一个相应的租户才可以申请OpenStack服务 指定的租户名称 用户名 OpenStack云平台管理员用户名 云平台管理账户 密码 OpenStack云平台管理员密码 云平台管理账户密码 区域 区域名称 RegionOne 数据中心 数据中心所在地 上海 添加华为云平台 为了管理华为云平台内的资源，需要用户提供API访问地址、管理员用户名和密码等信息来访问华为云。 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 OpenStack 类型 点击添加按钮，填入下列信息并点击验证。验证连接成功后，点击保存，华为云平台入口已保存。 参数名称 描述 示例 云名称 华为云平台名称 Huawei 认证URL 华为云认证URL https://iam.cn-east-2.myhuaweicloud.com/v3 版本 选择云平台版本 华为云 API版本 选择API版本:版本2 版本3 版本3 项目名称 请输入项目名称 请输入项目名称 项目域 通过项目域访问项目 请输入项目域 用户名 华为云平台管理员用户名 云平台管理账户 密码 华为云平台管理员密码 云平台管理账户密码 用户域 如不填写，默认使用项目域 请输入用户域 区域 区域名称 cn-north-1 添加阿里云平台 当接入云平台时，为了保障云主机的安全性，公有云（包括阿里云、腾讯云、AWS）在API调用时均需要验证访问者的身份，以确保访问者具有相关权限。公有云的验证方式通过Access Key来实现。Access Key由Access Key ID和Access Key Secret构成平台接入公有云云平台的访问密钥ID和访问密钥。 以阿里公有云为例，您可以根据下面的步骤来添加一个阿里云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择阿里云 点击添加按钮，填入以下信息：云名称、访问密钥ID、访问密钥。 阿里云访问密钥AccessKey获取方式 获取Access Key Secret的方法:登录您的阿里云管理控制台，点击页面右上角个人信息，展开面板，选择里面的\"accesskeys\"。 您也可以直接登录访问 https://ak-console.aliyun.com，进入AccessKeys管理界面，查看您的AccessKey列表，如果当前列表为空，您也可以创建一个，新建AccessKey时阿里云会向账号联系人手机发送验证码，验证通过后可以创建AccessKey； 获取Access Key ID:阿里云账号ID是阿里云分配给每个用户的唯一识别码，不可更改，用户要查看自己的阿里云账号ID，请在登录状态下访问阿里云账号\"安全设置\"，地址:https://account.console.aliyun.com/secure； 在打开的\"安全设置\"页面中，查找自己的账号ID 您可以启用云平台监控。云平台监控是指通过云平台API获取云资源的监控数据，支持阿里云的ECS（请在虚拟机模板中选择监控方式）、SLB、OSS、Redis、RDS等监控。 「Note」 启用云平台监控后，平台会频繁调用阿里云API，可能会触发阿里云的API限流机制，并需要为超出免费次数限制的API调用支付额外的费用。 费用配置：平台通过公有云API实时获取申请服务和变配资源时的预估价格。您可以针对公有云平台资源设定折扣系数、云平台货币单位，并选择是否启用账单同步策略。 云平台货币单位：可选人民币、欧元、印尼盾、日元、英镑、沙特里亚尔或美元。 汇率：如果公有云的货币单位和系统货币不一样，请配置云平台货币单位和汇率从而得到准确的预估费用。 打折系数：即SmartCMP作为云资源转售平台进行二次计费，帮助运营商和IDC向用户售卖云资源与服务，运营商和IDC实际转售的是公有云厂商的资源，通过自定义折扣系数，实现资源的灵活计价。 启用账单同步策略：勾选后可通过设置的定时策略，同步云平台费用信息。 点击验证，验证连接成功后点击保存，阿里云平台已保存。 添加阿里专有云平台 您可以根据下面的步骤来添加一个阿里专有云平台（Apsara）: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 阿里专有云 类型 点击添加按钮，填入下列信息:云名称、访问密钥ID、访问密钥。 「Note」 阿里云访问密钥及访问密钥ID获取方式请参考添加阿里云平台 点击验证，验证连接成功后，点击提交， 阿里专有云平台入口已保存 添加AWS平台 为了管理AWS云平台内的资源，需要您提供API密钥来访问您的AWS。您可以根据下面的步骤来添加一个AWS平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 AWS 类型 点击添加按钮，填入下列信息:云名称、访问密钥ID及访问密钥 亚马逊AWS访问密钥（即Access Key）是AWS用户在通过API访问云资源时的确认用户身份的凭证，SmartCMP正是通过API来管理AWS云资源，因此用户首先需要获取AWS访问密钥（Access Key）才可以将资源纳入到平台中进行管理，访问密钥（Access Key）由亚马逊AWS颁发给云主机的所有者，它由访问秘钥ID（Access Key ID）和私有访问秘钥（Secret Access Key）构成。 登录AWS管理控制台 使用AWS主账号（或者是拥有AdministratorAccess管理策略权限的子账号）登录管理控制台，点击\"安全&身份\"中的\"管理用户访问和加密密钥（Identity& Access Management）\"，进入IAM控制面板； 查看用户列表，进入IAM控制面板后，点击\"用户\"，查看所有用户列表； 查看用户安全证书， 要将云资源导入到平台，要确保访问密钥（Access Key）有足够的资源权限，因此请选定一个有相应权限的用户，点击用户名，进入该用户详情页面后，点击\"安全证书\"页签；创建访问密钥 请点击\"创建访问密钥\"，将打开密钥信息窗口。需要注意的是，在AWS控制台中，用户仅有一次查看访问密钥的机会，因此请务必在打创建访问密钥成功后，将密钥信息妥善保存； 访问秘钥ID即导入云主机时用到的Access Key ID，私有访问秘钥即Secret Access Key（默认不显示，点击\"显示\"链接）； 费用配置：平台通过公有云API实时获取申请服务和变配资源时的预估价格。您可以针对公有云平台资源设定折扣系数、云平台货币单位，并选择是否启用账单同步策略。 云平台货币单位：可选人民币、欧元、印尼盾、日元、英镑、沙特里亚尔或美元。 汇率：如果公有云的货币单位和系统货币不一样，请配置云平台货币单位和汇率从而得到准确的预估费用。 打折系数：即SmartCMP作为云资源转售平台进行二次计费，帮助运营商和IDC向用户售卖云资源与服务，运营商和IDC实际转售的是公有云厂商的资源，通过自定义折扣系数，实现资源的灵活计价。 启用账单同步策略：勾选后可通过设置的定时策略，同步云平台费用信息。 点击验证，验证连接成功后，点击保存，AWS平台入口已保存 添加Azure云平台 为了管理Azure云平台内的资源，需要您提供访问信息来访问您的Azure。您可以根据下面的步骤来添加一个Azure云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 Azure 类型 点击添加按钮，填入下列信息:云名称、客户机ID、访问密钥、租户ID 获取微软Azure的API访问凭证需要通过多个步骤，访问凭证由订阅（Subscription）ID、客户机ID和访问密钥构成。具体步骤如下: 获取微软Azure的访问域: 在Azure控制台中进入Azure Active Directory，再点击二级菜单\"属性\"；在Active Directory属性页面，我们可以看到\"目录ID\"，该目录ID即为Azure的访问域； 获取订阅ID: 您在购买Azure产品之前，必须先创建一个订阅，而后需要在这个订阅下购买云资源，云资源不能跨订阅访问。因此，当您存在多个订阅时，请您确保输入的订阅ID是您需要导入的云资源所属订阅，否则可能会出现无法列出云资源的情况。 登录Azure控制台，在左侧菜单选择\"成本管理+计费\"（菜单顺序是可自定义调整的），在\"Overview\"中，找到您要导入的云资源所属订阅，获取\"订阅ID\"。如果您有多个订阅，都希望通过平台来管理，那么请创建多个云账户分批导入； 获取客户机ID和访问密钥: 在[Azure Active Directory]中，点击二级菜单\"[应用注册]\"，将会列出现有的所有应用程序，在应用程序（客户端）ID处即可找到 客户机ID 点击该应用程序进入详情页面，先点击左侧\"[证书和密码]\"按钮，再找到右侧的\"新增客户端密码\"，添加客户端密码，添加成功后，可查看到访问密钥。 勾选是否启用云平台监控。云平台监控是指通过云平台API获取云资源的监控数据,启用后会频繁调用云平台API,可能会触发云平台的API限流机制,并需要为超出免费次数限制的API调用支付额外的费用。 费用配置：平台通过公有云API实时获取申请服务和变配资源时的预估价格。您可以针对公有云平台资源设定折扣系数、云平台货币单位，并选择是否启用账单同步策略。 云平台货币单位：可选人民币、欧元、印尼盾、日元、英镑、沙特里亚尔或美元。 汇率：如果公有云的货币单位和系统货币不一样，请配置云平台货币单位和汇率从而得到准确的预估费用。 打折系数：即SmartCMP作为云资源转售平台进行二次计费，帮助运营商和IDC向用户售卖云资源与服务，运营商和IDC实际转售的是公有云厂商的资源，通过自定义折扣系数，实现资源的灵活计价。 启用账单同步策略：勾选后可通过设置的定时策略，同步云平台费用信息。 点击验证，验证连接成功后，点击保存，Azure云平台入口已保存 添加谷歌云平台 为了管理谷歌云平台内的资源，需要您提供谷歌云访问密钥ID和访问密钥来访问您的谷歌云。您可以根据下面的步骤来添加一个谷歌云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 谷歌云 类型 点击添加按钮，填入下列信息:云名称、项目名称、访问密钥ID、访问密钥、客户端邮箱及客户端ID 您可以登录谷歌云控制台，在“IAM和管理”菜单的“设置”中查看项目信息，在“服务账号”中查看访问密钥和邮箱，在“API和服务”菜单的“OAuth访问屏幕”中查看客户端ID。 点击验证，验证连接成功后，点击保存， 谷歌云平台入口已保存 添加腾讯云平台 为了管理腾讯云平台内的资源，需要您提供腾讯云访问密钥ID和访问密钥来访问您的腾讯云。您可以根据下面的步骤来添加一个腾讯云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 腾讯云 类型 点击添加按钮，填入下列信息:云名称、公钥、私钥及APP ID 类似阿里云AccessKey，腾讯云为API服务提供了一套API密钥验证机制，API密钥由腾讯云颁发给云主机的所有者，它由Secret ID 和 Secret Key组成。对应SmartCMP接入腾讯云平台的访问密钥ID和访问密钥。 获取方式: 登录您的腾讯云控制台，点击左上角\"云产品\"，在弹出的界面中点击\"访问密钥\"， 进入\"访问密钥\"管理界面，您将看到您的API密钥列表，API密钥由APPID、SecretId及SecretKey组成，如果该列表为空，请点击\"新建密钥\"创建一个。 「Note」 腾讯云账号ID是腾讯云分配给每个用户的唯一识别码，用户要查看自己的腾讯云账号ID，请在登录状态下访问\"账户信息\"。 费用配置：平台通过公有云API实时获取申请服务和变配资源时的预估价格。您可以针对公有云平台资源设定折扣系数、云平台货币单位，并选择是否启用账单同步策略。 云平台货币单位：可选人民币、欧元、印尼盾、日元、英镑、沙特里亚尔或美元。 汇率：如果公有云的货币单位和系统货币不一样，请配置云平台货币单位和汇率从而得到准确的预估费用。 打折系数：即SmartCMP作为云资源转售平台进行二次计费，帮助运营商和IDC向用户售卖云资源与服务，运营商和IDC实际转售的是公有云厂商的资源，通过自定义折扣系数，实现资源的灵活计价。 启用账单同步策略：勾选后可通过设置的定时策略，同步云平台费用信息。 点击验证，验证连接成功后，点击保存， 腾讯云平台入口已保存 添加UCloud云平台 为了管理Ucloud平台内的资源，需要您提供Ucloud访问密钥ID和访问密钥来访问您的Ucloud。获取方式类似阿里云，基于通用组件实现Ucloud的计算、网络和存储节点的接入。 添加青云云平台 支持青云公有和私有两种类型的云平台对接。为了管理青云云平台内的资源，需要您提供访问密钥ID、访问密钥来访问您的青云。您可以根据下面的步骤来添加一个青云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 青云 类型 点击添加按钮，填入下列信息:云名称、访问密钥ID、访问密钥、类型（私有或公有）及API URL（若选择私有，需要提供青云私有云API URL） 类似阿里云Access Key，青云公有云为API服务提供了一套API密钥验证机制，通过这个密钥，用户可以将青云中的云资源导入到平台。API密钥由青云颁发给云主机的所有者，它由qy_access_key_id和qy_secret_access_key组成。 登录您的青云QingCloud控制台，点击左侧菜单中的\"API密钥\"，进入API密钥管理页面，或者您也可以直接登录访问https://console.qingcloud.com/access_keys/；点击创建按钮，弹出\"新建API密钥\"窗口，输入名称，如:云服务，点击\"提交\"按钮；在弹出的\"下载密钥\"窗口，点击下载按钮，将密钥文件:access_key.csv下载到本地。请注意，API密钥的下载链接只会出现一次，如果您创建时没有下载，请重新创建一个新的API密钥； 使用记事本打开文件:access_key.csv，可以看到API密钥信息，qy_access_key_id和 qy_secret_access_key 点击验证，验证连接成功后，点击保存， 青云平台入口已保存 添加金山云平台 为了管理金山云平台内的资源，需要您提供金山云访问密钥ID和访问密钥来访问您的金山云。您可以根据下面的步骤来添加一个金山云平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 金山云 类型 点击添加按钮，填入下列信息:云名称、访问密钥ID及访问密钥 「Note」 访问密钥及访问密钥ID获取方式请参考添加阿里云平台 点击验证，验证连接成功后，点击提交， 金山云平台入口已保存。 添加Kubernetes平台 为了管理Kubernetes平台内的的资源，需要您提供远程URL和证书信息来访问您的Kubernetes。 您可以根据下面的步骤来添加一个Kubernetes平台: 在左边导航选择 基础设施 - 云平台管理 ，在左边选择 Kubernetes 类型 点击添加按钮，在概况标签页填入下列信息: 名称:输入Kubernetes的云平台名称 认证URL:输入云平台的URL信息 CA证书:在Master主机的配置文件:/root/.kube/config中找到certificate-authority的值并进行Base64解码 用户证书:在Master主机的配置文件:/root/.kube/config中找到client-certificate的值并进行Base64解码 用户密钥：在Master主机的配置文件:/root/.kube/config中找到client-key的值并进行Base64解码 Prometheus 监控地址:若Kubernetes中已安装Prometheus，则可输入Prometheus监控地址，通过SmartCMP平台查看Kubernetes的监控数据 点击验证，验证连接成功后，点击保存，Kubernetes云平台入口保存 查看云平台资源使用情况 成功添加云平台后，可以通过系统查看云平台的总体资源使用情况。在左边导航选择 基础设施 - 云平台管理 ，根据选择的云平台查看资源使用情况。 查看vSphere云平台资源使用情况 在添加vSphere云平台成功之后，点击云平台名称或选中云平台后点击编辑，会进入云平台概况标签页，点击 资源信息 ，会显示当前vSphere云平台的整体资源情况: 数据总览:显示该云平台下资源概况，如物理主机数量，群集数量，数据存储数量、标准交换机数量和虚机总数 数据中心概况:显示该数据中心下的群集、主机、虚拟机个数以及CPU、内存、存储等的已用量和总量百分比 群集和主机概况:显示群集名称，及该群集下的云主机名称、所属数据中心，CPU总数，CPU、内存、存储的已用量和总量百分比 数据存储概况:显示数据存储名称、所属数据中心、及存储的已用量、总量和申请总量的百分比 vSphere资源池概况:vSphere资源池名称、所属群集、CPU已用量和总量的百分比，内存的已用量和总量的百分比 查看其他云平台资源使用情况 在添加云平台成功之后，点击云平台名称或选中云平台后点击编辑，会进入云平台概况标签页，点击 资源信息 ，会显示当前云平台的整体资源情况:包括可用区名称、资源池总数、已部署虚机、CPU、内存、存储等。 删除云平台 在左边导航选择 基础设施 ，选择二级菜单 云平台管理 。在左侧管理菜单选择需要修改的云平台类型，然后选中云平台，点击删除然后确认即可。若仍存在关联到这个云平的资源池、虚拟机模板或计算规格，则不能删除。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/资源标签.html":{"url":"AdminDoc/03基础设施管理/资源标签.html","title":"资源标签","keywords":"","body":"资源标签 标签核心功能：为您管理的资源池、资源池中配置的资源、以及创建或导入的云资源设置资源标签，标明资源池和其他资源的不同用途和属性，从而在配置和申请服务、创建和导入云资源的时候进行选择。 配置资源标签 添加标签的具体步骤：点击左侧导航栏 基础设施 - 资源标签 ，管理员有配置标签和定义标签的参数的权限。 概况标签页： 名称: 一般配置中文，比如环境 主键：只能输入英文和数字，比如env，作为标识位 描述 序号：指定资源标签的排列序号，数值小的排列靠前 选择类型：单选/多选，指定在做筛选时同一标签多个值集的选择方式 指定的资源类型： 资源环境标签：用于标记资源池的不同用途和属性。在配置和申请服务时，可通过标签自动匹配和选择符合要求的资源池。 存储资源标签：用于标记资源池中的不同存储资源（例如不同的存储类型或存储池）。在配置和申请服务时，可通过标签自动匹配和选择符合要求的存储资源。 网络资源标签：用于标记资源池中的不同网络资源（例如不同的虚拟交换机或子网）。在配置和申请服务时，可通过标签自动匹配和选择符合要求的网络资源。 云资源标签: 在部署和导入云主机、云资源时，为云主机、云资源设置标签。 「Note」同一个资源池可以设置多个标签，例如：可以给同一个vSphere资源池的存储或网络资源，分别选择不同的标签。 值集标签页：例如：当key是环境，支持创建值value时，支持添加一个值集（例如：生产环境），也支持添加多个值集（例如：生产环境、测试环境、开发环境）并且每个值需要配置名称， 主键（可以用于命名规则），以及描述。 点击保存按钮，资源标签创建完成。 使用资源标签 资源标签创建完成后，可以将资源池、存储资源或网络资源与资源标签进行绑定，从而在服务配置与申请界面进行筛选来快速匹配资源；在部署、导入云主机或云资源以及在Day2运维操作时可设置云资源标签，在服务部署、云主机及云资源列表展示资源已设置的标签并通过标签为云主机、云资源分类和过滤。 在资源池配置中绑定资源标签，具体操作步骤： 点击左侧导航栏 基础设施 - 资源池管理 ，点击任意资源池 在“概况”标签页中“基本信息”区域中的“资源标签”选择框中，选择“键值标签”。一个资源池能选择一个或多个key，针对每个key能选择一个或多个value。例如：vSphere资源池，key选定为\"环境\"，选择一个value“开发环境”或多个value“生产环境、测试环境、开发环境”。 点击“存储资源”标签页，为任意存储类型选择一个已创建的存储标签 在服务配置中使用资源标签： 配置Instance节点的资源池，可供选择的资源池来源于“共享资源池、业务组绑定的资源池”，使用资源标签可在选择资源池时快速定位所需资源池。 选择手工指定资源池的策略，然后根据选定的资源标签过滤，再进一步根据标签过滤的结果进行选择，选择是否允许在申请时修改或者在审批时修改。 例如：vSphere云服务配置Instance组件，选择手工指定资源池的策略，选定拥有“开发环境”资源标签的资源池“vSphere开发资源池”。若勾选“允许修改”，则服务配置完成之后，在服务申请时，可再一次选择资源池；若勾选“允许修改”和“仅审批时可改”，则仅在审批时可以修改资源池。 当管理员设置的资源标签存在多个key并且每个key有多个value时：例如，存在两个key，分别为 “环境、性能 ”。环境key下面设有三个value ，分别为“Pro，UAT，Dev”；性能key下设有三个value分别为 “高性能，中性能，一般性能”。为两个资源池（vSphere-dev资源池和vSphere-test资源池）绑定资源标签，vSphere-dev资源池有2个标签：Pro和高性能，vSphere-test资源池有2个标签：UAT和一般性能。则在为节点配置云资源、服务申请页面展示的时候，“环境”下只显示Pro和UAT，“性能”下只显示高性能和一般性能，任意选择其中一个资源标签的value之后，剩余的标签展示要根据第一个资源标签的value的选择进行动态调整。例如：首先选择资源标签的value - Pro，剩余的第二个标签只会出现“高性能”。以此类推，在更多key和更多value的应用场景中，选择逻辑也一致。 「Note」 选择“自动选择剩余容量最大、自动选择费用最低、平均分配” 的资源池选择策略，平台将根据策略自动分配，并且自动分配的时候，只能在按照标签过滤出来的资源池当中进行选择。更多服务配置信息请参考：服务配置 配置用户申请存储资源的方式，选择“基于标签选择”，系统将自动匹配符合条件的存储（系统盘、数据盘）进行分配。选择是否允许在申请时修改或者在审批时修改。 在服务申请中使用资源标签： 若在服务配置的申请字段配置或系统全局服务申请字段配置中已启用云资源标签申请字段，则用户在申请页面可选择管理员预设的云资源标签，每个标签由一个键值对组成，云资源标签将对部署下所有资源生效。 若在服务配置中勾选资源池允许修改，则在申请页面，针对每个key，根据资源池中已经配置的资源标签，只展现资源池中已经使用的value。 若在服务配置中勾选存储允许修改，则在申请页面，用户可以直接选择标签并定义磁盘大小。 在导入云主机和Day2运维操作使用云资源标签：用户在导入云主机配置标签时可选择管理员预设的云资源标签；在服务部署、云资源、云主机运维操作时可设置云资源标签，从而在云主机与云资源列表使用云资源标签过滤。 「Note」管理员需在系统设置 - 界面配置 中启用云资源标签的申请字段配置。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/资源池管理.html":{"url":"AdminDoc/03基础设施管理/资源池管理.html","title":"资源池管理","keywords":"","body":"资源池管理 通过资源池，您可以指定私有云的主机或群集、或公有云的区域和可用区为资源入口，分配不同的基础设施资源（包括计算、存储、网络等等）给不同的组织或环境进行使用，并可以设定配额。资源池可分配给一个、多个或全部业务组，从而指定不同的组织和用户使用该云平台中的基础设施资源。 在后续的服务配置过程中，可以选择不同的资源池分配策略，手工进行指定，或由平台自动根据资源池的使用情况和指定的资源进行分配。 创建资源池 创建vSphere资源池 在左边导航选择 基础设施 下的二级菜单 资源池管理。点击添加按钮，选择 vSphere ，会出现创建资源池界面。按照表单逐步填写相关信息，保存即可。 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的vSphere云平台），资源入口，文件夹（选填）。 资源入口：选择vCenter中的某个集群或主机（包含集群和不在集群中的物理主机） 文件夹 （选填）：选择vCenter中的虚拟机和模板文件夹，从而指定通过这个资源池部署的虚拟机的存放位置。 计算资源标签页： 资源入口信息：可查看您所选择作为资源入口的群集和主机信息。 物理主机信息：vCenter中宿主机的详细信息。 计算资源： 资源配额（选填）：可设置本资源池最大允许部署的vCPU、内存及虚机数量以及每台虚机允许快照数量，留空为无限制。 vSphere资源池（选填）：指定vCenter中的资源池，从而将平台资源池与vCenter资源池进行映射，直接使用vCenter资源池中的配置进行配额管理。 宿主机选择策略： vSphere平台自动选择：平台将部署指令发送到vCenter，按照vCenter自身的资源选择逻辑进行部署。 优先选择剩余物理内存最大的主机：静虚拟机部署到选择剩余物理内存最大的宿主机。 存储：选择当前资源池使用的存储池以及存储配额 预留空间：选择预留给当前资源池的存储空间 优先级：存储使用的优先级，数值小的会优先使用 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 预留空间：选择预留给当前资源池的存储空间 优先级：存储使用的优先级，数值小的会优先使用 网络资源标签页： 选择vCenter中的虚拟交换机或分布式虚拟机交换机，并进行设置： 别名：可给网络添加描述，在服务配置和申请时，将显示描述信息，方便选择； IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将vCenter中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步vCenter中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，保存后在资源池列表出现添加成功的vSphere资源池。 创建vSphere with NSX资源池 添加vSphere with NSX资源池的前提是需要在vSphere云平台中关联VMware NSX。 在左边导航选择 基础设施 下的二级菜单 资源池管理。点击添加按钮，选择 vSphere ，会出现创建资源池界面。按照表单逐步填写相关信息，保存即可。 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的vSphere云平台），资源入口，文件夹（选填）。 资源入口：选择vCenter中的某个集群或主机（包含集群和不在集群中的物理主机） 文件夹 （选填）：选择vCenter中的虚拟机和模板文件夹，从而指定通过这个资源池部署的虚拟机的存放位置。 VMware NSX传输区域：用于配置NSX逻辑交换机，若不选择，在网络资源标签页页面将不显示 NXS逻辑交换机 标签页 计算资源标签页：同上节的vSphere资源池配置 网络资源标签页： 选择vCenter中的分布式虚拟机交换机或逻辑交换机，并进行设置： 别名：可给网络添加描述，在服务配置和申请时，将显示描述信息，方便选择； IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 安全策略组：选择应用于该资源池的安全策略组 「Note」网络资源和NSX逻辑交换机至少配置一种 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将vCenter中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步vCenter中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，保存后在资源池列表出现添加成功的vSphere资源池。 创建OpenStack资源池 在左边导航选择 基础设施 下的二级菜单 资源池管理。点击添加按钮，选择 OpenStack ，会出现创建资源池界面。按照表单逐步填写相关信息，保存即可。 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的OpenStack云平台），可用区及DNS域。 可用区：选择云平台入口后出现对应的可用区，可多选。 DNS域：根据 系统管理 - 系统配置 中添加的DNS域，可选择为资源池添加一个或多个DNS域。 「Note」 DNS域需要都是用户DNS域名的子域名 计算资源标签页：设置本资源池最大允许部署的vCPU、内存、存储、虚机数量、浮动IP数量及每台虚拟机允许快照数量，留空为无限制。 「Note」支持openStack的浮动IP单独部署，部署完成后可在 我的部署 - 云资源 - 网络资源标签页- FloatingIP 中查看。若部署时候创建的FloatingIP数量超过资源池规定的FloatingIP数量时，会部署失败。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 预留空间：选择预留给当前资源池的存储空间 优先级：存储使用的优先级，数值小的会优先使用 网络资源标签页：指定用户可以选择使用的网络资源和安全策略组。若列表显示为空，请在OpenStack控制台上创建。 虚拟网络标签页： 别名：可给网络添加描述，在服务配置和申请时，将显示描述信息，方便选择； IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 安全策略组标签页：可选择一个或多个安全策略组，网络资源和安全策略组必须配置 防火墙标签页：可查看当前云平台下的防火墙名称、描述、策略、关联路由、状态（运行中、非激活），可选择一个或多个防火墙 在路由标签页可指定路由（选填）（若需要配置防火墙，则需要在此选择路由） 同步策略标签页：您也可以在资源池中设置同步策略，定时同步OpenStack中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，OpenStack资源池创建成功。 创建华为云资源池 在左边导航选择 基础设施 下的二级菜单 资源池管理。点击添加按钮，选择 OpenStack ，会出现创建资源池界面。按照表单逐步填写相关信息，保存即可。 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的华为云平台），可用区及DNS域。 可用区：选择云平台入口后出现对应的可用区，可多选。 DNS域：根据 系统管理 - 系统配置 中添加的DNS域，可选择为资源池添加一个或多个DNS域。 「Note」 DNS域需要都是用户DNS域名的子域名 备份系统：目前支持基于备份系统实现备份云平台的所有云主机，支持恢复单个文件、整个虚拟机、应用程序等，确保服务安全性和高可用性 云网关：云网关可连接和转发隔离网络环境下的云资源操作请求与监控数据 计算资源标签页：设置本资源池最大允许部署的vCPU、内存、存储、虚机数量、浮动IP数量及每台虚拟机允许快照数量，留空为无限制。针对每个磁盘类型, 都可以配置一个存储标签。 「Note」支持openStack的浮动IP单独部署，部署完成后可在 我的部署 - 云资源 - 网络资源标签页- FloatingIP 中查看。若部署时候创建的FloatingIP数量超过资源池规定的FloatingIP数量时，会部署失败。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 预留空间：选择预留给当前资源池的存储空间 优先级：存储使用的优先级，数值小的会优先使用 网络资源标签页：指定用户可以选择使用的网络资源和安全策略组。若列表显示为空，请在OpenStack控制台上创建。 虚拟网络标签页： 别名：可给网络添加描述，在服务配置和申请时，将显示描述信息，方便选择； IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 安全策略组标签页：可选择一个或多个安全策略组，网络资源和安全策略组必须配置 防火墙标签页：可查看当前云平台下的防火墙名称、描述、策略、关联路由、状态（运行中、非激活），可选择一个或多个防火墙 在路由标签页可指定路由（选填）（若需要配置防火墙，则需要在此选择路由） 同步策略标签页：您也可以在资源池中设置同步策略，定时同步华为云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，华为云资源池创建成功。 创建阿里云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择阿里云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的阿里云云平台）。 选择区域，可用区（选择区域后出现对应的可用区，可多选）。 资源组，选填，可选择阿里云中的资源组，从而将用户在本资源池中申请部署的资源在阿里云上分配到指定的资源组。 网络类型，推荐选择专有网络，选择需要使用的VPC（若列表中下拉为空，请在阿里云控制台上创建VPC）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的安全组和虚拟交换机。若列表显示为空，请在阿里云控制台上创建。 安全策略组： 虚拟交换机：若选择专有网络，需要选择虚拟交换机。可给虚拟交换机添加别名，在服务配置、申请和审批时，将显示别名，方便选择。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将阿里云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步阿里云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，阿里云资源池创建成功。 创建AWS资源池 进入 基础设施 - 资源池管理 ，点击添加，选择AWS，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的AWS云平台）。 选择区域，可用区（选择区域后出现对应的可用区，可多选）。 网络类型，推荐选择专有网络，选择需要使用的VPC（若列表中下拉为空，请在AWS控制台上创建VPC）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的子网和安全策略组。若列表显示为空，请在AWS控制台上创建。可给子网添加别名，在服务配置、申请和审批时，将显示别名，方便选择。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将AWS中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步AWS中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，AWS资源池创建成功。 创建Azure资源池 进入 基础设施 - 资源池管理 ，点击添加，选择Azure，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的Azure云平台）。 选择区域。 订阅ID: 创建和使用Azure服务产生的ID 资源组，选填，可选择Azure中的资源组，从而将用户在本资源池中申请部署的资源在Azure上分配到指定的资源组。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的虚拟网络和安全策略组。若列表显示为空，请在Azure控制台上创建。 虚拟网络：选择子网及IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 支持给虚拟网络和子网添加别名，在服务配置、申请和审批时，将显示别名，方便选择。 安全策略组： 存储账户标签页：添加Azure存储账户。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将Azure中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步Azure中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，Azure资源池创建成功. 创建谷歌云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择谷歌云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的谷歌云云平台）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的安全组和虚拟交换机。若列表显示为空，请在谷歌云控制台上创建。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将谷歌云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步谷歌云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，谷歌云资源池创建成功。 创建腾讯云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择腾讯云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的腾讯云云平台）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的虚拟网络。若列表显示为空，请在腾讯云控制台上创建。 IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 支持给网络资源和子网添加别名，在服务配置、申请和审批时，将显示别名，方便选择。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将腾讯云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步腾讯云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，腾讯云资源池创建成功。 创建UCloud资源池 进入 基础设施 - 资源池管理 ，点击添加，选择UCloud，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息：选择云平台入口（选择已创建的UCloud云平台）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的安全组和虚拟交换机。若列表显示为空，请在UCloud控制台上创建。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将UCloud中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步UCloud中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，UCloud资源池创建成功。 创建青云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择青云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的青云云平台）。 选择区域，可用区（选择区域后出现对应的可用区，可多选）。 网络类型，推荐选择专有网络，选择需要使用的VPC（若列表中下拉为空，请在青云控制台上创建VPC）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的虚拟网络和安全策略组。若列表显示为空，请在青云控制台上创建。 虚拟网络：选择子网及IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 安全策略组：选择安全策略组。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将青云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步青云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，青云资源池创建成功。 创建金山云资源池 进入 基础设施 - 资源池管理 ，点击添加，选择金山云，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的金山云云平台）。 选择区域，可用区（选择区域后出现对应的可用区，可多选）。 计算资源标签页：设置本资源池最大允许部署的vCPU、内存及虚机数量，留空为无限制。 存储资源标签页：设置用户可以申请使用的存储类型，并针对不同类型设置标签 网络资源标签页：指定用户可以选择使用的虚拟网络和安全策略组。若列表显示为空，请在金山云控制台上创建。 虚拟网络：选择子网及IP分配方式：包括手工指定、IP池或DHCP。若IP分配方式选择IP池，则需要选择分配的IP池，请首先在 IP地址管理 中进行IP池和IP地址分配的设置；若IP分配方式选择手工指定，则在服务目录中请求服务，填写网络参数时，需要输入IP地址，网关和CIDR；若IP分配方式选择DHCP,则自动获得服务器分配的IP地址和子网掩码。 安全策略组：选择安全策略组。 云资源标签页：展示该资源池中部署的云资源，包括导入和纳管的。点击导入按钮，可将金山云中已有的虚拟机导入到平台进行纳管。 同步策略标签页：您也可以在资源池中设置同步策略，定时同步金山云中新增的资源。 点击添加，进入同步策略配置界面 选择同步对象类型 输入同步策略名称 指定导入资源所属的业务组、项目以及所有者 过滤方式：通过\"标签\"和\"基于名字的正则表达式\"筛选出云平台新增的资源 状态：启用表示策略生效，禁用表示暂不生效 执行时间：使用Cron表达式设置同步策略的执行时间 点击保存，金山云资源池创建成功。 创建Kubernetes资源池 进入 基础设施 - 资源池管理 ，点击添加，选择Kubernetes，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 云平台资源信息： 选择云平台入口（选择已创建的Kubernetes云平台）。 命名空间 计算资源标签页：设置本资源池最大允许部署的POD数量、CPU和内存数量，留空为无限制。 点击保存，Kubernetes资源池创建成功。 创建HostPool资源池 通过HostPool资源池，您可以管理没有云平台的存量操作系统，如：Linux和Windows。你可以根据下面的步骤来添加HostPool资源池： 进入 基础设施 - 资源池管理 ，点击添加，选择HostPool，填写下列信息： 概况标签页： 名称：自定义资源池名称，请说明环境或者类型。 业务组：为资源池关联一个或多个业务组，使得业务组内的用户可以申请资源池内的资源。 资源标签（选填）：您可以为所管理的资源池设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 优先级：用于帮助指定资源池选择策略，当有多个资源池满足部署条件时，平台将优先选择优先级高的。数值越小，优先级越高。 启用：默认勾选；如果禁用，将不允许新的云资源部署到该资源池。 导入任务标签页中： 单台导入：您可以导入单台云主机 组织信息 业务组: 您可以选择资源所属的业务组，如无法选择，可选择添加业务组 所有者：您可以指定资源所属的人员 部署信息 名称：自定义资源名称，或者您可以点击 组织架构 － 命名规范 创建命名规则，则在此可以根据业务组上的规则自动生成 数量：您可以一次创建多个服务部署 键值标签：键值标签由一个键值对组成。例如，您可以定义一个键为“环境”且值为“UAT”的标签。可为所有的节点设置相同的标签，也可以取消勾选，为每个节点设置不同的标签 执行时间：您可以指定在未来的某个时间，进行服务部署的创建 付费方式：可选包年包月或者按需 租用到期时间：您可以指定服务部署的使用期限。到期之后，所有的服务将被停机 保留时间（日）：您可以指定使用期限到期之后，服务部署的保留时间。到期之后，所有的服务将被卸除。您可以输入3，留空为无限期 申请参数 资源池:指定导入资源的Hostpool IP地址：请输入云主机的IP地址，以供访问 IPMI配置信息：勾选则您需要配置接入智能平台管理的接口，您可以通过IPMI实现对物理设备的开关机操作。 IPMI访问配置：请输入IPMI本地地址，用户，密码，主机IP以及端口信息等。 系统配置 协议：您可以选择安全协议，例如SSH(安全外壳协议) 端口：填写端口号 验证方式：您可以选择“凭证”或者“密码” 凭证：当验证方式选择“凭证”，请选择可以SSH登录云主机的用户凭证。若下拉为空，请首先创建。 用户名，密码：当验证方式选择“密码”，请输入可以通过SSH登录云主机的用户名和用户密码。 批量导入：您可以通过上传csv文件进行批量导入云主机 指定导入资源所属的业务组、项目以及所有者。 标签（选填）：您可以为所导入的存量机器设置资源标签，注明资源池的不同用途和属性，从而让用户在申请服务的时候进行筛选和指定，快速筛选匹配资源池。如果需要了解如何创建和配置资源标签，请您参考资源标签。 上传文件：包含所要导入的存量机器信息的CSV文件。 下载详情：下载历史导入任务的CSV文件，查看历史导入存量机器信息。 资源池选择策略 服务配置中，配置云主机节点的云资源配置，需要注意资源池选择策略，平台主要提供以下几种策略： 手工指定：手工指定资源池，若资源池选择策略选择“手工指定”，支持使用资源标签，缩小选择范围。在下拉框中选择资源池，可选择勾选 申请时可见 和 申请时刻修改 。 自动选择剩余虚拟机数量最多的：平台自动按照策略选择当前可选择的资源池中剩余虚拟机数量最多的。 自动选择费用最低的：平台支持设置资源计费规则，按照策略选择当前可选择的资源池，费用最低 花费最少的。 平均分配：服务部署的时， 资源是平均分配到不同的资源池（平均分配的前提是选择的资源池有足够的资源）。 「Note」资源标签来源于管理员在 系统管理 - 资源标签 中配置完成，具体配置参考，请参考：资源标签 根据标签选择匹配该标签的资源池，实现将应用部署到特定的资源池。 修改/删除资源池配置 在资源池配置中，您可以点击 基础设施 - 资源池管理 ，进入资源池管理界面，对已配置生成的资源池进行修改或者删除的操作： 编辑资源池：点击资源池名称或选中某一资源池点击编辑，则出现资源池编辑界面，修改操作可参考创建资源池步骤，修改完成后，点击保存即可。 删除资源池：点击资源池名称或选中某一资源池，确认删除即可。 「Note」如果资源池中存在资源部署，则不能删除。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/虚拟机模板.html":{"url":"AdminDoc/03基础设施管理/虚拟机模板.html","title":"虚拟机模板","keywords":"","body":"虚拟机模板 虚拟机模板是平台对操作系统的抽象和标准化。平台提供了内置的通用操作系统，您无需额外配置，可直接申请部署云资源，平台将会根据您选择的资源环境，读取云平台中的可用镜像。 您也可以创建新的操作系统，或为各个操作系统指定特定的虚拟机模板或操作系统镜像，供您和用户在部署虚拟机的时候进行选择，或由平台根据您的配置自动进行选择。详细步骤请参考下文。 添加虚拟机模板 添加Linux虚拟机模板(配置所有可用镜像) 您可根据以下步骤添加Linux虚拟机模板： 选择 基础设施 - 虚拟机模板 ，进入虚拟机模板列表界面。该页面默认有2个Linux虚拟机模板，分别为Redhat7和CentOS 7，您也可以点击添加按钮创建新的操作系统。 允许在申请时选择云平台中所有的镜像： 默认勾选，允许用户在申请部署云主机时，根据资源环境选择云平台上的所有可用镜像； 取消勾选，可配置特定的镜像供用户在申请部署时选择。 镜像过滤：默认勾选，允许用户在申请部署云主机时,请您输入关键词，来过滤您在申请服务时选择的镜像名称。 点击保存，能创建生成一个新的操作系统。 添加特制虚拟机模板 下面介绍如何配置特定的虚拟机模板。选择 基础设施 - 虚拟机模板 ，进入虚拟机模板列表界面。点击 CentOS 7，进入虚拟机模板基本信息标签页，该页面显示操作系统名称、描述、以及系统类型（Linux或Windows） 取消勾选 允许在申请时选择云平台中所有的镜像 ，点击虚拟机模板标签页，进入虚拟机模板列表界面 添加一个私有云虚拟机模板 以vSphere为例介绍添加私有云模板的步骤。 点击添加，输入模板名称：CentOS 7.3 on vSphere，选择之前配置的vSphere云平台并做如下配置： 克隆模式：选择 完全克隆 或 链接克隆 「Note」完全克隆是和原始虚拟机完全独立的一个拷贝，它不和原始虚拟机共享任何资源，可以脱离原始虚拟机独立使用；链接克隆需要和原始虚拟机共享同一虚拟磁盘文件，不能脱离原始虚拟机独立运行。但采用共享磁盘文件却大大缩短了创建克隆虚拟机的时间，同时还节省了宝贵的物理磁盘空间。 完全克隆： 模板：选择一个vCenter中已经配置的Linux CentOS模板 链接克隆： 虚拟机：选择一个vCenter中的Linux CentOS 7的虚拟机。 快照模式：默认\"指定一个快照\"，可选择\"申请时候选择\"和\"总是使用最新\"这两种快照模式。选择\"申请时候选择\"将允许用户在服务申请的时候手工指定一个虚拟机快照。 快照：若快照模式选择\"指定一个快照\"，将选择一个快照。 使用规范：指vCenter中的虚拟机自定义规范。 无 表示不使用虚拟机自定义规范 内建 表示平台使用虚拟机模板中内建的自定义规范 自定义规范，表示根据模板的配置，平台创建一个新的虚拟机自定义规范，部署虚拟机 模板中已启用SSH：勾选该选项，表示模板中已经启用和配置SSH，可以选择通过SSH的方式安装监控代理；默认SSH端口为22，如果模板中修改了SSH的端口，可输入模板中修改的SSH端口号 监控方式： 无监控：若不安装监控代理，则平台的监控功能不可用。 SSH安装监控代理：选择SSH安装的话，会通过SSH的方式访问虚拟机并安装监控代理；设置监控端口，默认是9100。 云平台监控：从vCenter上直接读取虚机的监控数据，不需要安装监控代理。 管理员凭证：选择一个共享给所有业务组的凭证，需匹配虚拟机模板中配置的管理员用户名和密码。若下拉为空，请首先创建。 SSH凭证：当模板中已启用SSH，若管理员用户无SSH登录权限，需另外指定一个拥有SSH登录和sudo免密权限的用户，用于安装软件和运维操作。此时可勾选 指定SSH用户 并选择凭证，需匹配虚拟机模板中配置的有SSH登录权限的用户名和密码。若下拉为空，请首先创建。 「Note」 需将管理员凭证设置为共享给全部业务组方可在此处进行选择。您可在 个人中心 - 我的凭证 中管理目标凭证的共享范围。 您也可以点击 自定义密码 ，手动输入虚拟机模板中配置的管理员用户名及密码或有SSH连接权限的用户名及密码。 缺省模板：每个云平台配置一个缺省模板，如果用户在申请服务时没有选择，平台将自动选择缺省模板。 点击提交，提示虚拟机模板已创建。点击保存，提示虚拟机模板已更新。 添加一个公有云虚拟机模板 以阿里云为例介绍添加公有云模板的步骤。 点击添加，输入模板名称，例如CentOS 7.3 on Aliyun，选择之前配置的阿里云云平台并做如下配置： 选择区域，需要为每个区域关联至少一个镜像。 选择镜像来源。 自定义镜像：基于用户系统快照生成，包括初始系统环境、应用环境和相关软件配置。 公共镜像：有阿里云官方或第三方合作商家提供的系统基础镜像，仅包括初始系统环境。 镜像市场：镜像市场提供经严格审核的优质镜像，预装操作系统、应用环境和各类软件，无需配置即可一键部署云服务器。 镜像中已启用SSH：勾选该选项，表示模板中已经启用和配置SSH，可以选择通过SSH的方式安装监控代理；默认SSH端口为22，如果模板中修改了SSH的端口，可输入模板中修改的SSH端口号 监控方式： 无监控：若不安装监控代理，则平台的监控功能不可用。 SSH安装监控代理：选择SSH安装的话，会通过SSH的方式访问虚拟机并安装监控代理；设置监控端口，默认是9100。 云平台监控：通过云平台API直接读取虚机的监控数据，不需要安装监控代理。请首先在云平台入口的配置中启用。 管理员凭证：选择一个共享给所有业务组的凭证，需匹配镜像中配置的管理员用户名和密码。若下拉为空，请首先创建。 「Note」 需将管理员凭证设置为共享给全部业务组方可在此处进行选择。您可在 个人中心 - 我的凭证 中管理目标凭证的共享范围。 您也可以点击 自定义密码 ，手动输入虚拟机模板中配置的管理员用户名及密码或有SSH连接权限的用户名及密码。 缺省模板：每个云平台配置一个缺省模板，如果用户在申请服务时没有选择，平台将自动选择缺省模板。 点击提交，提示虚拟机模板已创建。点击保存，提示虚拟机模板已更新。 此时CentOS7的Linux操作系统，关联了2个虚拟机模板。在配置服务的时候，平台会自动选择与该服务相对应的虚拟机模板，无需重复设置。 添加Windows虚拟机模板（配置所有可用镜像） 您可根据以下步骤添加Windows虚拟机模板： 选择 基础设施 - 虚拟机模板 ，进入虚拟机模板列表界面。该页面默认有1个Windows虚拟机模板Windows 2012 R2，您也可以点击添加按钮创建新的操作系统。 允许在申请时选择云平台中所有的镜像： 默认勾选，允许用户在申请部署云主机时，根据资源环境选择云平台上的所有可用镜像； 取消勾选，可配置特定的镜像供用户在申请部署时选择。 镜像过滤：默认勾选，允许用户在申请部署云主机时,请您输入关键词，来过滤您在申请服务时选择的镜像名称。 点击保存，能创建生成一个新的操作系统。 添加特定虚拟机模板 下面以Windows Server 2012 R2为例介绍如何配置特定的虚拟机模板。选择 基础设施 - 虚拟机模板 ，进入虚拟机模板列表界面，点击 Windows 2012 R2 ，进入虚拟机模板基本信息标签页，该页面显示操作系统名称、描述、以及系统类型（LInux或Windows) 取消勾选 允许在申请时选择云平台中所有的镜像 ，点击虚拟机模板标签页，进入虚拟机模板列表界面 添加一个私有云虚拟机模板 以vSphere为例介绍添加私有云模板的步骤。 点击添加，输入模板名称：Windows 2012 R2 onvSphere，选择2.1节配置的vSphere云平台并做如下配置： 克隆模式：选择 完全克隆 或 链接克隆 「Note」完全克隆是和原始虚拟机完全独立的一个拷贝，它不和原始虚拟机共享任何资源，可以脱离原始虚拟机独立使用；链接克隆需要和原始虚拟机共享同一虚拟磁盘文件，不能脱离原始虚拟机独立运行。但采用共享磁盘文件却大大缩短了创建克隆虚拟机的时间，同时还节省了宝贵的物理磁盘空间。 完全克隆： 模板：选择一个Windows 2012模板 链接克隆： 虚拟机：选择一个Windows 2012的虚拟机。 快照模式：默认\"指定一个快照\"，可选择\"申请时候选择\"和\"总是使用最新\"这两种快照模式。选择\"申请时候选择\"将在服务申请的时候选择虚拟机快照。 快照：若快照模式选择\"指定一个快照\"，将选择一个快照。 使用规范：选择 内建 （按需求选择无、内建或自定义规范，规范有助于防止在部署相同设置的虚机时产生冲突） 模板中已启用WinRM：勾选该选项，表示模板中已经启用和配置WinRM，可以选择通过WinRM的方式安装监控代理 监控方式： 无监控：若不安装监控代理，则平台的监控功能不可用。 WinRM安装监控代理：会通过WinRM的方式访问虚拟机并安装监控代理；设置监控端口，默认是9182。 预安装监控代理：预安装是指模板中已经安装了监控代理。 云平台监控：从VCenter上直接读取虚机的监控数据，不需要安装监控代理。 管理员凭证：择一个共享给所有业务组的凭证。用户名需匹配您所选镜像的管理员用户名，同时将使用凭证中的密码设置管理员密码。若下拉为空，请首先创建。 「Note」 需将管理员凭证设置为共享给全部业务组方可在此处进行选择。您可在 个人中心 - 我的凭证 中管理目标凭证的共享范围。 您也可以点击 自定义密码 ，手动输入虚拟机模板中配置的管理员用户名及密码或有SSH连接权限的用户名及密码。 可勾选为缺省模板。每个云平台配置一个缺省模板，如果用户在申请服务时没有选择，平台将自动选择缺省模板。 点击提交，提示虚拟机模板已创建。点击保存，提示虚拟机模板已更新。 添加一个公有云虚拟机模板 以阿里云为例介绍添加公有云模板的步骤。 点击添加，输入模板名称：Windows 2012 on Aliyun，选择2.1节配置的阿里云云平台并做如下配置： 选择区域名称及镜像来源。 自定义镜像：基于用户系统快照生成，包括初始系统环境、应用环境和相关软件配置。 公共镜像：有阿里云官方或第三方合作商家提供的系统基础镜像，仅包括初始系统环境。 镜像市场：镜像市场提供经严格审核的优质镜像，预装操作系统、应用环境和各类软件，无需配置即可一键部署云服务器。 镜像中已启用WinRM：勾选该选项，表示模板中已经启用和配置WinRM，可以选择通过WinRM的方式安装监控代理。 监控方式： 无监控：若不安装监控代理，则平台的监控功能不可用。 WinRM安装监控代理：会通过WinRM的方式访问虚拟机并安装监控代理；设置监控端口，默认是9182。 云平台监控：通过云平台API直接读取虚机的监控数据，不需要安装监控代理。请首先在云平台入口的配置中启用。 管理员凭证：择一个共享给所有业务组的凭证。用户名需匹配您所选镜像的管理员用户名，同时将使用凭证中的密码设置管理员密码。若下拉为空，请首先创建。 「Note」 需将管理员凭证设置为共享给全部业务组方可在此处进行选择。您可在 个人中心 - 我的凭证 中管理目标凭证的共享范围。 您也可以点击 自定义密码 ，手动输入虚拟机模板中配置的管理员用户名及密码或有SSH连接权限的用户名及密码。 可勾选为缺省模板。每个云平台配置一个缺省模板，如果用户在申请服务时没有选择，平台将自动选择缺省模板。 点击提交，提示虚拟机模板已创建。点击保存，提示虚拟机模板已更新。 此时Windows 2012操作系统已关联了2个虚拟机模板。在配置服务的时候，平台会自动选择与该服务相对应的虚拟机模板，无需重复设置。 查看当前虚拟机模板 您可以根据下面的步骤来查看虚拟机模板： 在左边导航选择 基础设施 ，选择二级菜单 虚拟机模板 ，则显示当前的虚拟机模板列表。可在列表中查看描述信息以及该虚拟机模板对应的操作系统类型 点击虚拟机模板的名称可进入概况标签页，可查看操作系统名称、描述、系统类型 点击虚拟机模板标签页，进入虚拟机模板管理界面。可新增、编辑和删除虚拟机模板 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/03基础设施管理/计算规格.html":{"url":"AdminDoc/03基础设施管理/计算规格.html","title":"计算规格","keywords":"","body":"计算规格 计算规格定义了虚拟机的CPU和内存的配置规范（如：2核CPU，4G内存）。平台提供了内置的计算规格，您无需额外配置，可直接申请部署云资源，平台将会根据您选择的资源环境，读取云平台的可用规格。 您也可以创建新的计算规格，或为各个云平台指定特定的实例规格，供您和用户在部署虚拟机的时候进行选择，或由平台根据您的配置自动进行选择。详细步骤请参考下文。 进入菜单 基础设施 - 计算规格 ，可管理计算规格。在服务配置节点详细设置处可对计算节点做规格的配置。 「Note」不同类型云平台的计算规格的配置方式有所不同，区别如下： 私有云平台例如vSphere只需定义计算规格，不需要配置云平台规格 OpenStack需要定义计算规格和云平台规格 Azure、AWS、阿里云等公有云平台需要定义计算规格和云平台规格（针对每个公有云区域需要定义一个云平台规格） 添加计算规格 以下以新增阿里云云平台的计算规格为例： 进入菜单 基础设施 - 计算规格 可管理计算规格。平台默认四种计算规格微型（1 vCPU，1GB内存）、小型（2 vCPU，4GB内存）、中型（4 vCPU，8GB内存）、大型（8 vCPU，16GB内存）。 您也可以根据需要自定义计算规格类型： 规格名称：阿里云计算规格 资源类型：云主机 授权：指定能够申请该计算规格的角色 CPU：指定vCPU数量 内存：指定内存大小 允许在申请时选择云平台中所有的规格： 默认勾选，允许在申请服务时选择云平台中所有的可用规格。 若不勾选，需要为每个区域关联一个云平台实例规格，供您在申请部署时选择。 只允许选择CPU和内存符合以上配置的云平台规格：若勾选，只允许选择CPU和内存符合以上配置的云平台规格，则用户在申请部署云资源时候，将能够选择所有的符合该计算规格CPU和内存配置大小的实例类型（例如所有2 vCPU，4GB 内存的实例类型）。 当您需要配置特定的规格供用户在申请部署时选择，请取消勾选 允许在申请时选择云平台中所有的规格 ，点击保存，进入云平台规格的标签页，请输入如下规格信息： 云平台类型：阿里云 区域名称：云平台对应的区域，例如：华东2（上海） 规格：指定某个具体的规格或实例类型 点击保存，就可以添加一个新的阿里云平台规格。 查看计算规格 进入计算规格页面，可以看到规格列表，表格中会列出当前已有的所有的计算规格。 在列表中，显示规格名称、资源类型、CPU、CPU单位、内存、内存单位、创建者、创建时间。 编辑计算规格 在列表中，点击规格名称，可对点击的计算规格进行编辑。 删除计算规格 在列表中也可以选中一个计算规格，点击删除按钮将选中的计算规格删除。如果该计算规格正在使用中将会提示不可删除。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/03基础设施管理/IP地址管理.html":{"url":"AdminDoc/03基础设施管理/IP地址管理.html","title":"IP地址管理","keywords":"","body":"IP地址管理 功能描述 可以一键添加多种异构云平台如的IP池，配置和管理IP地址段，并在配置界面中以树形结构展示，在资源部署时为各云平台的云主机统一分配IP地址，为资源部署带来顺畅的网络服务。 支持可视化查看 IP 用量趋势，并手动释放； 自动检测IP地址冲突； 还可以能查询IP地址使用情况的详细日志信息。 提供IPv4、IPv6的全生命周期管理，创建IP池、与资源池关联、IP冲突检查、资源部署时自动化分配IP等等。 下文将介绍如何创建并使用IP池，目前IP池支持vSphere云平台、OpenStack和Azure内网IP地址。 IP树形结构 IP树展示：IP地址管理增加目录结构，目录包含多级，每级目录包含名称、描述、网段。 您可以创建， 更新和删除IP池目录，拥有对IP池目录的创建、更新、删除、查看权限， 其他人只对IP池目录可以查看， 拥有对IP池目录查看权限。 添加IP树的具体步骤：点击 基础设施 - IP地址管理 ，点击添加按钮，在概况标签页，输入名称、描述、类型、CIDR、网关。点击提交，即可创建IP树形结构。选中IP地址池名称，点击编辑按钮，可修改名称、描述、网关等相关信息，点击删除按钮即可删除IP信息。 如下图所示，创建适用于数据中心的IP地址目录管理，数据中心存在开发测试、生产、UAT等多个环境，以此为分组，统一且规范地管理所有IP池。 创建和管理IP池 管理员可在云管理平台中配置IP池，管理IP地址段，并可在IP池中查看IP地址使用情况，可占用以及释放被占用的IP地址。平台可创建支持IPv4，IPv6或者两者都支持的IP池。IPv4的应用范围虽广，但网络地址资源有限。IPv6地址不仅可以解决网络地址资源有限的问题，还可以解决多种接入设备连入互联网障碍的问题。目前IPv6类型仅支持vSphere云平台以及虚拟机的内网IP地址分配。 以vSphere虚机部署时为云主机统一分配IPv6地址为例，说明IPv6的IP池创建、配置和使用步骤。 IP池支持IPv6、IPv4的网关和路由的配置, 提供灵活的选项开关，来确认当前IP池是IPv4, IPv6或是两个都支持。 创建IPv6的IP池。点击 基础设施 - IP地址管理 ，显示IP池列表，点击添加按钮，填写IP池的名称、描述、类型选择IPv6、填写IPv6CIDR和网关。 对于支持IPv6的IP池, 如下图所示，每一个IPv6的IP范围不能超过10位, 也就是最多1024个IPv6地址数量。对于支持IPv6的IP池, 有独立的IPv6的Ip范围的tab页。 IP池与vSphere资源池进行关联。如下图所示，在网络资源那选择创建完成的IPv6的IP池。 管理IP地址，在IP地址列表界面，点击IP池名称，对IP地址进行管理，可查看IP用量趋势，手动释放；支持IP地址冲突检测；支持IP地址使用情况的详细日志信息查询 您可以参考如下操作步骤管理IP地址： 选择IP范围标签页，可看见IP池中所有管理的IP地址的详情：IP地址、使用IP的资源、状态（可用、已占用、不可用、冷却中、预留、预分配）、更新时间、操作人。支持对已占用、冷却中的IP地址进行释放操作，对可用的IP地址进行占用。 「Note」管理员可在 系统配置 - 系统参数 设置默认IP地址冷却时间。 点击 IP地址 将显示该IP的状态更新和冲突检测的操作日志。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/04组织架构管理/":{"url":"AdminDoc/04组织架构管理/","title":"组织架构配置","keywords":"","body":"组织架构 业务组 业务组是逻辑组织结构，支持创建多级业务组，用于在SmartCMP系统内对应企业的组织架构，如：子公司、部门和技术团队等。业务组将用户、服务目录和资源配额联系在一起，组成一个实体，方便用户进行管理。系统默认创建Default业务组。 项目 SmartCMP提供了项目的概念，每个项目都属于一个业务组，而项目内的用户成员只能来源于项目所属业务组。通过项目，您可以为你的企业创建资源共享区。在同一项目内的成员可以互相访问所创建的云资源，并进行相应的操作。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/04组织架构管理/业务组.html":{"url":"AdminDoc/04组织架构管理/业务组.html","title":"业务组","keywords":"","body":"业务组 业务组是平台内的逻辑组织结构，支持创建多级业务组。业务组是一个逻辑概念，有需要把用户、服务、资源使用以及流程、规范等联系在一起的实体都可以用业务组来对应，比如子公司，不同层级的部门等。 添加业务组 您可根据以下步骤创建业务组： 点击左侧导航栏 组织架构 - 业务组 ，点击业务组名称进入编辑页面，或创建一个新的。 概况标签页： 填写名称、上级业务组、简称、描述并上传图标。 主色调：选择某一颜色作为该业务组的主色调，该业务组发布的服务在服务目录中将显示设置的主色调颜色。若未设置，将由系统随机选择。 资源共享：开启\"允许共享\"后，业务组内所有人都能看到组内其他人的资源，需注意此配置保存后将不可更改。 租期策略： 服务部署租用时间：最大值最小值任意留空则对应区间无限制。服务租用时间到期后云主机将被自动关机。 服务部署保留时间：最大值最小值任意留空则对应区间无限制。保留时间到期后，服务部署将被卸除，放入回收站。 最大可延期次数：允许用户延长租用到期时间的次数。 服务到期后允许启动：勾选表示在服务部署到期之后，允许用户在延长租期之前启动该服务继续使用。 用户标签页: 关联用户：点击关联用户，勾选列表中的用户，点击确定，关联该用户到业务组。关联成功后，将在用户页面显示已关联用户。 移除用户：若该业务组中已有用户，在列表中选择某用户，点击移除用户，取消该用户和业务组的关联，该用户将不能查看、使用该业务组的资源。 关联角色：选择列表界面中的某用户，点击关联角色，勾选业务组管理员，点击提交，给该用户业务组管理员的角色。 资源池标签页:可以查看与该业务组关联的资源池，供用户申请部署云资源使用。 规范标签页：配置命名及申请规范。 命名规范：配置服务部署、云主机和云资源的命名规范，留空表示使用系统设置中的缺省模板，您也可以点击下拉列表选择已添加的命名规范模板，并在命名规范菜单中查看模板配置的详情规范信息。 申请规范：配置业务组在服务目录申请资源的规范， 云主机CPU最大值：限定用户申请服务时，每台云主机可申请的CPU最大值，留空表示无限制。 云主机内存最大值（GB):限定用户申请服务时，每台云主机可申请的内存最大值，留空表示无限制。 审批流程标签页：为业务组申请资源和服务关联审批流程，留空为不关联流程，具体操作您可以参考流程配置。 授权配置标签页：配置授权配置模板，指定用户对服务部署和云资源可以进行的操作。默认将使用系统设置中配置的缺省模板，您也可以选择另一个模板进行覆盖。您可以在授权配置菜单中查看模板配置的详细授权信息。 资源配额标签页：支持设置业务组的资源配额以满足控制部门级别资源配额的需求。业务组的资源配额与资源池的资源配额互相独立，是两个层面的资源配额管控。能够设置以下资源的额度：CPU、内存、存储、虚机数量。 默认不启用：资源配额界面禁止输入，同时不计算已使用的资源数量。 选择启用：上述资源可以设置配额，都是非必填项，只能输入大于等于零的整数，留空表示无限制。支持查看已使用配额（如果某个配额是无限制，剩余也一直是无限制，使用率一直是0%）。当新服务部署占用资源，或者运维操作修改配置变更资源使用情况，或者更改业务组，相应的资源使用情况会产生变更。 「Note」如果之前一段时间业务组没有启用配额，但业务组有资源占用，则该业务组在启用配额之后，将会显示已经使用的资源。子业务组的配额独立，即不受父业务组的限制，可以单独配置。 预算配额标签页：管理员可以为此业务组配置该业务组和每个用户的每个月/每年的预算，留空为无限制。个人预算不能大于业务组总预算。当业务组预算达到阈值，业务组成员不能申请新的资源。您可以设置到达预算之后对于云资源的控制策略，以及预算阈值告警。 预算配额的设置步骤： 选择计时单位年或月：选择按月表示在每月1号清零已有，恢复初始值；选择按年表示在下一年的起始日清零已有，恢复初始值。 业务组配额管理： 填写总预算，设定告警阈值（%），当业务组整体费用超过配置的告警阈值，触发后续通知，系统将自动发送通知给业务组管理员。 个人预算：设置个人预算，设定告警阈值（%），个人预算使用到达阈值时，触发后续通知，将发送通知给用户。个人预算设置后保存业务组，可在用户标签页查看每个用户预算的额度和使用情况，并可为每个用户单独设置额度。 预算策略： 选择“预算用完后不能申请新的资源”，当业务组预算使用完时，业务组关联的所有用户将不能申请新的需要付费的资源。 选择“预算用完后付费资源将自动关机” ：当个人预算使用完时，属于个人的云资源将关机，或者当业务组预算使用完时，属于业务组的云资源将关机。 「Note」当业务组下有多个额度不同的用户时，其中一个用户欠费，不影响其他用户申请资源，属于欠费用户的云主机停机，不影响其他用户的云主机状态。 业务组预算费用展示 您可以查看该业务组已经使用的资源信息，包括资源使用率，剩余资源等。 查看当前业务组 在左边导航选择 组织架构 - 业务组 ，可查看当前所有业务组。显示该业务组的名称、上级业务组、创建者以及创建时间等，可添加、编辑和删除业务组。 修改业务组配置 在左边导航选择 组织架构 - 业务组 ，选择一个业务组，点击编辑按钮，输入需要修改的内容点击保存。 添加级连业务组 选中一个业务组，点击添加按钮，您可以选择一个上级业务组，从而使得您的当前业务组加入到上级业务组中，实现一个级连的机构。(能且只能添加一个上级业务组)级连业务组可以实现组织机构的层级关系，您可以通过级连业务组对应到任意公司的任意组织结构。 级连业务组拥有如下的特点： 子业务组所关联的用户，不一定非得是父业务组的关联用户。 平台管理员进入 系统管理 - 系统配置 - 业务组 配置时，存在选项“将用户加入到子业务组时，同时加入到到父业务组中” 勾选此选项，则当您在子业务组中添加用户时，该用户会自动添加到父业务组中； 不勾选此选项，则当该用户不存在父业务组中时，子业务组也可以直接关联该用户，且不会自动添加到父业务组中 父业务组管理员将自动成为名下所有子业务组的管理员（这项规则与系统配置项无关） 每级业务组所关联的资源池相互独立 每级业务组所关联的服务目录相互独立 每级业务组所关联的部署和虚机相互独立 删除业务组 您可以根据下面的步骤来删除业务组： 在左边导航选择 组织架构 - 业务组 ，选择一个业务组，点击删除按钮。 点击确定按钮，确认删除操作。 「Note」 删除业务组会删除与该业务组绑定的脚本库、命名后缀、资源池等，并将所有用户从该业务组中移除。删除业务组前请确保该业务组下的所有服务部署已经卸除成功，并移除业务组下所有资源池、删除所有发布与未发布的服务。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/04组织架构管理/项目.html":{"url":"AdminDoc/04组织架构管理/项目.html","title":"项目","keywords":"","body":"项目 业务组可以创建一个或多个项目。项目内的用户成员只能来源于项目所在业务组的成员，项目成员可以共享使用项目中的云资源。 添加项目 您可根据以下步骤创建项目： 在左边导航栏选择 组织架构 - 项目 ，点击添加 输入项目名称， 点击确定 概况标签页： 填写项目的简称与描述，并上传图标。 资源共享：选择开启\"允许共享”后，项目内所有人都能看到项目内其他人的资源，需注意此配置保存后将不可更改。 用户标签页： 关联用户：您可以通过选择具体业务组或者高级搜索方式来筛选用户，并关联到当前项目，点击 关联用户 ，勾选用户，点击确定以关联该用户到项目。关联成功后，将在项目页面显示已关联用户，点击登录名将跳转至用户界面。 移除用户：若该项目中已有用户，在列表中选择某用户，点击 移除用户 ，取消该用户和项目的关联。 关联角色：选中某个用户，点击 关联角色 ，选择项目管理员，点击提交，即可赋予该用户项目管理员的角色。 云资源标签页：展示了该项目中所有的云主机、存储、网络、软件等资源。 点击保存，项目创建成功 编辑/删除项目 您可以根据下面的步骤来编辑项目：在左边导航选择 组织架构 - 项目 ，在列表中选择一个项目，点击编辑按钮，或点击项目名称，进入项目详情页面，输入需要修改的内容点击保存。 您可以根据下面的步骤来删除项目：在左边导航选择 组织架构 - 项目 ，选择一个项目，点击删除按钮，确认删除操作，项目删除成功。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-12 09:08:07 "},"AdminDoc/04组织架构管理/用户.html":{"url":"AdminDoc/04组织架构管理/用户.html","title":"用户","keywords":"","body":"用户 在左边导航选择 组织架构 - 用户 ，该页面显示当前业务组下的所有用户，显示用户登录名、用户姓名、用户邮箱、登录方式、业务组、组织单位、用户状态、创建时间、到期时间等。 可对用户进行添加、编辑、重置密码和删除等操作。可通过搜索进行快速定位。 平台管理员和IaaS管理员创建密钥时，可允许共享，开放创建的密钥供普通成员使用，但是普通成员只能使用业务组成员创建的密钥和共享的密钥。 用户还可以按需上传文件。 添加用户 您可根据以下步骤创建用户： 在左边导航选择 组织架构 - 用户 ，点击添加，进入创建用户基本信息界面。 概况标签页：输入用户名、邮箱、密码和手机号码等必填项，企业微信号、钉钉号、联系人姓名邮箱、到期时间（指定到期时间自动禁用）等选填，并上传图标。 角色标签页：默认用户为普通成员。系统默认有软件架构师、基础设施管理员、平台管理员等角色，您也可自定义角色，为该角色分配相应的权限，具体参照角色章节。勾选某角色后，会显示该角色所对应的实体对象（组件库、蓝图设计）和权限范围（访问、读取、创建、编辑或删除）。 关联业务组标签页：勾选业务组，将该业务组与用户关联,创建业务组详见添加业务组。 编辑用户 在左侧导航栏点击 组织架构 - 用户 ，选择一个用户，点击编辑按钮，输入需要修改的内容，点击保存。 重置密码 在左侧导航栏点击 组织架构 - 用户 ，选择一个用户，点击重置密码按钮，输入新密码、确认密码，点击提交。用户再次登录时需要输入新密码。 删除用户 在左侧导航栏点击 组织架构 - 用户 ，选择一个用户，点击删除按钮，弹出删除提示框点击是，提示删除用户成功。 禁用/启用用户 在左侧导航栏点击 组织架构 - 用户 ，选择一个用户，点击禁用按钮，弹出提示框点击是，提示用户禁用成功。 用户被禁用后，不能登录系统，登录系统时在登录页提示用户已禁用。 用户被禁用后，可以被启用，在左侧导航栏点击 组织架构 - 用户 ，选择一个被禁用用户，点击启用按钮，启用后可以重新登录。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/04组织架构管理/角色.html":{"url":"AdminDoc/04组织架构管理/角色.html","title":"角色","keywords":"","body":"角色 SmartCMP混合云应用管理平台支持多种角色的权限设置，系统已有基础角色包括： 平台管理员：拥有平台的管理和配置权限 普通成员：可以登录平台，如需申请资源和服务，需将用户加入到业务组中 基础设施管理员：拥有所有基础设施资源的配置权限 软件架构师：设计软件和应用的架构，可以管理和配置组件和蓝图 堡垒机管理员：拥有配置和管理堡垒机的权限 请求管理员：处理所有用户请求，可以执行分配关闭等操作 问题管理员：处理所有用户问题，可以执行分配关闭等操作 事件管理员：处理所有用户事件，可以执行分配关闭等操作 变更管理员：处理所有用户变更，可以执行分配关闭等操作 ITIL处理员：可以创建和管理自己发起的流程，并查看所有ITIL资源 平台管理员可以在 组织架构 - 角色 页面内添加、删除、编辑角色权限。角色管理完成后，平台管理员可以在 组织架构 - 用户 页面内管理用户，并根据需要为用户分配相应的角色。 在左侧菜单栏中点击 组织架构 - 角色 。角色列表界面，可以查看当前所有角色的信息，显示角色的名称、描述等。可添加、编辑、删除角色，并管理权限。 创建自定义角色 在左侧菜单栏中点击 组织架构 - 角色 ，点击添加，进入创建角色界面中。输入角色名称、描述信息，选择相应的角色权限范围，给相应的实体对象赋予不同的权限。点击保存生成新的角色，点击返回放弃创建角色。 角色的权限范围支持全部业务组级别。 编辑自定义角色 在角色列表界面中，选中一个自定义角色，点击列表上面的编辑，即可打开编辑自定义角色界面。 系统默认的角色不能编辑，自定义角色可以编辑，编辑完成后点击保存；点击返回，将不进行任何修改。 删除自定义角色 在角色列表界面中，选中一个自定义角色，点击列表上面的删除，弹出提示窗口，点击是即可删除该自定义角色。 系统默认的角色不能删除。 「Note」假如该角色仍然被其他用户所关联，则不允许删除。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 09:53:59 "},"AdminDoc/04组织架构管理/服务团队.html":{"url":"AdminDoc/04组织架构管理/服务团队.html","title":"服务团队","keywords":"","body":"服务团队 服务团队是工单服务管理过程中处理工单任务的服务人员集合，支持您指定一个或多个用户成为服务团队的成员。当您通过服务目录申请需要人工介入的手工工单服务之后，根据预先配置的服务流程，相应的服务团队将接到工单进行处理。 服务团队中的指定人员收到工单请求之后，可以进行转派，也可以进行线下处理，任务完成之后更新工单状态，系统将自动通知您，同时您也可以主动实时关注处理进程。 服务团队涉及到的功能点具体表现： 您可以创建、编辑、删除多种类型的服务团队 您可以自定义关联的用户和解除关联的用户 用户申请工单之后，相应的服务团队将接到工单进行处理 支持处理工单任务的人员之间相互指派工单任务，协同处理工单任务，也可以进行线下处理，处理完成之后更新工单状态，工单进入已处理状态。 添加服务团队 您可根据以下步骤添加服务团队： 在左边导航选择 组织架构 - 服务团队 ，点击添加，填写团队名称和描述，填写完成点击保存，进入概况标签页。 概况标签页：可修改团队名称及团队描述。 点击进入用户标签页：自定义关联用户和移除关联用户。点击关联用户，勾选相应的用户，点击确定即可关联成功。 点击保存，成功添加服务团队 查看服务团队 您可根据以下步骤查看服务团队： 在左边导航选择 组织架构 - 服务团队 ，该页面显示当前全部业务组下的所有服务团队，显示团队名称、描述、创建者、创建时间等。 可对服务团队进行添加、编辑、删除等操作。 可通过搜索进行快速定位。 配置服务团队 当您需要在工单服务管理中配置处理工单的服务团队时，请点击 服务建模 - 服务配置，在添加手工工单服务时，选择需要处理该工单的服务团队，详细操作流程请参考 配置手工工单服务。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/04组织架构管理/命名后缀.html":{"url":"AdminDoc/04组织架构管理/命名后缀.html","title":"命名后缀","keywords":"","body":"命名后缀 命名后缀是业务组中，服务部署名命名规则、云主机名命名规则、Windows主机名命名规则以及Linux主机名命名规则中后缀的组成部分。管理员可以定义数字序列或随机字符串，来保证云资源命名的规范和唯一性。 查看当前命名后缀：在左边导航选择 组织架构 ，选择二级菜单 命名后缀 ，则显示当前的命名后缀。该页面展示后缀名称、类型（数字或随机字符串）、长度、初始化序列、创建者及创建时间。 添加命名后缀 您可根据以下步骤添加命名后缀： 点击添加，输入命名后缀名称、选择类型并设置长度和初始化序号。 类型可以选择数字序列、动态数字序列及随机字符串。 数字序列：从初始化序号开始依次增加。 动态数字序列：根据命名规则的独特性，从初始化序号开始重新编号。 随机字符串：系统随机生产字符串。 点击保存，命名后缀添加成功 编辑命名后缀 选择某命名后缀，点击编辑，进行编辑后，点击保存。或可直接点击名称进入编辑页面。 删除命名后缀 选择某命名后缀，点击删除，可以删除尚未使用的命名后缀。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/04组织架构管理/命名规范.html":{"url":"AdminDoc/04组织架构管理/命名规范.html","title":"命名规范","keywords":"","body":"命名规范 业务组可以配置命名规范模板用于定义云主机和云资源的命名规则。 配置命名规范模板的优势：解决了平台内多个业务组使用相同命名规范需要重复配置的问题。 系统配置中可以配置业务组缺省规范模板,所有业务组默认使用。 用户可以在命名规范页面创建和管理命名规范，定义服务部署、云主机和云资源的名称。命名规范可以应用于不同的业务组。 添加命名规范 用户可根据以下步骤添加命名规范： 在左边导航栏选择 组织架构 - 命名规范 ，点击添加。 在基本信息输入名称、描述并勾选是否允许共享。 在命名规范标签下可定义服务部署名称、云主机名称、Windows主机名称、Linux主机名称及公网IP名称的命名规范。配置时可以选择系统提供的默认字段或输入自定义的字符串，其中系统默认字段支持业务组名、项目名、所有者名、时间戳、部署名、IP地址等。 点击保存生成命名规范 编辑、删除命名规范 在左侧导航栏点击 组织架构 - 命名规范 ，选择一个命名规范，点击 编辑 按钮，输入需要修改的内容，点击 确定 。 在左侧导航栏点击 组织架构 - 命名规范 ，选择一个命名规范，点击删除按钮，提示删除命名规范成功。 全局配置规范模板 系统配置里可配置业务组默认的命名规范模板。 在左侧导航栏点击 系统管理 - 系统配置 ，点击业务组标签页，为所有业务组配置默认命名规范模板。 该默认配置可以为空。若配置默认模板，则每个业务组不再需要单独配置。 为业务组单独配置命名规范 业务组可选择单独配置命名规范，一旦配置，将覆盖默认模板配置。 在左侧导航栏点击 组织架构 - 业务组 ，选中一个业务组，在规范标签页，可通过下拉列表选择需要配置的规范模板。点击保存。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-02-24 13:51:18 "},"AdminDoc/04组织架构管理/授权配置.html":{"url":"AdminDoc/04组织架构管理/授权配置.html","title":"授权配置","keywords":"","body":"授权配置 您可以在 组织架构 — 授权配置 页面管理授权配置模板，定义用户对服务部署和云资源可以进行的操作，同时指定审批流程，授权配置模板可以应用到不同的业务组。 部署操作授权标签页中规定了对主机创建成功后，可进行的运维操作以及针对该操作的审批流程。可以在 我的部署 - 云主机 页面，进入主机详情页面，查看可进行的运维操作。 云资源操作授权规定了对该云资源授权成功后，可进行的运维操作以及针对该操作的审批流程。在 我的部署 - 服务部署 页面，选择一个服务部署，列表页面顶部将显示该服务部署可进行的操作。云资源操作授权设置有两种方法。一是在 授权配置 中设置；二是在 服务配置 中进行设置。 服务配置 中的云资源操作许可将继承业务组配置，可在此范围内进行更改操作项启用与否和审批流程，业务组中未启用的操作将不能在 服务配置 处进行启用。详情请参考：部署操作许可。下文介绍在业务组层面添加云资源操作授权的方法。 添加授权配置 用户可根据以下步骤添加授权配置： 在左边导航栏选择 组织架构 - 授权配置 ，点击添加。 在概况标签页，填写名称、描述并勾选是否允许共享。 在部署操作授权标签页，点击添加，选择操作名称、角色，选择该操作授权的启用/禁用状态、启用的审批流程（可选）。 操作：在列表中勾选某项操作，如更改所有者，启动服务部署，停止服务部署等。 角色：在列表中选择能进行这项操作的角色。 启用: 默认设置启用，如选启用，则能进行该项虚机操作；如选禁用，则不能进行该项虚机操作 双因素认证: 可选择是否是否针对Day2运维操作启用双因素认证 审批流程：可选择默认模板。 在云资源操作授权标签页，点击添加，通过下拉列表选择云平台类型、组件、操作、角色、该操作授权的启用/禁用状态、启用的审批流程（可选）。 操作：列表中可勾选某项操作，如启用，停止，挂起等。 角色：选择能进行这项操作的角色。 状况: 可勾选启用（能进行该项虚机操作）或禁用（不能进行该项虚机操作） 双因素认证: 可选择是否针对Day2运维操作启用双因素认证。 审批流程：可选择默认模板。 可对每一条添加的设置进行修改或删除，或继续添加新的操作许可规则设置。 点击保存并返回授权配置页面。 编辑、删除授权配置 在左侧导航栏点击 组织架构 - 授权配置 ，选择一个授权配置，点击编辑按钮，输入需要修改的内容，点击保存。 在左侧导航栏点击 组织架构 - 授权配置 ，选择一个授权配置，点击删除按钮，提示删除授权配置成功。 全局配置授权模板 系统配置里可配置业务组默认的授权配置模板。 在左侧导航栏点击 系统管理 - 系统配置 ，点击业务组标签页，为所有业务组配置默认授权配置模板，并可勾选是否在将用户加入到子业务组时同时加入到父业务组中。 该默认配置可以为空。若配置默认模板，则每个业务组不再需要单独配置。 为业务组单独授权配置 业务组可选择单独配置授权配置，一旦配置，将覆盖默认模板配置。 在左侧导航栏点击 组织架构 - 业务组 ，选中一个业务组，在授权配置标签页，可通过下拉列表选择需要配置的规范模板。点击保存。 添加双因素认证 您可以针对Day2运维操作启用双因素认证，关联消息通知平台，在您企业中成员进行运维操作时发送验证消息，保护您的云主机和云资源的安全。 在启用双因素认证前，请先确保已执行以下步骤： 在 通知配置 页中对接消息通知平台； 在 系统配置 - 安全配置 页中开启所对接的消息通知平台的双因素认证。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/05服务建模/":{"url":"AdminDoc/05服务建模/","title":"服务管理","keywords":"","body":"服务模型 在SmartCMP中，一切服务基于蓝图建模来定义标准的服务框架与组件，SmartCMP提供丰富的开箱即用的软件组件，以可视化的形式编排蓝图，提供自定义表单，为任意服务定义参数和字段，灵活的为各项服务配置资源满足用户多样的需求；同时提供内置的流程设计器，让用户能够以可视化拖拉拽的方式设计服务流程和审批流程，帮助用户准确和快速的完成流程策略设计。 管理员将服务分组通过服务目录发布企业或组织需要的IT产品和服务，提供给用户自助申请。服务建模为各项服务配置资源、参数、自动化的工作流程和审批策略，实现自动化部署。 下图描述了如何组合组件、构建蓝图、服务配置、服务分组和发布的全过程。软件架构师组合软件组件和基础架构组件构建云服务的蓝图，管理员为服务配置资源和参数，IT支持管理员定义流程并指定服务团队，将服务分组并发布到服务目录。业务组成员在服务目录中根据实际需求进行自助申请。 「Note」服务申请的具体操作，请您参考：云服务管理 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/05服务建模/制品库.html":{"url":"AdminDoc/05服务建模/制品库.html","title":"制品库","keywords":"","body":"制品库 功能描述 云平台通过接入主流的制品仓库对制品进行存放管理和版本控制，云组件关联制品仓库并自定义应用的部署方式和相关参数。 制品仓库管理是对软件研发过程中生成的产物的管理， 制品一般作为最终交付物完成发布和交付。所有的制品包，依赖组件均能够纳入制品库中统一管理。 可快速在云管理平台上实现对多个环境的下的镜像仓库和镜像制品进行数据的统一录入和自动化存储，提供给持续集成系统和发布系统使用。 集成了DTR(Docker Trusted Registry)、Harbor、Nexus，帮助用户迅速搭建一个可部署于企业使用的私有制品源。 配置步骤 云平台支持通过组件库功能实现自定义应用软件，将制品仓库与软件组件关联，制品仓库对软件组件进行存放关联和版本控制管理。 以集成Harbor，提供统一的镜像和仓库管理服务为例，介绍详细步骤： 在左边导航选择 服务建模 - 制品库 在制品库入口，快速在平台上实现对多个私有镜像库的统一录入，创建多个制品库供不同的环境使用； 为云组件关联Harbor制品仓库，制品仓库自动化存储云组件，并进行版本管理；具体的操作步骤如下： 在组件库中点击组件名称进入组件详情； 勾选制品选项，并进入制品标签页 选择所需的参数。点击保存按钮，即可将组件与包管理平台进行关联； 在服务申请界面，用户还可自行选择或使用管理员配置的Harbor镜像部署容器，生成应用环境。 平台提供自助运维能力，在开发测试经过新一轮的迭代之后，构建的新镜像保存到Harbor中。此时用户能够通过云平台的自助运维功能，从镜像仓库获取最新的镜像，更新应用环境。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/05服务建模/组件库.html":{"url":"AdminDoc/05服务建模/组件库.html","title":"组件库","keywords":"","body":"组件库 SmartCMP云管平台的云组件拥有“将任意资源”提供服务化的核心能力，不仅内置丰富的组件资源和常用的操作，同时还拥有高度可扩展的能力，根据用户需求灵活自定义添加组件资源和配置运维操作。 组件的定义采用面向对象的设计方法，使用统一的数据结构进行建模，并将配置属性标准化。软件架构师也可以根据需要创建可重用的软件组件，并使用操作脚本准确指定在部署操作过程，支持随时重新编写这些操作脚本并实时发布，同步更新已安装的软件组件。 通过定义属性并将属性作为参数传递给操作脚本，以便在不同的环境中部署软件组件，而无需修改脚本。支持使用Ansible， Terraform， Shell， Python， Json， Ruby等语言来自定义软件组件，并且自定义软件组件的生命周期操作（包含创建，配置，启动，停止，删除、备份、巡检等等），系统内置创建，配置和启动操作，在移除的时候调用停止和删除操作，并且支持灵活自定义操作，实现软件和应用的全生命周期管理。 SmartCMP中的组件由属性和接口构成，软件组件由脚本、属性、元数据、生命周期管理四项共同组成，灵活的软件组件，可以关联主流制品库。具体概念如下： 脚本：生命周期的每个阶段都通过脚本来进行控制，得益于强大的底层类库，SmartCMP支持包括Ansible， Terraform， Shell， Powershell， Json， Yaml， Python， Text等方式，可以快速将应用的部署整合在云管平台内。 属性：不同应用系统对资源的需求和容量的控制都会有自定义要求，属性项可以按照不同系统的部署要求传递自定义参数。软件架构师可以通过设置自定义属性，将应用组件需要您填写的配置参数暴露在申请界面上，SmartCMP云管理平台会自动化调用相关参数执行应用的安装配置。 操作：SmartCMP云管理平台可以对应用系统的创建、配置、启动、停止、删除等过程进行完整的生命周期管理。通过脚本对应，完成从安装部署到到期卸载的所有软件配置工作。 软件组件与主流制品库关联，支持对接Jfrog Artifactory， Nexus制品库，实现软件版本的更新。 组件也是构成蓝图的基本单元，SmartCMP自定义的软件组件，可以可视化的放置到SmartCMP的蓝图 软件架构师可以通过组件管理界面管理组件。在左边导航选择 服务建模 - 组件库 ，右侧浏览区域出现所有组件列表。通过拖拽的方式组合组件，形成蓝图部署服务的编排。 丰富的组件库 开箱即用的组件资源 SmartCMP云管平台内置大量常用的组件资源，包括IaaS（不同云平台的云主机、网络、存储等等）、PaaS（服务器、数据库、RDS等等）、容器（Kubernetes、Docker）、软件(MySQL、Oracle、Nginx等等)、代理（监控代理），不同类型资源在统一的界面进行创建和管理，采用树形结构的分组目录，支持自定义组件分组，支持二次编辑、快速复制、导入、导出组件。 树形展示，支持组件的分组目录，支持树形结构，可以在创建组件和组件列表搜索树形展示。在组件列表页的树形图可以增删改，已存在组件目录不能删除。树形结构是一个逻辑的文件夹的概念，与组件的资源类型没有绑定的关系。 Iaas 用于描述所有的Iaas的组件，每个组件有自己的云平台类型，Iaas下的二级节点主要包括：计算、网络、存储、对象存储、负载均衡、安全组和文件系统等。 Paas 用于描述所有的Pass的组件，每个组件有自己的云平台类型，Paas下的二级节点主要包括云平台提供的服务能力。 容器：Container，用于描述所有的容器平台的组件，例如：Docker，Kubernetes。 软件组件：用于描述所有的Software的组件，每个组件有自己的云平台类型， 软件分为两种类型， 一种是二进制安装的软件， 运行在机器里面， 一种是容器镜像软软件， 运行在容器里面 容器镜像组件可以通过类型进行区分，增加一个属性resource.software，来标记这个软件运行在机器里面还是容器里面。平台开箱即用常用的软件组件。 软件组件 用于描述所有的Software的组件，每个组件有自己的云平台类型， 软件分为两种类型,一种是二进制安装的软件，运行在机器里面;一种是容器镜像软软件，运行在容器里面。容器镜像组件可以通过类型进行区分，增加一个属性resource.software，来标记这个软件运行在机器里面还是容器里面。 「Note」 监控组件：若需要使用云平台监控查看云服务器指标数据并且产生告警，需在云服务器上正确安装监控组件，云服务器指标数据采集依赖于监控组件。 编辑组件 选中组件列表中某组件可以进入编辑组件视图。编辑组件和创建组件类似，为了保证已使用该组件创建的蓝图不会因为组件的更新而无法使用，在编辑时，组件每个子视图中都有一些项目不允许改动。编辑组件的过程中随时点击「返回」按钮放弃编辑组件。 导入组件 您可以根据以下步骤进行导入组件操作 在左边导航选择 服务建模 - 组件库 点击导入按钮 点击浏览，选择本地组件（ZIP格式），点击提交 组件导入成功 导出组件，您可以根据以下步骤进行导出组件操作： 在左边导航选择 服务建模 - 组件库 选择组件列表中的某一组件，菜单栏上的导出按钮将变得可用，点击导出 组件导出成功 复制组件，您可以根据以下步骤进行复制组件操作： 在左边导航选择 服务建模 - 组件库 选择组件列表中的某一组件，菜单栏上的复制按钮将变得可用，点击复制 进入复制组件的编辑页面，可更改基本信息、属性、脚本列表以及节点接口信息。组件名字需要修改，组件不允许重名 删除组件，您可以根据下面的步骤来删除组件： 在组件列表视图中，选中待删除组件 在列表工具栏中点击删除按钮后，在确认对话框中确认后，组件会被删除 创建组件 SmartCMP云管平台支持用户根据需求创建可重用的组件，将任意资源组件化以及将配置组件的过程标准化，包括定义资源类型，定义版本，定义属性，定义组件的操作等等，并且所有的配置界面都开放给用户自定义。 例如：DBA在创建数据库集群时，需要部署Oracle数据库，DBA可根据需求在组件库添加Oracle组件，配置组件，包括配置组件基本信息、属性、脚本、操作（指定数据库的创建、启动、停止、重启、删除等等操作），具体描述如下，软件架构师可以根据下面的步骤来创建组件： 在组件列表的工具栏点击添加按钮进入创建组件视图 创建组件视图包含概况、使用说明、制品、属性、脚本列表、操作、依赖关系、历史版本。 组件概况 在概况标签页，可以提供组件名称、描述、组件版本、组件类型（定义组件的资源类型，决定组件的属性和操作，例如，添加Oracle组件时选择组件类型为Software，则新建的Oracle组件将继承父类软件组件的属性和操作，也可以通过自定义属性，使其获得与父类不同的功能。）云平台信息和上传图标，还可添加该组件的说明信息。 勾选制品之后，可以通过制品标签页选择二进制软件制品仓库，进行软件版本的配置。具体步骤，参考关联主流制品库 勾选实例化，勾选后该组件可通过“蓝图设计”进行编排。软件架构师可以通过组件管理界面管理组件。在左边导航选择 服务建模 - 组件库 ，右侧浏览区域出现所有组件列表。添加的软件组件，勾选实例化之后会出现在 组件列表 - 其他 标签页里以供选择组合组件，形成蓝图部署服务的编排。 组件属性 属性：用来满足不同系统对资源部署需求和参数控制的特定需求，由主键、类型、默认值、备选项和描述组成。可在备选项中添加可选值，使得您在申请服务的时候，只能从默认值和备选项中定义的值中进行选择。可以创建要求使用字符、浮点数、密码、布尔或整数值的软件属性，支持设置校验规则，输入正则表达式则输入的属性参数必须接受表达式的校验（例如：整数类型：对零以及正整数或负整数使用整数属性类型。布尔类型：使用布尔属性类型在“值”下拉菜单中提供 True 和 False 这两个选项）。 在属性标签页，您可以添加组件的属性，添加完成后可将其作为参数传递给操作脚本。例如： 当创建组件Oracle时，不同应用系统对Oracle的部署需求和参数控制都会有特定的需求和自定义要求。“属性”可以按照不同系统的部署要求，通过设置自定义属性，将应用组件需要填写的配置参数暴露在界面配置上，传递自定义参数。 当自动化部署Oracle时，SmartCMP云管理平台会自动化调用相关参数执行应用的安装配置，达到不同数据集群对Oracle部署的不同要求。需要注意的是自定义添加的属性键值和父组件中的属性键值不能相同，否则将覆盖父组件中的属性定义。 脚本列表 脚本：组件生命周期的每个阶段都通过脚本来进行控制，得益于强大的底层类库，支持包括Ansible, Terraform, Shell, Powershell, Json, Yaml, Python, Text等方式来自定义脚本。 在脚本列表标签页，您可以通过创建新文件添加脚本文件。这些脚本文件应该和组件接口中的某个操作关联，或者被其它的脚本文件引用。同时，您可以添加文本文件，这些文本文件一般用来提供组件的配置信息。多次点击创建新文件可以添加多个文件，输入文件名、文件类型后点击操作-编辑内容，可以在右面编写文件内容。 操作 操作：可以对应用系统的创建、配置、启动、停止、删除等过程进行完整的生命周期管理。通过脚本对应，完成从安装部署到到期卸载的所有软件配置工作。 在操作标签页，您可以将脚本列表标签页中添加的脚本文件关联到组件的对应操作上，每个操作动作下实现-请选择下拉列表中选择这个操作对应的脚本文件。内置的操作有配置、创建、删除、启动、停止等等。 以刷新操作为例，系统提前配置完成，组件刷新操作所使用的实现方式、脚本、任务和刷新必须的参数。内置的操作可应用于平台上的任意资源。因此，在创建组件Oracle时，将自动继承内置的“启动、停止、重启、删除、刷新”操作。封装指隐藏复杂操作的实现细节，仅对外提供公共的访问方式。平台将复杂的操作内置，开箱即用，降低差异性和理解难度。 例如：“调整虚机配置”操作(调整虚拟机的计算规格和云平台规格)，同一个“调整虚机配置”操作当云平台类型不同时，SmartCMP云管平台隐藏资源操作的流转细节，只暴露公共的访问接口。“调整虚机配置”操作应用在Hyper -V平台的虚拟机和OpenStack平台的虚拟机上，具体的技术实现方式不同，但是用户配置界面，显示相同内容，配置简单，易用性强。 同时，您也可以在这里添加更多的组件操作，并且进行相应的脚本文件关联。添加组件操作点击操作右侧的添加按钮。所有必填项都添加好了之后，点击保存按钮生成新的组件，在组件列表上可以看到新添加的组件。添加组件的过程中随时点击返回按钮放弃添加组件。 生命周期操作 描述 示例 创建 创建软件 创建 Tomcat 服务，为“创建”生命周期操作编写的脚本将在首次安装软件时运行。 配置 配置软件 配置Tomcat，设置 JAVA_OPTS 和 CATALINA_OPTS。配置脚本会在安装操作完成后运行。 启动 启动软件 使用 Tomcat 服务器中的启动命令启动 Tomcat 服务。启动脚本会在配置操作完成后运行。 停止 停止软件 使用 Tomcat 服务器中的停止命令停止 Tomcat 服务。停止脚本会在启动操作完成后运行。 删除 删除软件 在应用程序中执行特定操作，然后再销毁部署。删除脚本会在销毁软件组件后运行。 配置操作 内置大量常用操作的同时，支持自定义组件的操作，配置界面开放给用户，包括自定义操作的实现方式（支持脚本/任务）、脚本（脚本来自于自定义的脚本文件）、过滤条件（组件操作支持EL表达式的过滤条件，当自定义填写了表达式，只有满足过滤条件时，操作才能在操作列表显示，显示生效后可供选择来执行。否则，操作将不在操作列表中显示）、操作分组（操作进行分组，例如：常用操作下的启动、停止、挂起、重启等等；更改配置操作下的设置标签、调整虚机配置、更新云主机名称等等）以及执行的具体参数配置（超时时间和最大重试次数）。 「Note」表达式的格式，例如：${param} ， ${param > 1}， ${param == 'abc'}， ${param != null}，${param == null}，当填写表达式 ${componentType !='resource.iaas.instance.vSphere'} 表示组件类型需要是vSphere云平台的虚拟机，自定义的操作对“满足以上条件”的组件资源才能生效，即会显示在满足条件的 “vSphere云平台虚拟机的操作列表” 中，并支持相应的运维操作。 例如：为IaaS云主机资源（vSphere云平台的linux虚拟机）添加备份操作。如下图，自定义操作基本信息，在脚本列表自定义“备份脚本backup.sh”，在配置操作时，选择脚本backup.sh，将脚本与操作绑定，并选择操作方式为“Shell”。 「Note」vSphere云平台的linux虚拟机，添加的运维操作，支持在 我的部署 - 云主机 页面执行。详情请参考：云主机运维操作添加的运维操作支持权限控制，管理员在业务组的云资源操作许可标签页配置，详情请参考：云资源操作许可 软件组件的表单配置：在软件组件中能够给\"创建\"操作和其他自定义操作配置参数和表单，其中，表单是根据属性动态生成的。配置完成表单的内容（支持JSON格式），也能够直接显示表单的预览，以满足多样的需求。 支持二次更新操作。系统已经提供该操作的实现，如果需要覆盖，可以启用该选项 \"覆盖系统操作\" 。 在操作标签页，点击任意操作，进入操作标签页，当选择的主键名匹配到已有的系统内置操作会出现覆盖操作系统的选项和提示，勾选后 \"覆盖系统操作\"才会出现后面的实现配置、执行配置、表单配置等信息。 不勾选则为内置操作。 依赖关系 某些组件资源不能单独部署，例如，软件组件需要协同其他组件资源进行部署，支持创建和管理当前组件和其他组件的依赖关系。依赖关系用于定义多个组件在同时进行编排部署的场景中不同先后顺序，并且可以在相互有依赖关系的组件之间传递运行时参数。 在依赖关系标签页：选择类型（包含于/依赖于），然后选择目标组件，例如：在vSphere云平台中，MySQL组件与Serve组件是包含关系，Serve组件与Network组件是依赖关系。 版本管理 当您更新组件时，每次更新的版本将会被记录下来，支持回退到历史版本，具体操作步骤如下： 组件列表的工具栏点击任意组件按钮进入软件组件视图 在历史版本标签页，您可以看到所有的历史版本，当您做出修改时，平台会默认记录您的历史版本信息包括：版本号、版本描述、创建人和创建时间 您可以勾选相应的版本v1，点击恢复版本一键从版本v2回退到历史版本v1，点击保存并同步则同步组件信息。 同时也支持一键删除任意历史版本，勾选要删除的版本，点击删除确认删除即删除成功。 关联主流制品库 支持软件组件与主流制品库关联，支持对接Jfrog Artifactory，Nexus制品库匹配包管理平台，实现软件版本的更新。 在制品标签页，您可以选择 入口、仓库（Jfrog Artifactory、Nexus）、组、名称、版本（默认选择latest代表最新版本） 点击保存按钮，即可将组件与包管理平台进行关联。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/05服务建模/蓝图设计.html":{"url":"AdminDoc/05服务建模/蓝图设计.html","title":"蓝图设计","keywords":"","body":"蓝图设计 蓝图 蓝图是包含计算、存储、网络、软件等资源在内的整体应用环境的完整规范定义，用于确定各种资源的的属性与依赖关系、工作流和执行策略。您可以通过可视化画布进行蓝图设计，将一个或多个组件进行组合，从而创建标准化的服务框架。蓝图发布之后，可用于创建云资源部署服务。蓝图设计列表展示目前生成的蓝图信息，以及其发布状态，并可以按照蓝图名称进行搜索。勾选具体蓝图名称，则可以对其进行一系列操作，包括编辑、复制、发布、取消发布、导入、导出、删除等。 　 内建蓝图 内建蓝图为系统创建的蓝图，目前SmartCMP内建了一系列典型的蓝图以方便您使用，例如Windows on vSphere, linux VM，您可以在创建服务配置时直接使用这些内建的蓝图。在左边导航栏选择 服务建模 - 蓝图设计 ，在蓝图列表中选择内建的蓝图，您便可以使用当前蓝图配置您的服务。 可视化编辑器概览 点击蓝图名称或添加新蓝图将进入可视化编辑器，您可以在其中编辑蓝图架构或修改组件参数。 可视化编辑器包括以下几个部分： 组件列表面板：组件列表包含SmartCMP支持的云基础架构的各个组件，以及您自定义组件。您可以选中任意一个组件，然后将它拖放到画布中。 画布：您可以将组件拖放到画布上，不同的组件之间可以在画布上建立连接以定义组件之间的关系。 基本信息面板：包括蓝图的名称，描述和图标信息。您可以对其进行修改。 输入面板：管理蓝图里的所有输入项。 输出面板：管理蓝图里的所有输出项，可添加或者编辑输出信息。在添加输出信息时，可选择或输入表达式。 选中组件的组件信息面板：包含选定组件的基本信息、参数等。 组件的添加与设置 当您把组件拖放到画布上，组件就被添加至蓝图中。选中组件，在组件信息面板里可以编辑组件信息。组件编辑信息包括： 基本信息：可以在基本信息里看到组件的类型和版本，同时可以对组件的名称进行修改。 参数：组件的参数列表，包括组件自身的参数和从父节点继承的参数，可以在这里对参数进行设置。 功能：组件的功能列表，展示组件可以提供的功能，一旦有其它的组件需要功能列表里的功能作为前提条件，那么就可以建立其它组件到该组件的连接以提供该功能给其它组件。 前提条件：组件需要的潜在功能列表，一旦列表里的功能被完全或者部分满足，该组件就可以运行工作，您在这里建立和其它组件的连接关系，以满足自身的需求。 连接：组件的所有连接列表，一旦前提条件里的某个组件需要的功能被满足，对应的连接就会出现在这里，您可以在这里对这一连接进行编辑和删除操作。 组件的删除 组件被拖放到画布上后，若要删除组件，鼠标右键点击该组件，进行删除操作。 连接的建立 您可根据以下步骤建立连接： 在组件 信息面板-前提条件，添加连接。 在蓝图中添加。画布上的所有组件和连接构成了蓝图。当一个组件被拖放到蓝图中后，组件的左边框和右边框上就会创建组件的 连接点 。在左边框上的连接点对应于组件的功能，在右边框上的连接点对应于组件的前提条件。因此，您可以用鼠标选择右边框上的 前提条件 连接点，这个时候，系统就会给出蓝图中所有潜在的可连接的 功能 组件连接点，您可以选择其中的某一个组件进行连接。 连接的删除 在组件信息面板中删除：任何类型的组件连接均可以在这里删除。在 组件信息面板 - 连接 中选定连接，点击删除。 在蓝图中删除：选中某一个连接，单击鼠标右键，在弹出的上下文菜单里可以删除选中的连接。绝大部分的连接都可以这样删除。 「Note」：虚机和网络组件，虚机和存储组件的连接是例外，不可以通过这种方式删除。 创建蓝图 创建vSphere单节点蓝图 当您需要创建vSphere单节点蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择vSphere栏目下的Server和Network组件，分别将他们拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考文中表格 定义网络：点击Server右边的network节点拖拽到Network的link节点上，建立server和network的网络连接 点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的vSphere蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，vSphere虚拟机蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 vSphere 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 使用时将Instance的Network连接点与Network组件的link连接点相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的dependency连接点与SecurityGroup相连 Network 容器组内的容器共享相同的IP地址和端口号 使用时将Instance的Network连接点与Network组件的link连接点相连 Volume 是一个可辨认的数据存储单元 将Volume组件拖拽到Instance内 Logical Switch NSX逻辑交换机可在完全脱离底层硬件的虚拟环境中再现交换功能（单播、多播和广播） 将Lswitch与Instance/Windows Instance连接点相连 DLR NSX逻辑(分布式)路由器 将DLR与Lswitch相连 Security Group NSX安全组，由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 将Security Group与Instance/WindowsInstance连接点相连 Edge 增强型数据速率GSM演进技术,是一种从GSM到3G的过渡技术 将Edge的Load Balancer的edge连接点与Load Balancer相连 LoadBalancer 负载均衡是将访问流量根据转发策略分发到后端多台云服务器的流量分发控制服务 将VirtualServer内置于LoadBalancer内，使用时将LoadBalancer的edge连接点与Edge相连 VirtualServer 是一个高扩展和高可用性server，在一个真正server的集群中构建而成 将VirtualServer内置于LoadBalancer内，使用时将VirtualServer的Server连接点与Sever相连 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建VMware NSX 蓝图 当您需要创建VMware NSX 蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择vSphere栏目下的Server、Lswitch、DLR、SecurityGroup组件，分别将他们拖拽到右边的画布区域中,蓝图中的组件描述和连接说明可参考1.7.1中表格 点击Server右边的lswitch节点拖拽到Lswitch的节点上（显示绿色），建立server与Lswitch的连接 点击DLR右边的lswitch节点拖拽到Lswitch的节点上，建立DLR与Lswitch的连接 点击SecurityGroup右边的Server_WindowsServer节点拖拽到Server的节点上，建立SecurityGroup与Server的连接 点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 点击保存并发布，发布蓝图，提示蓝图发布成功 创建vSphere MySQL带监控蓝图 当您需要创建应用软件部署和带应用监控的蓝图时，以部署一台vSphere上的虚拟机、并安装MySQL以及MySQL监控为例： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择vSphere栏目下的Server和Network组件，分别将他们拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考1.7.1中表格 定义网络：点击Server右边的network节点拖拽到Network的link节点上 添加组件：从左边的组件列表中选择软件组件栏目下的MySQL和MySQLExporter组件，拖动至server节点框内，选择连接的名称，点击「完成」 添加依赖关系：点击MySQLExporter右侧的节点拖拽到MySQL左侧的feature节点上，添加MySQLExporter与MySQL的依赖关系 验证蓝图：点击左上角 验证，验证蓝图的合法性 保存并发布：点击左上角的保存并发布，发布蓝图 根据下章服务配置步骤，选择刚发布的蓝图，发布服务目录 服务目录申请，经业务组流程（审批）后部署，部署成功后可查看MySQL组件的监控信息 创建OpenStack单节点蓝图 当您需要创建OpenStack单节点蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择OpenStack栏目下的Server和Network组件，分别将他们拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考文中表格 定义网络：点击Server右边的network节点拖拽到Network的link节点上 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的OpenStack蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，Openstack虚拟机蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 OpenStack 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance组件的dependency连接点与SecurityGroup相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的dependency连接点与SecurityGroup相连 Network 容器组内的容器共享相同的IP地址和端口号 使用时将Instance的Network连接点与Network组件的link连接点相连 Router 路由， 将Router的Network连接点与Network组件的route连接点相连 FloatingIP 浮动IP，通常是一个公开的、可以路由到的IP地址，可灵活，自由地根据需要分配 与Instance组件的floatingIP连接点相连接 Volume 是一个可辨认的数据存储单元 将Volume组件拖拽到Instance内 Security Group 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 将Instance组件的Security_Group连接点与SecurityGroup相连 Load Balancer 负载均衡是将访问流量根据转发策略分发到后端多台云服务器的流量分发控制服务 使用时将Instance组件的dependency连接点与LoadBalancer相连 Firewall 防火墙 单独部署 Load Balancer Listener 负载均衡监听器，可监听客户端的请求，服务端的操作等 将Listener内置于LoadBalancer，将Listener的Server连接点与Server相连。LoadBalancer中可内置多个Listener， Listener可与多个Server相连 DNS 域名系统,是将域名和IP地址相互映射的一个分布式数据库 单独部署 EIP 弹性公网IP是独立的公网IP资源,使用方便灵活 使用时将EIP组件的machine连接点与Instance相连,也可单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建OpenStack LoadBalancer with SecurityGroup蓝图 当您需要创建OpenStack LoadBalancer with SecurityGroup蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择Openstack栏目下的Server、Network将它们拖拽到右边的画布区域中，点击Server右边的network节点拖拽到Network的link节点上，建立Server节点和Network的连接，蓝图中的组件描述和连接说明可参考1.7.4中表格 从左边组件列表Openstack栏目下，选择LoadBalancer组件到右边的画布区域，再将Openstack栏目下Listener拖动至LoadBalancer节点框内，点击完成，建立负载均衡监听器（Listener）和负载均衡器（LoadBalancer）的内置关系 点击Listener右边的server节点拖拽至Server的server节点上，建立Listener和Server节点的关联关系 从左边组件列表Openstack栏目下，拖动SecurityGroup组件到右边的画布区域，点击Server组件右边的security_group节点到SecurityGroup左边的security节点上，建立Server与SecurityGroup的连接关系 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的OpenStack LoadBalancer with SecurityGroup蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，OpenStack LoadBalancer with SecurityGroup虚拟机蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 创建OpenStack DNS蓝图 当您需要创建OpenStack DNS蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择Openstack栏目下的DNS，拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考1.7.4中表格 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的OpenStack DNS蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，OpenStack DNS虚拟机蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 创建阿里云蓝图 当您需要创建阿里云蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择阿里云栏目下的Instance，SecurityGroup，EIP, Load Balancer组件拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考文中表格 拖拽Instance组件上的Dependency连接点至SecurityGroup组件的feature连接点，建立Instance与SecurityGroup的依赖关系 「Note」若需在服务配置时新建安全组，则在SecurityGroup的参数下，去掉勾选\"使用已有资源\" 拖拽EIP组件上的Machine连接点至Instance的Machine连接点，建立EIP与Instance的依赖关系 拖拽Load Balancer组件上的Server连接点至Instance的Server连接点，建立Load Balancer与Instance的依赖关系 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图验证成功后点击左上角保存，保存成功后点击返回 保存蓝图：验证成功后点击左上角保存保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的阿里云蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，阿里云蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 阿里云 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance组件的dependency连接点与SecurityGroup相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的dependency连接点与SecurityGroup相连 SecurityGroup 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 将Instance组件的dependency连接点与SecurityGroup相连 Volume 是一个可辨认的数据存储单元 将Volume组件拖拽到Instance内 LoadBalancer 负载均衡是将访问流量根据转发策略分发到后端多台云服务器的流量分发控制服务 使用时将LoadBalancer组件的server连接点与Instance相连 Object Storage 对象存储是一种以对象形式的存储数据的系统 单独部署 ESS 弹性伸缩，能够根据用户的业务需求和策略，自动调整对弹性计算资源的管理 单独部署 EIP 弹性公网IP是独立的公网IP资源,使用方便灵活 使用时将EIP组件的machine连接点与Instance相连,也可单独部署 VPC 虚拟私有云，为云服务器、云容器、云数据库等资源构建隔离的、用户自主配置和管理的虚拟网络环境 单独部署 Redis Redis是一个缓存数据库 单独部署 Kubernetes Cluster Kubernetes集群，由节点组成，这些节点可以是物理服务器或者虚拟机，在上面安装了 Kubernetes 平台 单独部署 Container Registry 容器镜像仓库，提供安全的镜像托管能力 单独部署 MySQL MySQL是一个关系型数据库管理系统 单独部署 MariaDB MariaDB是一个数据库管理系统,属于MySQL的一个分支 单独部署 SQLServer SQLServer是一个关系型数据库管理系统 单独部署 Vswitch 虚拟交换机，配置灵活、扩展性强 单独部署 NAS 网络附属存储，一种将分布、独立的数据整合为大型、集中化管理的数据中心，以便于对不同主机和应用服务器进行访问的技术 单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础组件中 创建Kubernetes蓝图 当您需要创建Kubernetes蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择Kubernetes栏目下的Service和Deployment组件拖拽到右边的画布区域中，蓝图中的组件描述和连接说明可参考1.7.8中表格 拖拽Service组件上的Deployment节点至Deployment组件，建立Service与Deployment的依赖关系 添加Container组件：从左边的组件列表中选择Kubernetes栏目下的Container组件，拖动至Deployment节点框内，选择连接的名称，点击完成，建立Container与Deployment的依赖关系 添加PersistentVolumeClaim组件：从左边的组件列表中选择Kubernetes栏目下PersistentVolumeClaim组件，拖动至右边的画布区域。拖拽Container组件的pvc节点至PersistentVolumeClaim，建立Container与PersistentVolumeClaim的依赖关系 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图验证成功后点击左上角保存，保存成功后点击返回 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的Kubernetes蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，Kubernetes蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 Kubernetes 组件描述 云平台组件连接说明 Deployment 为POD和ReplicaSet 提供了一个声明式定义方法，方便管理应用 Container 容器 将Containier组件拖拽到Deployment内 Nginx- Container 容器 将Nginx-Containier组件拖拽到Deployment内，其config_Map连接到ConfigMap Service Service 定义了这样一种抽象：一个 Pod 的逻辑分组，一种可以访问它们的策略 — 通常称为微服务。 将该组件的Deployment节点连接至Deployment组件 Ingress 给 service 提供集群外部访问的 URL、负载均衡、SSL 终止、HTTP 路由等。 将该组件的Service节点连接至Service组件 Persistent Volume Claim 请求存储资源。 将Container的pvc节点连接至该组件 ConfigMap 用于保存配置数据的键值对，可用于保存单个属性或保存配置文件。 将Nginx-Container的ConfigMap节点连接至该组件 Secret 解决密码、token、密钥等敏感数据的配置问题。 将Container的Secret节点连接至该组件 ServiceEndpoint 用于记录service对应的所有Pod的访问地址 将Container的service_endpoint节点和ServiceEndpoint的container节点相连，然后将ServiceEndpoint 的software_component节点与软件组件相连 DaemonSet 保证在每个Node上都运行一个容器副本，常用来部署一些集群的日志、监控或者其他系统管理应用。 将Container内置于DaemonSet中 StatefulSet 为了解决状态服务的问题 将Container内置于StatefulSet中 Tomcat 为了解决状态服务的问题 将Tomcat内置于Devployment中 MySQL 为了解决状态服务的问题 将MySQL内置于StatefulSet中 Helm Chart 用于快速部署容器应用 单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建Helm Chart蓝图 当您需要创建Helm chart蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择Helm Chart栏目下的Helm Chart组件拖拽到右边的画布区域，蓝图中的组件描述和连接说明可参考文中表格 「Note」以Helm Chart举例请确保您的Kubernetes集群已安装Helm,如您需要创建一般Kubernetes蓝图，您可以拖拽其他Kubernetes组件 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图 保存蓝图：验证成功后点击左上角保存保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的Helm Chart蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，Helm Chart蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 创建Azure蓝图 当您需要创建Azure蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择Azure栏目下的VirtualNetwork和Instance组件拖拽到右边的画布区域中，拖拽Instance组件上的virtualNetwork节点至VirtualNetwork组件的link节点，建立Instance与VirtualNetwork的依赖关系，蓝图中的组件描述和连接说明可参考文中表格 再选择Azure栏目下的AvailabilitySet、 SecurityGroup、BlobContainer组件拖拽到右边的画布区域中，拖拽Instance组件上的availability_set节点至AvailabilitySet组件的instance节点，拖拽Instance组件上的security_group节点至SecurityGroup组件的security节点，建立Instance与Availability、SecurityGroup的依赖关系 再选择Azure栏目下的LoadBalancer组件拖拽到右边的画布区域中，再将LoadBalancerRule拖动至LoadBalancer节点框内，点击「完成」，建立负载均衡规则（LoadBalancerRule）和负载均衡器（LoadBalancer）的内置关系 拖拽LoadBalancerRule组件上的instance节点至Instance组件的loadbalancer_rule节点，建立Instance与LoadBalancerRule的依赖关系 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图验证成功后点击左上角保存，保存成功后点击返回 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的阿里云蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，阿里云蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 Azure 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance的virtualNetwork连接点和Network的Link连接点相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance的virtualNetwork连接点和Network的Link连接点相连 Load Balancer 负载均衡是将访问流量根据转发策略分发到后端多台云服务器的流量分发控制服务 将Load Balancer Rule内置于Load Balancer中，通过Load Balancer Rule与Instance相连 Network 容器组内的容器共享相同的IP地址和端口号 使用时将Instance的Network连接点与Network组件的link连接点相连 Volume 是一个可辨认的数据存储单元 单独部署 Object Storage 对象存储是一种以对象形式的存储数据的系统 单独部署 Load Balancer Rule 负载均衡规则 将Load Balancer Rule内置于Load Balancer中，将Load Balancer Rule的instance连接点与Instance的loadBalancer_rule连接点相连 AvailabilitySet 可用性集可确保在 Azure 上部署的虚拟机能够跨多个隔离的硬件群集分布 将Instance的availability_set连接点和AvailabilitySet的instance连接点相连 Disk 磁盘 将Disk组件拖拽到Instance内 Security Group 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 使用时将Instance组件的Security_group连接点与SecurityGroup组件的Security连接点连接 MySQL MySQL是一个关系型数据库管理系统 单独部署 SQLServer SQLServer是一个关系型数据库管理系统 单独部署 Redis Redis是一个缓存数据库 单独部署 Kubernetes Cluster Kubernetes集群，由节点组成，这些节点可以是物理服务器或者虚拟机，在上面安装了 Kubernetes 平台 单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建AWS蓝图 当您需要创建AWS蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择AWS栏目下的Instance和SecurityGroup组件拖拽到右边的画布区域中，拖拽Instance组件上的security_group节点至SecurityGroup组件的security_group节点，建立Instance与SecurityGroup的依赖关系，蓝图中的组件描述和连接说明可参考文中表格 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图验证成功后点击左上角保存，保存成功后点击返回 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的AWS蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，AWS蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 AWS 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance组件的Security_Group节点与SecurityGroup相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的Security_Group节点与SecurityGroup相连 Volume 是一个可辨认的数据存储单元 单独部署 RDS 数据库实例是在云中运行的独立数据库环境。 单独部署 SecurityGroup 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 将Instance组件的Security_Group连接点与SecurityGroup相连 Object Storage 对象存储是一种以对象形式的存储数据的系统 单独部署 EIP 弹性公网IP是独立的公网IP资源,使用方便灵活 使用时将EIP组件的machine连接点与Instance相连,也可单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建青云蓝图 当您需要创建青云蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择青云栏目下的WindowsInstance和SecurityGroup组件拖拽到右边的画布区域中，拖拽WindowsInstance组件上的security_group节点至SecurityGroup组件的security节点，建立WindowsInstance与SecurityGroup的依赖关系，蓝图中的组件描述和连接说明可参考文中表格 验证蓝图：点击左上角 验证，验证蓝图，提示这是一个合法的蓝图验证成功后点击左上角保存，保存成功后点击返回 保存蓝图：验证成功后点击左上角保存，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的青云蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，青云蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 青云 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance组件的dependency连接点与SecurityGroup相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的dependency连接点与SecurityGroup相连 SecurityGroup 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于控制实例的网络访问 使用时将Instance组件的dependency连接点与SecurityGroup相连 Volume 是一个可辨认的数据存储单元 将Volume组件拖拽到Instance内 Redis Redis是一个缓存数据库 单独部署 MySQL MySQL是一个关系型数据库管理系统 单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 创建通用云蓝图 通用云蓝图是完全的云中立，创建完成后，方便您按需部署到任何所需云平台。当您需要创建通用云蓝图时，请按以下操作步骤操作： 选择 服务建模 - 蓝图设计 ，点击添加 输入蓝图名称及描述，点击确定，进入可视化蓝图编辑页面 从左边的组件列表中选择通用云栏目下的Instance和Security　Group组件拖拽到右边的画布区域中，拖拽Instance组件上的security_group连接点至SecurityGroup组件的security连接点，建立Instance与Security　Group的依赖关系，蓝图中的组件描述和连接说明可参考文中表格 验证蓝图：点击左上角验证，验证蓝图，提示这是一个合法的蓝图 保存蓝图：验证成功后点击左上角保存当前蓝图，保存成功后点击返回，将回到蓝图列表界面 发布蓝图：在蓝图列表里选择刚编辑的通用云蓝图，点击发布，然后点击是 蓝图发布成功，状态变为已发布，通用云蓝图创建成功 也可在验证成功后，直接点击保存并发布，发布蓝图 通用云 组件描述 云平台组件连接说明 Instance 实例的基本单元，承载运算的主体 将Instance组件的dependency连接点与SecurityGroup相连 WindowsInstance 实例的基本单元，承载运算的主体 将WindowsInstance组件的dependency连接点与SecurityGroup相连 SecurityGroup 安全组由同一地域内具有相同保护需求并相互信任的实例组成，是一种虚拟防火墙，用于设置实例的网络访问控制 使用时将Instance组件的dependency连接点与SecurityGroup相连 Network 容器组内的容器共享相同的IP地址和端口号 使用时将Instance的Network连接点与Network组件的link连接点相连 Object Storage 对象存储是一种以对象形式的存储数据的系统 单独部署 LoadBalancer 负载均衡是将访问流量根据转发策略分发到后端多台云服务器的流量分发控制服务 使用时将LoadBalancer组件的server连接点与Instance相连 Volume 是一个可辨认的数据存储单元 将Volume组件拖拽到Instance内 VPC 虚拟私有云，为云服务器、云容器、云数据库等资源构建隔离的、用户自主配置和管理的虚拟网络环境 单独部署 EIP 弹性公网IP是独立的公网IP资源,使用方便灵活 使用时将EIP组件的Machine连接点与Instance相连,也可单独部署 软件组件 实现快速地部署不同的软件 内嵌至基础设施组件中 Exporter 用于监控实例运行情况 内嵌至基础设施组件中 修改蓝图 如果因业务需求，您需要对现有蓝图进行修改，您可以根据下面的步骤来修改蓝图： 在左边导航选择 服务建模 - 蓝图设计 点击蓝图名称，则进入蓝图编辑界面，根据需要修改蓝图，点击保存 复制蓝图 如果您想要快速添加现有蓝图的设计，您可以根据下面的步骤来复制蓝图： 在左边导航选择 服务建模 - 蓝图设计 选择蓝图列表中的某一蓝图后，菜单栏中的复制按钮将变得可用，点击复制，更改蓝图名称，点击保存，蓝图复制成功 导入蓝图 如果您在本地已存有蓝图设计，可以根据下面的步骤来导入蓝图： 在左边导航选择 服务建模 - 蓝图设计 点击导入按钮 填写蓝图名称，蓝图描述（选填），点击浏览，选择本地蓝图，点击提交 蓝图导入成功 蓝图导入成功时，蓝图中的组件被同步更新，如果组件类型已经在CMP中存在，则直接更新组件，组件版本增加1，您可以在 服务建模 - 组件库 中查看新增组件， 点击组件名称，在历史版本标签页中查看组件版本详情；如果组件类型不存在，则直接新建对应的组件。 导出蓝图 如果您需要把在平台中创建的蓝图设计保存到本地，可以根据下面的步骤来导出蓝图： 在左边导航选择 服务建模 - 蓝图设计 选择蓝图列表中的某一蓝图后，菜单栏中的 导出 按钮将变得可用，点击导出，Zip格式的蓝图导出成功 删除蓝图 　 当您不再需要某个蓝图时，可以根据下面的步骤来删除蓝图： 在左边导航选择 服务建模 - 蓝图设计 选中蓝图点击删除按钮，点击确认后蓝图删除成功 蓝图发布 当您发布蓝图后，可以在配置云资源蓝图服务时，选择已发布的蓝图设计。配置完成后，用户可以直接通过服务目录申请该云资源蓝图服务，您可以根据下面的步骤来发布服务： 在左边导航选择 服务建模 - 蓝图设计 选择列表里状态为\"未发布\"蓝图，点击操作按钮选发布，确认发布后，蓝图发布成功，列表中蓝图状态为\"已发布\" 当您取消蓝图发布后，在进行服务配置时，就无法选择取消发布的蓝图设计，您可以根据下面的步骤来取消现有蓝图的发布： 在左边导航选择 服务建模 - 蓝图设计 选择列表里状态为\"已发布\"蓝图，点击操作按钮选取消发布，蓝图取消发布成功，列表中蓝图状态为\"未发布\" Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/05服务建模/流程配置.html":{"url":"AdminDoc/05服务建模/流程配置.html","title":"流程配置","keywords":"","body":"流程应用场景 在云资源的自助化申请、审批、自动化部署、运维操作和手工工单处理过程中，流程定义了这些任务处理过程或服务配置过程的方法和策略。系统默认提供标准流程，同时支持您通过流程设计器定义灵活的各项服务所需的流程，对云主机的申请、运维操作、回收进行控制，对手工工单服务的处理、关闭进行管控，主要流程包括：审批、手工工单服务和云资源蓝图服务流程等等。 审批流程 SmartCMP支持通过流程设计器自定义审批流程模板，自定义的具体配置包括审批的层级结构，审批员的指定，审批规则，以及可以执行的操作。 主要功能点： 支持定义任意多级审批。 支持在流程设计器中图形化的设计审批的全过程。 支持定义按用户或角色进行审批。 支持定义审批时是否可以更改申请的配置。 支持在业务组和服务目录层面定义需要审批和通知的环节。 支持审批员批量操作审批 支持设置每一级审批员可以修改的字段 支持通过企业微信、钉钉审批，审批员可通过企业微信或钉钉收到审批消息通知，并在审批指定应用（在企业微信、钉钉中创建的第三方企业应用）完成审批流程。 「Note」 您需在 通知配置 中配置企业微信或钉钉的审批应用相关参数，具体请参考通知配置 配置审批流程 SmartCMP配置审批流程有两种方法： 一是在业务组配置中添加审批流程A 二是在服务配置中添加审批流程B 「Note」 当同时使用两种配置方法，审批流程发生冲突，服务配置中审批流程B优先于业务组配置中的审批流程A。 在业务组中添加审批流程 您可为业务组添加审批流程，配置成功后，业务组成员申请服务部署时，将需要通过审批模板中的流程进行控制。 组织架构 - 业务组 ，点击业务组名称进入业务组详情页面 在审批流程标签页，选择 审批模板，点击保存 保存后，业务组成员申请服务时会进入审批流程 在服务配置中添加审批流程 在 服务目录 申请服务成功后，如果服务提前配置了审批流程，则服务将进入审批队列，获得审批模板中相关成员的审批意见。审批通过才能执行部署操作。 以在服务配置中为\"vSphere单节点服务\"添加审批流程及用户申请该服务为例： 在 服务建模 - 服务配置 选择服务配置列表中的 \"vSphere单节点服务\"。 点击服务名称，进入编辑服务页面，在审批配置标签页中，选择审批流程（在服务配置过程中，审批流程的内容只能查看和选择任意一个流程，不能编辑和删除）点击保存。保存后，申请该服务需要按照该模板的审批流程通过后才能部署。 服务申请者点击左侧导航栏 服务目录 ，选择\"vSphere单节点服务\"，点击进入服务申请页面。 填写申请单：包括业务组（卡片共享给全部业务组时需要填写）、服务部署名称（若业务组未设置服务部署命名规则时需填写），部署数量，项目，所有者，部署原因、虚拟机模板等，填写完成后点击申请。 查看申请状态：进入 服务请求 - 待审批 ，申请状态为待审批状态。 审批：审批模板中指定的审批人登入系统后进入 服务请求 - 待审批 ，选择待审批的项目。 「Note」可选中多个待处理的审批，批量进行操作。 输入审批意见，点击批准，弹出确认提示框，点击是。 查看已审批通过的项目：进入 服务请求 - 已审批 ，项目的状态是 审批通过 。 申请者登入系统后进入 我的申请 里查看申请的蓝图部署状态变更为 审批通过 。服务部署里，项目已经开始部署。部署成功后，在服务部署中，选择该服务，可对服务进行被允许的运维操作。 内置的审批流程 系统内置审批模板流程，方便用户直接选择所需要的审批流程。 内置的审批流程不可修改和删除，只支持查看和使用，用户自定义添加的审批流程支持修改和删除。 审批模板流程：内置的云服务部署审批流程 自定义并行审批流程 在左侧导航栏点击 服务建模 - 流程配置 ，点击添加名称（并行审批流程）、描述、类别（审批流程）等信息之后，使用流程设计器设计和定义您需要启用的审批流程。 选中并行审批流程，进入流程设计器以图形化的方式自定义具体策略： 为您介绍流程设计器的使用方法：左边圆圈代表开始的节点，右边圆圈代表结束节点，并行审批流程设定两个平行审批环节（审批A环节、审批B环节），某申请通过A环节并且通过B环节则审批通过申请成功，两个环节任意一个环节不通过则申请失败。如图所示： 配置审批人 审批人可以选择角色或用户。 审批流程中内置角色使用：如果希望审批能够从申请者所在的最底层组织架构开始审批，然后再是资源所在的业务组，需要在审批流程中添加额外的审批角色。您在编辑审批流程时，审批人选择 角色 ,例如：审批流程中添加两级审批流程，第一级角色选择\"一级业务组管理员\"，第二级角色选择\"二级业务组管理员\"。审批时可以从申请者资源所在业务组的最底层组织架构开始审批。 审批人选择动态用户，指定“动态用户”${FORM.approver}，为服务自定义表单，在表单配置处绑定approver字段，实现您可以指定任意一个用户作为审批人的需求。 审批人选择基于访问权限，则当这个流程用于部署或云资源操作审批时，只有对该资源有读取权限的用户才能收到审批请求。 审批更改（允许或不允许审批员进行修改）高级配置（可配置审批员可以修改的具体字段，例如CPU、内存等） 审批规则分为两种：第一种是固定值即满足设定数目的审批者则可通过该层级审批，如若有一人拒绝通过则审批失败。第二种为百分比即满足设定的百分比的成员通过此项审批则为通过，若有一人拒绝则审批失败。 对于具体的操作分为审批操作和执行操作： 审批操作是赋予该层级审批人审批的权限，即可以批准、拒绝或退回该申请。执行操作则没有审批权限，不能拒绝或退回，只是作为该层审批的审阅者查看申请内容并确认审批完成。此外，还可以对该层审批者定义是否具备修改申请的权限，如需，请勾选允许修改申请。 手工工单服务流程 手工工单服务流程定义工单任务具体的处理步骤、服务团队、服务人员和流转方式。 服务团队建立完成之后，通过服务配置创建工单，将工单发布到服务目录，完成服务卡片的发布和服务目录的管理。以下内容将为您详细介绍配置手工工单服务流程、配置手工工单服务和发布手工工单服务的具体步骤。 内置的手工工单服务流程 平台内置的手工工单服务流程包括标准手工工单，标准事件管理流程、自动化服务流程。 标准事件管理流程，用来解决出现IT资源相关的问题，例如：服务器意外关闭，网络出现中断问题等等，网络IP地址冲突等等。流程类型属于手工工单服务。 标准手工工单：需要IT人工介入的服务，例如：申请重新设置密码的手工工单服务。 自动化服务流程：用户申请手工工单服务，服务通过审批之后，自动化创建用户申请的资源，例如：创建项目，创建IP池，等等。 自定义添加手工工单服务流程 在左侧导航栏点击 服务建模 - 流程配置 ，点击添加，输入名称（手工工单服务流程）、描述、选择类别（手工工单服务）、上传流程配置文件。 「Note」内置的手工工单服务流程，不支持修改和删除，只支持查看和使用，用户自定义添加的手工工单服务流程支持修改和删除 标准事件流程 Incident Incident，用来解决出现的IT资源相关的问题，例如服务器down了，网络IP地址冲突等等，流程类型属于手工工单服务。 具体流程如图： 标准事件流程主要环节包括：一线处理支持、二线处理支持、关闭服务。 一线和二线的任务处理环节可以指定不同团队。一线处理支持收到事件之后，可以进行的操作如下： 直接处理，问题解决完成之后，填写问题或故障的原因或解决办法的说明 转派给其它服务团队 升级：升级到二线进行处理，并且填写升级说明 二线支持处理收到事件之后，可以进行的操作如下： 直接处理，问题解决完成之后，可以填写问题的原因和解决方法的说明 转派给其它团队 邮件通知用户问题已经解决，当发起手工工单服务申请的用户收到问题解决的邮件之后，如果用户满意此次手工工单服务选择进行服务关闭则工单状态改变为 已处理 ；如果用户选择将工单重新处理，则返回给上一级的处理人。（在邮件通知用户的上一步中谁处理的就返回给谁，二线处理的返回给二线，一线的返回给一线），工单状态改变为 处理中 云资源蓝图服务流程 内置的标准云服务部署流程 ：定义云资源自动化部署的流程，属于系统内置的云资源蓝图服务流程。 配置云资源蓝图服务流程，为满足不同服务项的服务流程要求，平台内置多种服务流程和自定义添加服务流程。您可以进入 服务建模 - 流程配置 页面，进行添加、查看、流程设计、启用、禁用、编辑和删除流程模板的操作，下文为您介绍具体操作步骤。 「Note」内置的服务流程不支持编辑、流程设计、启用、禁用、删除操作，具体的内置流程详细信息请参考：流程应用场景 在左侧导航栏点击 服务建模 - 流程配置 ，点击添加按钮 进入新增流程页面，输入自定义流程的基本信息：流程名称、描述、类别（云资源部署服务、手工工单服务、审批流程和任务执行四种类型），保存名称、类别等信息之后可使用流程设计器设计和定义您需要启用的流程。点击保存按钮，自定义服务流程创建成功。 为您介绍创建基础流程图的方法：左边圆圈代表开始的节点，右边圆圈代表结束节点，工单任务处理流程之后可以自定义任务一、自定义任务二、或其余的自定义任务。如图所示： 标准任务执行流程 内置的标准任务执行流程：定义任务自动化执行的流程，具体的任务类型包括：蓝图部署任务、云资源任务、Jenkins任务、脚本任务、等待任务等等。通过服务配置，配置服务具体的类型，以及绑定标准任务执行流程，配置完成后发布到服务目录，通过申请服务卡片来直接执行一个任务。 编辑、删除服务流程 在左侧导航栏点击 服务建模 - 流程配置 选中一个流程，点击 编辑 - 流程设计 直接进入服务流程设计器的UI，显示process的流程，以可视化的方式更改设计流程图。 「Note」选中的流程必须是自定义添加的流程，系统内置的流程不支持流程设计 在左侧导航栏点击 服务建模 - 流程配置 ，选择一个服务流程，点击删除按钮，弹出删除提示框点击是，提示删除服务流程成功。 「Note」当流程定义正在某一个服务配置中使用时，删除服务流程失败 启用、禁用服务流程 在左侧导航栏点击 服务建模 - 流程配置 ，选择一个服务流程，点击启用按钮，即可启用该服务流程。 在左侧导航栏点击 服务建模 - 流程配置 ，选择一个服务流程，点击禁用按钮，即可禁止使用该服务流程。 「Note」系统默认的流程主要有两种：标准云服务部署和标准手工工单。这两种内置流程默认启用，不可以禁用、修改或者删除。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/05服务建模/表单配置.html":{"url":"AdminDoc/05服务建模/表单配置.html","title":"表单配置","keywords":"","body":"表单配置 在创建或配置服务时，可以选择系统内置的表单（IP池创建表单、项目创建表单使用户可自动化创建IP池、项目等配置），如果您需要修改或添加额外的字段信息供用户在申请时填写，可以通过表单设计器，自定义配置表单，例如：申请新项目、申请邮箱账户、申请资源池、添加环境管理员。 系统内置表单： 创建IP池，定义了用户申请创建一个新的IP池时需要输入的信息。 创建项目，定义了用户申请创建一个新的项目时需要输入的信息。 上传附件，上传所需要的材料提供审批的时候使用。文件大小不能超过500KB。 资源池扩容，定义了用户申请资源池扩容时需要输入的信息。 下面为您介绍新增表单的具体操作步骤。 表单配置的字段完成之后，您可以在服务目录申请服务时自定义填写。 添加表单 在左侧导航选择 服务建模 - 表单配置 ，在表单配置列表界面点击添加，输入表单基本信息（表单名称和表单描述）；在表单内容处输入Schema的JSON配置，在UI上需要支持JSON的语法高亮；在表单预览处可查看自定义的表单内容。例如：添加环境管理员，定义字段信息，表单预览查看字段 环境管理员的来源和职责：环境管理员从测试人员中进行指定；测试人员与“测试业务组”进行关联。环境管理员只拥有查看和操作“与本人关联虚拟机”的权限（即当为vSphere服务配置环境管理员时，环境管理员会与该服务部署的虚拟机进行关联） 通过环境管理员的设置，实现对服务部署的扩展，更好的控制服务部署和操作虚拟机 在服务配置时，为服务绑定 环境管理员表单 在服务申请时，指定环境管理员、选择环境类型（后台结合企业业务需求提前配置）、系统属性和应用属性。 「Note」 支持灵活扩展，支持您根据业务需求，配置更多满足您需求的字段信息。 编辑、删除表单 在左侧导航选择 服务建模 - 表单配置 ，在表单配置列表界面点击编辑，即可修改表单基本信息（表单名称和表单描述）；在表单内容处修改Schema的JSON配置；在表单预览处可查看自定义的表单内容。 在左侧导航选择 服务建模 - 表单配置 ，在表单配置列表界面点击删除，即可删除表单。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/05服务建模/服务分组.html":{"url":"AdminDoc/05服务建模/服务分组.html","title":"目录配置","keywords":"","body":"服务分组 支持服务卡片的分类。可自定义不同服务卡片的类别，在服务配置中将相关的服务关联到不同的类别，在服务目录中分类展示，其中内置的服务分组有三种类型：工单服务，数据库和基础设施。 添加服务分组 在左侧导航栏点击 服务建模 - 服务分组 ，点击添加按钮，输入服务名称和服务描述，点击保存，即可添加成功。 编辑、删除服务分组 在左侧导航栏点击 服务建模 - 服务分组 ，选择一个服务分组，点击编辑按钮，输入需要修改的内容，点击保存。 在左侧导航栏点击 服务建模 - 服务分组 ，选择一个服务分组，点击删除按钮，提示删除服务分组成功。 服务分组应用 您可以自定义不同服务卡片的类别，点击　服务建模　－　服务配置　，并选择添加按钮，您可以将相关的服务关联到不同的类别。可申请的服务就会在服务目录中分类展示，方便快速搜索所需的服务。 配置服务目录展示方式 您可以自定义服务目录的展现界面，配置服务申请界面的具体步骤如下： 点击 系统管理 - 界面配置 ，选择服务申请标签页，您可以选择服务目录中分组与服务的展现方式：标签页展示或层级展示 标签页展示：分组按照标签页展示。 层级展示：分组按照卡片的模式，先展示服务分组，服务分组的具体操作步骤。 在服务目录视图界面，可查看服务分组的图标、名称、描述和文件夹的显示方式，点击一个分组，展现此服务分组的所有卡片。 您可以配置服务申请页面字段显示，其中可配置的字段有：描述、执行时间、键值标签、业务组、项目及所有者。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/05服务建模/服务等级协议.html":{"url":"AdminDoc/05服务建模/服务等级协议.html","title":"服务等级协议","keywords":"","body":"服务等级协议 概念：服务等级协议是服务供应商与服务申请者之间的一种承诺和约定，协议约定了服务完成的时间和其他条件，可以将服务等级协议与平台提供的服务（例如：手工工单、云资源部署、任务执行）进行关联，以确保及时地追踪服务的处理情况。 应用场景：在传统的转售模式中，SLA协议是写入合同中，有专人进行跟踪。新型的转售场景中，SmartCMP将SLA和服务进行绑定，服务申请者以及服务提供者可全程自动跟踪，实时查看服务进度以及所耗费的时间。 主要功能点： 您可以创建一个或多个服务等级协议，定义服务响应时间（可选两种时间单位，天/小时）、服务协议名称、描述、优先级（可选四种，最高、高、中、低），以及发送通知的用户和角色。 服务等级协议一次创建，可重复、多次地应用于不同的服务，但是一个服务配置只能关联一个服务等级协议。 定义四种SLA状态： 剩余时间占响应时间的比例范围在50%-100%，状态为正常，SLA状态颜色为绿色； 剩余时间占响应时间的比例在25%-50%，SLA状态颜色为黄色； 剩余时间占响应时间的比例在0-25%，SLA状态颜色为橙色； 剩余时间在0以下，状态为超时，SLA状态颜色为红色。 例如，您可设定SLA响应时间为4小时，成员服务申请后，服务处理的剩余时间在2小时以上（SLA状态颜色显示绿色）；剩余时间在1小时和2小时以内（SLA状态颜色显示黄色）；剩余时间在0-1小时以内（SLA状态颜色显示橙色），超时（SLA状态颜色显示红色）。 当SLA等级发生变化时，会发送通知给到您提前配置好的角色或用户。 您可以为相关服务（云资源部署、云应用部署、任务执行），配置服务等级协议，配置完成后发布到服务目录，用户通过服务目录进行服务申请时，所配置的服务等级协议会自动应用于对应的服务申请。 您也可以为工单服务配置SLA选择策略，则用户通过服务目录进行服务申请时，能够按需选择服务等级协议，或者平台能够自动匹配对应优先级的服务等级协议。 当您为服务配置了服务等级协议，并且为服务配置了审批流程后，在审批页面不允许修改SLA。当审批人拒绝该服务请求，申请者重新申请该服务时，剩余时间还是根据前一次的申请时间来计算。 添加服务等级协议 平台管理员有创建、编辑、删除服务等级协议的权限，普通成员只有查看的权限，拥有服务配置权限的普通成员，可以将服务等级协议与服务相关联。 　 平台管理员在左侧导航选择 服务建模 - 服务等级协议 ，在服务等级协议列表界面点击添加，进入创建界面，填写服务名称、描述、优先级（可选四种，特高、高、中、低），以及通知的用户和角色（可选单个或多个角色）。 选择 服务建模 - 服务配置，服务配置界面，点击服务名称，在概况标签页，请决定SLA的选择策略： 不使用SLA: 用户在申请工单服务时无服务等级协议的选项，即不限制完成此项任务所需要的时间和其他条件。 根据优先级自动选择：在用户申请工单服务时，平台会根据用户选择的影响程度（特大、大、中、小）和紧急程度（特急、急、中、低）自动匹配服务等级协议。 申请时选择：用户在申请服务时，可以再次根据实际需求选择服务等级协议。 用户在选择使用SLA并发起服务请求后，可以在我的请求列表查看，SLA状态搜索栏定义了四种SLA状态： 剩余时间占响应时间的比例范围在50%-100%，正常，颜色显示为绿色； 剩余时间占响应时间的比例在25%-50%，颜色显示为黄色； 剩余时间占响应时间的比例在0-25%，颜色显示为橙色； 剩余时间占响应时间的比例在0以下，颜色显示为红色。 并且当SLA状态发生改变，配置的用户或角色将会收到邮件通知。 编辑、删除服务等级协议 在左侧导航选择 服务建模 - 服务等级协议 ，在服务等级协议列表界面选中现有协议名称，点击编辑，即可修改协议的相关信息。 在左侧导航选择 服务建模 - 服务等级协议 ，在服务等级协议列表界面选中现有协议名称，点击删除，即可删除该协议。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-02-23 14:41:34 "},"AdminDoc/05服务建模/服务配置.html":{"url":"AdminDoc/05服务建模/服务配置.html","title":"服务配置","keywords":"","body":"服务配置 SmartCMP云管平台从组件的定义，到应用的可视化拓扑建模，并将服务配置标准化，再到基于蓝图和配置的自动化部署，最终生成一个符合TOSCA规范的云资源蓝图服务。支持您将设计好的蓝图发布为服务，在服务配置处配置基本信息、构成蓝图的组件详细参数、输入与输出、可以将服务与企业内部的流程（例如：审批流程）集成之后发布到服务目录。服务项主要功能有： 服务与一个、多个或全部蓝图关联，服务与业务组关联，可选定服务类型（云应用部署、云资源部署、手工工单、执行任务等等） 服务与服务策略关系，如可选服务时间、租期、服务流程等 服务访问权限设置，如配置部署操作许可，指定操作权限等 服务与流程集成，如审批流程、云服务部署流程等 具体操作步骤如下： 在左边导航选择 服务建模 - 服务配置 ，出现服务配置列表，列表中显示服务名称、描述、服务流程、蓝图设计、业务组、状态、创建者、创建时间等，可对服务配置做如下操作：添加、编辑、复制、取消发布、发布、 删除等。 「Note」服务发布完成之后，可以通过服务目录进行服务申请，具体操作方法参考：服务目录申请 添加服务配置 您可以根据下面步骤添加服务配置： 在左边导航栏选择 服务建模 - 服务配置 ，点击添加： 服务名称、服务描述（选填）：自定义服务名称并作服务的相关描述； 业务组：选择服务关联的业务组，业务组关联的用户都可以申请该服务，可选择一个或者多个业务组； 服务类型：选择云资源部署、云应用部署、通用工单、问题工单、事件工单、变更工单、请求工单或者任务执行申请； 选择云应用部署服务时，增选蓝图设计选项，可选择关联一个、多个、或全部蓝图； 选择云资源部署服务时，增选组件选项，可选择关联一个、多个或全部组件； 选择通用工单时，增选流程选项，系统内置标准手工工单，标准事件管理流程和自动化服务流程，可选择关联一个流程； 选择问题工单时，增选流程选项，可选择关联标准问题工单流程； 选择事件工单时，增选流程选项，可选择关联标准事件管理流程； 选择变更工单时，增选流程选项，可选择关联标准变更工单流程； 选择请求工单时，增选流程选项，可选择关联一个流程； 选择任务执行申请时，增选标准任务执行流程选项。 点击保存，配置生成新的服务。 在概况标签页填入下列信息 名称、服务项描述：自定义服务项名称，并对申请服务进行简要描述； 图标：服务项logo选择，发布后将在服务目录处显示； 业务组： 选择服务发布到的业务组，可选择特定某个业务组，或共享给所有业务组，选择该选项时，有些设置无法在服务配置时指定，将在用户申请服务时，指定某个业务组后，根据选中业务组上的资源而决定； 授权：指定在与指定业务组关联的用户中能够申请该服务的角色； 服务等级协议：选择配置好的服务等级协议，详情可参考服务等级协议。 服务分组：为申请的服务指定一个分组，方便在服务目录中展现； 顺序：指定申请的服务在服务目录中的排列顺序，数值小的排列靠前； 状态(只读)服务项状态： 已发布：将服务项发布到服务目录； 未发布：服务项未发布状态； 已过期：服务项已过期。 付费方式： 包年包月：以购买时长为付费基准，可选时长以月、年为单位； 按需：以使用资源量为付费基准。 租用时间（日）：服务部署的使用时间，服务部署租用时间到期后，部署里的所有云主机会停机。可设置租用时间范围，在 组织架构 - 业务组 的概况标签页设置，勾选允许修改和仅审批时可修改。 保留时间（日）：服务部署到期后，仍有一段保留时间，保留时间到后，部署会被卸除。可设置保留时间范围，在 组织架构 - 业务组 的概况标签页设置，勾选允许修改和仅审批时可修改。 蓝图配置标签页：当您在添加新的服务配置中，选择云应用部署服务时关联多个蓝图，您可以在该标签页查看与此服务配置关联的蓝图信息（名称，描述），并可添加或删除蓝图。 组件配置标签页： 当您在添加新的服务配置中，选择云资源部署服务时关联多个组件，您可以在该标签页查看与此服务配置关联的云组件信息（名称，云平台类型，描述，版本），并可添加或删除组件，这些组件必须是可以单独部署的组件（例如RDS、Redis、Storage、EIP等）或者是能够自动部署生成简单蓝图的组件（例如Instance等）。 当您在添加新的服务配置中，选择云资源部署服务时关联一个组件，可在该标签页看到该组件拓扑，并可以对该组件进行参数设置。 当您在添加新的服务配置中，选择云应用部署服务时关联一个蓝图，可在该标签页看到配置服务中的蓝图拓扑和所有组件，并可以对蓝图中的组件进行参数设置。配置列表中有三种类型的组件，分别为：计算组件、软件组件、网络组件： 计算组件：一般指服务器或计算节点，如Instance、WindowsInstance、InstanceD等； 软件组件：一般是放在服务器或者计算节点上的应用，如：Apache、MySQL、Tomcat等； 网络组件：一般指服务器的网络配置，如：network。 输入与输出标签页：可添加输入输出参数，服务部署成功后，可在详情页面进行查看相关输出数据： 输入：点击添加，填写名称（必填）、描述、默认值等输入信息。 输出：点击添加，填写名称（必填）、描述、表达式（必填）等输出信息。表达式可选择已有，也可根据需求自行输入。 审批配置标签页 审批流程： 可选审批流程（内置的默认审批流程或自定义的审批流程，例如：业务组管理员审批），如不选择，将使用业务组中配置的审批流程； 流程图、流程步骤：查看已选择的审批流程图和流程步骤； 表单配置标签页：选择服务对应的表单类型、可在表单预览中查看详细信息。 流程配置标签页 流程信息：可选一个服务流程（内置的标准云服务部署流程或自定义的服务流程）； 流程图、流程步骤：查看已选择的审批流程图和流程步骤。 服务条款配置标签页：您可以配置需要用户在申请服务时首确认的服务条款、隐私政策等。 名称：请自定条款名称。 顺序：请输入具体数值，服务条款按照数字从小到大排列。 链接：请输入条款的具体地址链接。 申请字段配置标签页：您可以定义用户在申请服务时需要填写的字段，包括业务组、项目、所有者、名称、描述、数量、执行时间、键值标签及云资源标签等字段。 启用申请字段配置： 如不勾选，则默认申请字段的配置与系统配置保持一致，您可以选择 系统管理 - 界面配置 ，点击服务申请标签页，查看已设置的服务申请字段。有部分申请字段并未在 界面配置 中设置，则默认为显示状态，并且所有字段的状态（”是否显示“和”是否必填”）不能修改。 如勾选，则您可以自行配置申请服务时显示的字段，并可以修改以下字段包括项目、描述、执行时间、云资源标签的状态（”是否显示“和”是否必填”），业务组、所有者、名称、数量、键值标签等字段只能修改“是否显示”的状态。启用申请字段配置后，此处配置的字段将覆盖系统配置，即当前服务申请页面字段与此处配置保持一致。 「Note」如果您在服务配置中启用了“申请字段配置”，则申请界面优先使用“申请字段配置”中的配置，即使在系统管理配置中配置相关字段也无影响，并且不会影响之前服务配置中的设置，只对新的服务配置中的默认配置生效。当您自定义所有申请字段都不显示时，则用户在申请该服务时，申请页面不会出现 组织信息 这部分内容的填写区域。 JavaScript扩展脚本标签页：您可以定制客户端脚本JavaScript，自定义服务申请界面上需要额外展现的内容。用户在服务目录中点击服务、加载申请页面的时候，脚本将在客户端Web浏览器中运行，展现定制内容。 云资源配置策略 服务配置中，配置云主机节点的云资源配置，需要注意资源池部署策略，平台主要提供以下几种策略： 手工指定：手工指定资源池，若资源池选择策略选择“手工指定”，支持使用资源环境标签，缩小选择范围，将出现“资源池”选择项，在下拉框中选择资源池，指定资源池，可勾选允许修改选项。 自动选择剩余虚拟机数量最多的：平台自动按照策略在当前可选择的资源池中，选择部署虚拟机数量最多的。 自动选择剩余容量最大的：平台自动按照策略选择当前可选择的资源池，资源使用量最小，剩余容量最大的。 自动选择费用最低的：平台支持设置资源计费规则，按照策略选择当前可选择的资源池，费用最低 花费最少的。 平均分配：服务部署时，资源是平均分配到不同的资源池，（平均分配的前提是选择的资源池有足够的资源。） 「Note」资源环境标签来源于管理员在 基础设施 - 资源标签 中配置完成，具体配置参考，请参考：资源标签 根据标签选择匹配该标签的资源池，实现将应用部署到特定的资源池。 　 接下来为您介绍云资源蓝图服务配置和手工工单服务配置的具体步骤： 「Note」服务配置的服务描述支持Markdown语法书写规则，从而在服务申请时候展示不同服务描述的展示格式 配置云资源蓝图服务 配置vSphere单节点服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择vSphere单节点服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页等配置请参照添加服务配置 在组件配置标签页中：可以看到vSphere服务拓扑图以及所有组件：Instance、Network。 Instance：点击Instance名称，进入节点详细设置，共有概况、服务器配置、网络、用户、磁盘、关系、操作许可等标签页： 概况标签页： 基本信息: 展示Instance的类型、名称等基本信息 云主机数量：选择部署的云主机数量 「Note」勾选允许修改和仅审批时可修改。这里存在两种情况：如果勾选一项允许修改，则用户在请求服务时，可以进行修改参数云主机数量，在服务审批阶段也可以进行修改参数云主机数量；如果勾选两项项允许修改和仅审批时可修改，则用户在请求服务时，不可以进行修改参数云主机数量，只在服务审批阶段允许进行修改参数云主机数量； 云资源配置标签页： 云资源配置： OS主机名（Hostname）：没有定义时默认继承业务组命名规则，可勾选允许修改和仅审批时可修改： 如果勾选一项 允许修改 ，则用户在请求服务时，可修改参数，在服务审批阶段也可修改参数； 如果勾选两项 允许修改 和 仅审批时可修改 ，用户在服务请求中，不可修改参数，只在服务审批阶段允许修改参数； 云主机名称：没有定义时默认继承业务组命名规则，可勾选允许修改和仅审批时可修改； 注释：选填，可勾选允许修改和仅审批时可修改； AD域（Windows服务）：AD域 勾选后，填写AD域名和用户姓名、密码。该服务部署后的虚机将加进AD域里。 资源池配置： 部署策略：选择资源池部署策略（手工指定、自动选择、平均分配） 「Note」资源池选择策略请参考资源池选择策略 选择已有的资源环境标签，可快速定位所需资源池。 若部署策略选择手工指定，可通过下拉框指定特定资源池。勾选允许修改及仅审批时可改，将允许用户在申请时修改资源池。 操作系统设置： 操作系统名称: 选择Linux/Windows操作系统,可勾选允许修改和仅审批时可修改 虚拟机模板:选择该操作系统下的vSphere虚拟机模板,可勾选允许修改和仅审批时可修改。 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 计算规格配置： 计算规格模式：计算规格模式定义了云主机CPU和内存的配置方式： 选择“自定义”允许直接输入数字； 选择“固定规格”将按照管理员配置的计算规格进行选择。 vCPU数量：若计算规格模式选择自定义，则手动输入vCPU数量，可勾选允许修改和仅审批时可修改； 内存（GB）：若计算规格模式选择自定义，则手动输入内存大小，可勾选允许修改和仅审批时可修改； 计算规格：若计算规格模式选择固定规格，选择规格，可在 系统管理 - 计算规格 中配置相关的计算规格，并可勾选允许修改和仅审批可修改； 系统盘配置： 文件夹: 虚机会部署在选中的vCenter文件夹里，支持申请时改变,需要在 资源池 — 云平台资源信息 中选择文件夹； 用户标签页（Linux服务）：可以添加Linux用户和用户组，一个用户可以有多个用户组，一个用户组可以有多个用户，虚拟机部署成功后，将会有对应的用户和组被创建，用户可以选择是否设置为sudoer。注意：只有安装了代理（部署时安装），才出现用户标签页面。 存储标签页：您可配置用户申请服务时默认的系统盘与数据盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 系统盘：配置默认系统盘 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择存储 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 置备模式:（选择完全克隆的虚拟机模板才会出现该选项，即选择虚拟机虚拟磁盘的磁盘格式）支持三种置备模式：精简置备、厚置备延迟置零、厚置备置零。 「Note」 厚置备延迟置零格式，以默认的厚格式创建虚拟磁盘。创建虚拟磁盘时分配虚拟磁盘所需的空间。创建时不会擦除物理设备上保留的数据，但是从虚拟机首次执行写入操作时会按需要将其置零。 厚置备置零，是一种厚虚拟磁盘类型，支持诸如 Fault Tolerance 等群集功能。在创建时为虚拟磁盘分配所需的空间。与常规格式相反，创建虚拟磁盘后，会将物理设备上保留的数据置零。创建这种格式的磁盘所需的时间可能会比创建其他类型的磁盘所需的时间更长。 精简置备格式，可节省存储空间。最初，精简置备的磁盘只使用该磁盘最初所需要的数据存储空间。如果以后精简磁盘需要更多空间，则它可以增长到为其分配的最大容量。 数据盘：添加申请服务时默认的数据盘，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加数据盘。数据盘选择方式同系统盘，可根据存储策略基于类型或标签选择。 文件系统标签页：配置默认的文件系统，您可选择勾选是否启用LVM。 若启用LVM，平台将按照您的配置自动创建LVM逻辑卷管理，您也可以允许用户在申请服务时按需进行创建。 卷组：选择一个或多个在存储标签页上添加的数据盘，组成卷组。可为每个卷组添加描述，若用户在申请时候创建文件系统，则在选择卷组时可以了解其用途。 文件系统：填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加新文件系统。 文件系统来源可选择磁盘或卷组，磁盘的大小将根据文件系统大小动态调整： 卷组：可选择已创建并关联磁盘节点的卷组。若文件系统的大小超过卷组中磁盘的大小，那么部署时其中一个磁盘将被扩展以符合配置的文件系统的大小。 磁盘：可选择存储标签页上已添加的且未关联至卷组的磁盘节点。若文件系统的大小超过指定磁盘的大小，那么部署时该磁盘将被扩展以符合配置的文件系统的大小。 若不启用LVM，您仅可配置默认的文件系统。填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，在文件系统来源下拉选择存储标签页中已创建的数据盘，选择允许用户申请和审批时修改的参数。若勾选允许申请时添加新文件系统，用户在申请时可以基于磁盘创建新的文件系统。 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 Network组件：点击network名称，进入节点详细设置，共有概况、属性、条件执行三个标签页： 概况页面：可查看Network组件类型、类别、名称； 属性页面：可选择网络标签以及管理网络，网络标签支持勾选 允许修改 和 仅审批时可修改。 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，vSphere虚拟机服务配置并发布成功。 配置VMware NSX服务 配置带NSX云平台的vSphere服务，配置服务前操作： 确保该业务组已添加vSphere云平台和VMware NSX云平台，并在vSphere云平台处添加与VMware NSX云平台的关联关系 在vSphere资源池中，关联VMware NSX的传输区域（将影响 NSX逻辑交换机 的显示） 关联成功后，在 资源池 - vSphere资源池 - 网络资源 中看到NSX逻辑交换机、NSX逻辑路由器、安全策略组三个额外标签页 NSX逻辑交换机标签页，选择交换机并分配资源池（网络资源与NSX逻辑交换机至少配置一种） NSX逻辑路由器标签页，选择DLR加入该资源池 安全策略组标签页，勾选已有的安全策略组 点击保存，VMware NSX资源池配置成功 配置VMware NSX虚拟机服务： 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择VMwareNSX服务蓝图，点击保存。 基本信息、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 点击组件配置标签页，可看到VMware NSX蓝图拓扑图和所有组件：Lswitch、Instance、SecurityGroup、DLR。 Instance：配置同上节vSphere服务。 Lswitch：点击Lswitch名称，进入节点详细设置页面，共有基本信息、属性两个标签页： 基本信息标签页：查看Lswitch的基本信息，如类型、类别和名称。 属性标签页： 属性（不勾选使用已有网络）： IP分配方式：支持IP池和手工指定，若选择IP池，需指定IP池。 复制模式：选择单播。支持单播、多播和混合三种方式。 管理网络：勾选是否管理网络。 属性：勾选使用已有网络 。 网络标签：从已有的网络中选择，勾选 允许修改 和 仅审批时可修改 。（需要在vSphere with NSX资源池中，选择NSX逻辑交换机） IP分配方式：支持IP池、DHCP、手工指定三种方式。 管理网络：勾选是否管理网络。 DLR：点击DLR名称，进入节点详细设置页面：共有基本信息、属性两个标签页 基本信息标签页：查看DLR的基本信息，如类型、类别和名称。 属性标签页：选择一个已有的逻辑路由器（DLR）（在资源池中选择NSX逻辑路由器）；可增加接口配置。 SecurityGroup：点击SecurityGroup名称，进入节点详细设置页面：共有基本信息、属性两个标签页 基本信息标签页：查看SecurityGroup的基本信息，如类型、类别和名称。 属性标签页： 名称：新建安全组，填写安全组的名称，勾选 允许修改 和 仅审批时可修改 。 描述：填写安全组相关描述信息（选填）。 属性：勾选使用已有安全组。 安全组：从已有的安全组中选择一个，需要在资源池 安全策略组 中选择一个或多个安全策略用于该资源池。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，VMware NSX服务配置并发布成功 配置vSphere MySQL带监控服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择vSphereMySQL带监控服务，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到vSphere服务拓扑图以及服所有组件：Instance、Network。 Instance：配置同vSphere服务。 Network：配置同vSphere服务。 MySQL：点击MySQL名称，进入节点详细设置，共有基本信息、属性、关系等标签页： 基本信息标签页：展示MySQL的类型、类别和名称等基本信息。 属性标签页：展示MySQL主键相关信息，来源于 服务建模 - 组件库 中的配置。 关系标签页：展示Instance与MySQLExporter之间的关系。 MySQLExporter：点击MySQLExporter名称，进入节点详细设置，共有基本信息、属性、关系等标签页： 基本信息标签页：展示MySQLExporter的类型、类别和名称等基本信息。 属性标签页：展示MySQLExporter主键相关信息，来源于 服务建模。 组件库 中的配置，若未填写package_url，需填写地址。 关系标签页：展示Instance与MySQLExporter之间的关系。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，vSphere MySQL带监控服务配置并发布成功。 配置OpenStack单节点服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择OpenStack单节点服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到OpenStack单节点服务拓扑图以及服所有组件：Instance、Network。 Instance：点击Instance名称，进入节点详细设置，共有概况、属性、网络资源、用户、磁盘、安全策略组、关系、操作许可等标签页： 概况标签页： 基本信息 展示Instance的类型、类别和名称等基本信息。 资源池选择策略： 自动选择：平台自动按照策略选择资源池。 基于资源标签选择：若该服务所使用的蓝图中已有资源便签，默认继承该资源标签，根据标签去选择业务组中匹配该标签的资源池（前提是资源池已设置资源环境标签），实现将资源部署到特定的资源池中。也可在服务配置选择其他资源环境标签；勾选 允许修改 和 仅审批时可修改。 手工指定：可选择为该服务手工指定资源池，若 资源池选择策略选择“手工指定”后，将出现资源池选择项，指定资源池，允许资源池申请时改变。 「Note」若该服务共享给全部业务组，则资源池无法指定，默认强制勾选 允许修改 和 仅审批时可修改 ；若该服务指定给某一业务组，则选择该业务组下的资源池。 云主机数量 选择部署的云主机数量，勾选 允许修改 和 仅审批时可修改 。 属性标签页： OS主机名：没有定义时默认继承业务组命名规则，勾选 允许修改 和 仅审批时可修改 。 云主机名称：没有定义时默认继承业务组命名规则，勾选 允许修改 和 仅审批时可修改 。 操作系统名称：选择Linux操作系统。 虚拟机模板：选择Linux操作系统下的OpenStack虚拟机模板。 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 卷类型：若选择从云硬盘启动或从云硬盘快照启动的虚拟机模板，则会出现该选项，选择OpenStack云平台上已存在的卷类型，也可选择\"未设置卷类型\"。 卷大小：若选择从云硬盘启动或从云硬盘快照启动的虚拟机模板，则会出现该选项，卷大小需大于等于镜像要求的磁盘大小，选填： 主机集合：虚机会部署到选择的主机中。 虚拟机规格：选择部署的虚拟机CPU和内存规格，支持勾选 允许修改 和 仅审批时可修改 。 网络资源标签页可配置DNS：DNS名称、DNS域、DNS类型（仅支持A类型）、DNS服务器（勾选 允许修改 和 仅审批时可修改 。 用户标签页（Linux服务）：可以添加Linux用户和用户组，一个用户可以有多个用户组，一个用户组可以有多个用户，虚拟机部署成功后，将会有对应的用户和组被创建，用户可以选择是否设置为sudoer。注意：只有安装了代理（部署时安装），才出现用户标签页面。 存储标签页：您可配置用户申请服务时默认的系统盘与数据盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 数据盘：添加申请服务时默认的数据盘，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加数据盘。 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择卷类型 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 文件系统标签页：配置默认的文件系统，您可选择勾选是否启用LVM。 若启用LVM，平台将按照您的配置自动创建LVM逻辑卷管理，您也可以允许用户在申请服务时按需进行创建。 卷组：选择一个或多个在存储标签页上添加的数据盘，组成卷组。可为每个卷组添加描述，若用户在申请时候创建文件系统，则在选择卷组时可以了解其用途。 文件系统：填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加新文件系统。 文件系统来源可选择磁盘或卷组，磁盘的大小将根据文件系统大小动态调整： 卷组：可选择已创建并关联磁盘节点的卷组。若文件系统的大小超过卷组中磁盘的大小，那么部署时其中一个磁盘将被扩展以符合配置的文件系统的大小。 磁盘：可选择存储标签页上已添加的且未关联至卷组的磁盘节点。若文件系统的大小超过指定磁盘的大小，那么部署时该磁盘将被扩展以符合配置的文件系统的大小。 若不启用LVM，您仅可配置默认的文件系统。填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，在文件系统来源下拉选择存储标签页中已创建的数据盘，选择允许用户申请和审批时修改的参数。若勾选允许申请时添加新文件系统，用户在申请时可以基于磁盘创建新的文件系统。 安全策略组标签页：可选择虚拟机的安全策略组。 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 Network：点击network名称，进入节点详细设置，共有基本信息、属性两个标签页： 基本信息标签页：可查看Network组件类型、类别、名称。 属性标签页：可选择网络、子网、IP分配方式（根据网络和子网的选择，读取资源池中的配置）以及管理网络，网络和子网勾选 允许修改 和 仅审批时可修改 。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，OpenStack单节点服务配置并发布成功。 配置OpenStack LoadBalancer with SecuriryGruop服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择OpenStackLoadBalancerWithSecuriryGruop服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到OpenStack LoadBalancer with SecuriryGruop服务拓扑图以及所有组件：Instance、Network、LoadBalancer、Listener、SecurityGroup。 Instance：Instance节点的配置参照配置OpenStack单节点服务。 Network：Network节点的配置参照配置OpenStack单节点服务。 LoadBalancer：点击LoadBalancer名称，进入节点详细设置，共有基本信息、属性两个标签页： 基本信息标签页：显示类型、类别、名称等基本信息。 属性标签页： 属性：不勾选使用已有资源。 服务提供商：选择LoadBalancer的服务提供商（Provider），支持F5和HA。 名称：填写名称（必填），勾选 允许修改 和 仅审批时可修改 。 描述：选填。 DNS名称：仅支持请求服务时填写，如需指定DNS请勾选允许申请时更改，若勾选允许申请时修改，DNS服务器将必填，DNS类型为A。 DNS域：选填，勾选 允许修改 和 仅审批时可修改 。 DNS服务器：选填，勾选 允许修改 和 仅审批时可修改 。 DNS类型：选填，勾选 允许修改 和 仅审批时可修改 。 Listener：点击Listener名称，进入节点详细设置，共有基本信息、属性、成员、策略和规则四个标签页： 基本信息标签页：显示类型、类别、名称等基本信息。 属性标签页： 属性：不勾选使用已有资源。 名称：填写名称（必填），勾选 允许修改 和 仅审批时可修改 。 描述：选填。 协议：选择协议（选填），支持HTTP、TCP、UDP，勾选 允许修改 和 仅审批时可修改 。 端口：填写端口号（必填），如80，勾选 允许修改 和 仅审批时可修改 。 流量分发算法：选择一个算法（选填），勾选 允许修改 和 仅审批时可修改 。 成员标签页：内部成员和外部成员，内部成员列出当前蓝图中所有和该Listener节点相关联的Instance/windowsInstance；外部成员，可添加外部成员，填写IP地址（必填）、子网（必填）、端口（必填）、权重等。 健康监控标签页： 监控类型：支持多种监控类型，如HTTP、HTTPS、TCP等，勾选 允许修改 和 仅审批时可修改 。 时间间隔（秒）：必须大于等于1，勾选 允许修改 和 仅审批时可修改 。 最大重试次数：1~10，勾选 允许修改 和 仅审批时可修改 。 超时（秒）：超时（秒）必须小于等于时间间隔（秒），勾选 允许修改 和 仅审批时可修改 。 HTTP方法：若监控类型选择HTTP，将选择HTTP方法。如GET、POST等，勾选 允许修改 和 仅审批时可修改 。 期望的状态码：若监控类型选择HTTP，将填写期望的状态码 URL路径：若监控类型选择HTTP，将填写URL路径，勾选 允许修改 和 仅审批时可修改 。 策略和规则标签页：可新建应用于该Listener的策略和规则，勾选 允许修改 和 仅审批时可修改 ；添加策略，填写名称，选择操作，描述（选填），权重，重定向URL。 SecurityGroup：点击SecurityGroup名称，进入节点详细设置，共有基本信息、属性两个标签页： 基本信息标签页：显示类型、类别、名称等基本信息。 属性标签页：默认\"使用已有安全组\"，选择一个安全组。 「Note」OpenStack资源池中，在 网络资源 - 安全策略组 中需要选择一个安全策略组后，才能在SecurityGroup属性标签页选择一个已有的安全组。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，OpenStack LoadBalancer with SecuriryGruop虚拟机服务配置并发布成功。 配置OpenStack DNS服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择OpenStackDNS服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到OpenStack DNS服务拓扑图及组件DNS。 DNS：点击DNS名称，进入节点详细设置，共有基本信息、属性两个标签页 基本信息标签页：显示类型、类别、名称等基本信息。 属性标签页： DNS类型：支持A、CNAME、MX、TXT 4种类型。 • A记录：WEB服务器的IP指向，用来指定主机名（或域名）对应的IP地址记录。 • CNAME记录：别名解析。 • MX记录：邮件交换记录。 • TXT记录：某个主机名或域名的说明。 MX优先级：如果DNS类型选择MX，将出现 MX优先级 。 DNS名称：输入DNS的名称，默认强制允许申请时更改。 DNS域：选择DNS域，在系统配置中添加的DNS域。 DNS服务器：根据所在业务组的OpenStack云平台服务器中配置的DNS服务器选择。 DNS参数：若DNS类型选择的A：填写IP地址，支持多条，用逗号分隔； 若DNS类型选择的CNAME：输入域名，例test.example.com 若DNS类型选择的MX：输入域名，例test.example.com 若DNS类型选择的TXT：输入一段描述。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，OpenStack DNS虚拟机服务配置并发布成功。 配置Kubernetes服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择Kubernetes服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到Kubernetes服务拓扑图以及服务配置中的所有组件，根据kubernetes蓝图，一共有4个组件，分别是Deployment、Service、Container、PersistentVolumeClaim。 Deployment：点击Deployment名称，进入基本信息标签页，点击属性，可选择副本数量，默认为1，点击保存。 Container：点击Container名称，进入基本信息页面： 属性标签页： 镜像源：选择已添加的镜像源，可在kubernetes云平台中添加的Habor、Docker Trusted Registry镜像源，勾选 允许修改 和 仅审批时可修改 。 镜像名称：若已选镜像源，则自动过滤该镜像源下的镜像；若未选择镜像源，可输入名称自动创建，勾选 允许修改 和 仅审批时可修改 。 镜像标签：选择需要的镜像标签，勾选 允许修改 和 仅审批时可修改 。 资源规格 - CPU：输入请求的CPU大小和最大限制的CPU大小，请求的CPU不能大于最大限制，支持申请时改变。 资源规格 - 内存：输入请求的内存大小和最大限制的内存大小，请求的内存不能大于最大限制，支持申请时改变。 容器开放端口：例如8080。 环境变量：例如参数/JRE_Home的值为/usr。 Service：点击Service名称，进入基本信息页面，点击属性，可配置端口映射，填写下列的信息： 属性标签页： 服务端口：服务对外开放的端口，例如8080。 所依赖的Deployment节点：选择该Service依赖的一个Deployment节点。 所依赖的Container节点：选择Deployment中的容器节点。 容器开放端口：选择容器中配置的开放端口。 协议：TCP或者UDP。 PersistentVolumeClaim：点击PersistentVolumeClaim名称，进入基本信息页面，点击属性： 属性标签页： 挂载点：例如/opt/share。 访问模式：支持ReadWriteOnce，ReadOnlyMany。，ReadWriteMany。 存储类：Standard。 空间限额（Gi）：输入空间大小。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，Kubernetes虚拟机服务配置并发布成功。 配置阿里云服务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择云应用部署，选择阿里云服务蓝图，点击保存。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到阿里云服务拓扑图以及服务配置中的所有组件：Instance、SecurityGroup。 Instance：点击Instance名称，进入节点详细设置，共有基本信息、网络、属性、存储、安全策略组、负载均衡、操作许可、等标签页： 基本信息标签页： 基本信息 展示Instance的类型、类别和名称等基本信息。 资源池选择策略：1. 自动选择：平台自动按照策略选择资源池 2. 基于资源标签选择：若该服务所使用的蓝图中已有资源便签，默认继承该资源标签，根据标签去选择业务组中匹配该标签。 资源池（前提是资源池已设置资源环境标签），实现将资源部署到特定的资源池中。也可在服务配置选择其他资源标签；勾选 允许修改 和 仅审批时可修改 ，勾选后可在申请时选择。 手工指定：可选择为该服务手工指定资源池，若 资源池选择策略选择“手工指定”后，将出现资源池选择项，指定资源池，允许资源池申请时改变。 「Note」若该服务共享给全部业务组，则资源池无法指定，默认强制勾选 允许修改 和 仅审批时可修改 ；若该服务指定给某一业务组，则选择该业务组下的资源池 云主机数量 选择部署的云主机数量，勾选 允许修改 和 仅审批时可修改 。 网络标签页： 可用区：选择网络的可用区。更改可用区可能会导致虚拟交换机、虚拟机规格、磁盘种类等值的相应改变。 网络类型：根据资源池中配置的网络类型显示。 专有网络：若选择专有网络，需选择专有网络。 虚拟交换机：若选择专有网络，需选择虚拟交换机。 分配公网IP地址：选中此项，用于安装软件组件或运行脚本。 属性标签页： 付费方式：选择预付费或后付费。 虚拟机镜像：选择阿里云上的虚拟机镜像。 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 虚拟机规格：选择虚拟机规格。 监控方式：选择监控方式，无监控或SSH安装监控代理。 应用蓝图自动化部署，服务配置初始化并挂载磁盘，以及某些虚拟机操作（如重置密码、添加新逻辑卷等）将使用此代理；如果未安装，这些功能将受影响。 用户名：root用户。 密码：请输入模板的密码以便在此云主机上安装软件。 购买资源时长单位（预付费）：月或周。 购买单位时长（预付费）：若购买资源时长单位选择“月”，则可选择1~9，12、24、36、48、60等时长，若购买资源时长单位选择“周”，则可选择1~4周。 是否自动续费（预付费）：若勾选自动续费，则根据购买资源时长单位延长相应的周或月。 存储标签页：您可配置用户申请服务时默认的系统盘与数据盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 系统盘：配置默认系统盘。 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择卷类型 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 数据盘：添加申请服务时默认的数据盘，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加数据盘。数据盘选择方式同系统盘，可根据存储策略基于类型或标签选择。 文件系统标签页：配置默认的文件系统，您可选择勾选是否启用LVM。 若启用LVM，平台将按照您的配置自动创建LVM逻辑卷管理，您也可以允许用户在申请服务时按需进行创建。 卷组：选择一个或多个在存储标签页上添加的数据盘，组成卷组。可为每个卷组添加描述，若用户在申请时候创建文件系统，则在选择卷组时可以了解其用途。 文件系统：填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加新文件系统。 文件系统来源可选择磁盘或卷组，磁盘的大小将根据文件系统大小动态调整： 卷组：可选择已创建并关联磁盘节点的卷组。若文件系统的大小超过卷组中磁盘的大小，那么部署时其中一个磁盘将被扩展以符合配置的文件系统的大小。 磁盘：可选择存储标签页上已添加的且未关联至卷组的磁盘节点。若文件系统的大小超过指定磁盘的大小，那么部署时该磁盘将被扩展以符合配置的文件系统的大小。 若不启用LVM，您仅可配置默认的文件系统。填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，在文件系统来源下拉选择存储标签页中已创建的数据盘，选择允许用户申请和审批时修改的参数。若勾选允许申请时添加新文件系统，用户在申请时可以基于磁盘创建新的文件系统。 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 SecurityGroup：点击SecurityGroup，进入节点详细设置，共有基本信息、属性两个标签页： 基本信息标签页：可查看SecurityGroup 组件类型、类别、名称。 属性标签页： 使用已有安全组，选择一个已有安全组（资源池中配置的安全组）， 若需要新建安全组，需在 服务建模 - 蓝图设计 - 阿里云蓝图 SecurityGroup 参数选项，取消勾选\"使用已有资源\"，即可在此新建安全组，安全组名称 填写新建的安全组的名称。管理安全组规则 点击“添加规则”，新建安全组规则： 网卡类型：选择私网或公网。 规则方向：选择入口或出口。 授权策略：选择允许或拒绝。 协议类型：选择全部或http、udp、icmp、gre。 端口范围：取值范围为1~65535；例如“1/200”、“80/80”。 授权类型：地址段访问。 授权对象：请谨慎设置授权对象，根据授权策略的不同，0.0.0.0/0代表允许或拒绝所有IP的访问（可点击“教我设置”）。 优先级：设置规则优先级。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，阿里云服务配置并发布成功。 配置Azure服务 在左侧导航选择 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），服务类型选择云应用部署，蓝图设计（选择创建的Azure蓝图），业务组，点击提交。 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置。 组件配置标签页：可以看到Azure服务拓扑图以及服务配置中的所有组件：Instance、VirtualNetwork、AvailabilitySet、SecurityGroup、LoadBalancer、LoadBalancerRule、BlobContainer。 Instance：点击Instance名称，进入节点详细设置，共有基本信息、云资源配置、网络、操作许可等标签页： 基本信息标签页：显示类型、类别、名称等基本信息。可设置部署的云主机数量，勾选 允许修改 和 仅审批时可修改。 云资源配置标签页：包括云主机配置、资源池配置、虚拟机模板配置、资源规格配置四部分： 云主机配置：云主机名称，默认继承业务组命名规则，勾选 允许修改 和 仅审批时可修改。 资源池配置： 资源池选择策略：目前支持 “手工指定”一个资源池，勾选 允许修改 和 仅审批时可修改。 诊断存储账户：选择一个存储账户。 磁盘类型：选择一种磁盘类型，如HDD、SSD。 虚拟机模板配置： 操作系统名称：选择Windows或Linux操作系统。 虚拟机模板：选择windows或Linux操作系统下的Azure虚拟机模板。 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 资源规格配置： 资源规格：选择一种系统创建的资源规格。 云平台规格：从该资源规格下的Azure云平台资源规格中选择一种。 网络标签页：显示虚拟网络名称、子网、IP分配方式等信息。可勾选 使用公共IP。 存储标签页：您可配置用户申请服务时默认的系统盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 系统盘：配置默认系统盘。 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择磁盘类型 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 VirtualNetwork：点击VirtualNetwork名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：可选择子网，勾选 允许修改 和 仅审批时可修改。 AvailabilitySet：点击Availability名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：默认勾选 使用已有资源 。可选择可用性集，勾选 允许修改 和 仅审批时可修改。 SecurityGroup：点击SecurityGroup名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：默认勾选 使用已有安全组 。可选择安全组，勾选 允许修改 和 仅审批时可修改 选择安全组后，列出详细的入站、出站安全规则。 LoadBalancer：点击LoadBalancer名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：默认勾选 使用已有资源 。可选择负载均衡器，勾选 允许修改 和 仅审批时可修改。 LoadBalancerRule：点击LoadBalancerRule名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：输入负载均衡规则名称、选择前端IP地址和通信协议（TCP/UDP）、输入端口和后端端口。上述项目均需勾选 允许修改 和 仅审批时可修改 BlobContainer：点击BlobContainer名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型、类别、名称等信息。 属性标签页：基于\"资源池选择策略（手工指定/自动选择/基于资源标签选择）\"选择资源池，勾选 允许修改 和 仅审批时可修改。输入BlobContainer名称，勾选 允许修改 和 仅审批时可修改。选择一个存储账户，并选择公共访问级别（仅匿名读取访问Blob/匿名读取访问容器和Blob）。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，Azure服务配置并发布成功。 配置AWS服务 在左侧导航选择 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），服务类型选择云应用部署，蓝图设计（选择AWS蓝图，业务组，点击提交 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置 组件配置标签页：可以看到AWS服务拓扑图以及服务配置中的所有组件：Instance、SecurityGroup Instance：点击Instance名称，进入节点详细设置，共有基本信息、云资源配置、操作许可等标签页. 基本信息标签页： 基本信息：展示Instance的类型、名称等基本信息. 云主机数量：默认云主机数量为1，可更改或选择\"勾选 允许修改 和 仅审批时可修改 。\" 云资源配置标签页： 云主机配置: 云主机名称 没有定义时默认继承业务组命名规则，支持勾选 允许修改 和 仅审批时可修改 。 资源池配置: 资源池选择策略：手工指定资源池. 「Note」若该服务共享给全部业务组，则资源池无法指定，默认强制勾选 允许修改 和 仅审批时可修改 ；若该服务指定给某一业务组，则选择该业务组下的资源池. 资源池：选择资源池，将根据蓝图类型进行过滤. 可用区：选择可用区，将根据所选资源池中可用区进行过滤. 子网：选择子网，将根据所选资源池中配置的子网进行过滤. 虚拟机模板配置： 操作系统：选择Linux操作系统。 虚拟机模板：选择该操作系统下的青云虚拟机模板。 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 计算规格配置： 资源规格：选择在 基础设施 - 计算规格 中自定义的规格。 云平台规格：选择在 基础设施 - 计算规格 中自定义的云平台规格，将根据所选的资源规格进行过滤。 公网配置：分配公网IP地址 可选是否分配公网IP地址。 存储标签页：您可配置用户申请服务时默认的系统盘与数据盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 系统盘：配置默认系统盘。 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择卷类型 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 数据盘：添加申请服务时默认的数据盘，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加数据盘。数据盘选择方式同系统盘，可根据存储策略基于类型或标签选择。 文件系统标签页：配置默认的文件系统，您可选择勾选是否启用LVM。 若启用LVM，平台将按照您的配置自动创建LVM逻辑卷管理，您也可以允许用户在申请服务时按需进行创建。 卷组：选择一个或多个在存储标签页上添加的数据盘，组成卷组。可为每个卷组添加描述，若用户在申请时候创建文件系统，则在选择卷组时可以了解其用途。 文件系统：填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加新文件系统。 文件系统来源可选择磁盘或卷组，磁盘的大小将根据文件系统大小动态调整： 卷组：可选择已创建并关联磁盘节点的卷组。若文件系统的大小超过卷组中磁盘的大小，那么部署时其中一个磁盘将被扩展以符合配置的文件系统的大小。 磁盘：可选择存储标签页上已添加的且未关联至卷组的磁盘节点。若文件系统的大小超过指定磁盘的大小，那么部署时该磁盘将被扩展以符合配置的文件系统的大小。 若不启用LVM，您仅可配置默认的文件系统。填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，在文件系统来源下拉选择存储标签页中已创建的数据盘，选择允许用户申请和审批时修改的参数。若勾选允许申请时添加新文件系统，用户在申请时可以基于磁盘创建新的文件系统。 条件执行标签页：您可以为该组件设置各个生命周期的操作，增加前序或者后续执行的脚本。 操作：可选择执行操作的具体行为，提供创建，停止，启动或者删除的选项。 条件：可选择在操作前或者操作后执行脚本。 脚本：可选择执行的脚本，您可以在 作业管理 - 脚本库 创建相关脚本并制定执行该脚本的云资源类型。 在目标云资源中执行：若不勾选，将从云网关上执行脚本。 SecurityGroup：点击SecurityGroup名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型和名称。 属性标签页： 默认勾选 使用已有安全组 ，选择已有安全组，选择后将列出该安全组的规则，勾选 允许修改 和 仅审批时可修改 。 若不勾选 使用已有安全组 即新建安全组，填写安全组名称、描述，名称勾选 允许修改 和 仅审批时可修改 ，点击添加规则，配置相关的安全组规则。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，AWS服务配置并发布成功. 配置青云服务 在左侧导航选择 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），服务类型选择云应用部署，蓝图设计（选择青云蓝图），业务组，点击提交 概况、输入与输出和服务部署操作许可标签页配置请参照添加服务配置 组件配置标签页：可以看到青云服务拓扑图以及服务配置中的所有组件：WindowsInstance、SecurityGroup。 WindowsInstance：点击WindowsInstance名称，进入节点详细设置，共有基本信息、云资源配置、操作许可等标签页。 基本信息标签页： 基本信息：展示WindowsInstance的类型、名称等基本信息。 云主机数量：默认云主机数量为1，可更改或选择\"勾选 允许修改 和 仅审批时可修改 。\" 云资源配置标签页： 云主机配置：云主机名称，没有定义时默认继承业务组命名规则，支持勾选 允许修改 和 仅审批时可修改 。 资源池配置，资源池选择策略：手工指定资源池。 选择资源池，将根据蓝图类型进行过滤。 选择子网，将根据所选资源池中配置的子网进行过滤。 「Note」若该服务共享给全部业务组，则资源池无法指定，默认强制勾选 允许修改 和 仅审批时可修改 ；若该服务指定给某一业务组，则选择该业务组下的资源池 虚拟机模板配置：选择Linux操作系统及该操作系统下的青云虚拟机模板 勾选 允许用户申请时修改虚拟机模板的用户名和密码 ，则用户在服务申请时可以选择管理员凭证或自定义输入管理员用户名及密码。 计算规格配置： 资源规格 选择在 基础设施 - 计算规格 中自定义的规格；云平台规格。 选择在 基础设施 - 计算规格 中自定义的云平台规格，将根据所选的资源规格进行过滤。 公网配置分配公网IP地址：可选是否分配公网IP地址。 存储标签页：您可配置用户申请服务时默认的系统盘与数据盘，设置是否允许用户修改。 存储策略：配置用户申请使用存储资源的方式。基于类型选择：直接选择存储类型；基于标签选择：选择标签，系统将自动匹配符合条件的存储进行分配。 系统盘：配置默认系统盘。 根据存储策略选择存储或者标签。 若存储策略选择 基于类型选择 ，可从下拉框直接选择卷类型 若存储策略选择 基于标签选择 ，可从下拉框选择已有的存储标签，系统将自动匹配符合条件的存储（需先在资源标签内配置配置存储标签并在资源池管理中与存储资源进行关联） 数据盘：添加申请服务时默认的数据盘，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加数据盘。数据盘选择方式同系统盘，可根据存储策略基于类型或标签选择。 文件系统标签页：配置默认的文件系统，您可选择勾选是否启用LVM。 若启用LVM，平台将按照您的配置自动创建LVM逻辑卷管理，您也可以允许用户在申请服务时按需进行创建。 卷组：选择一个或多个在存储标签页上添加的数据盘，组成卷组。可为每个卷组添加描述，若用户在申请时候创建文件系统，则在选择卷组时可以了解其用途。 文件系统：填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，选择允许用户申请和审批时修改的参数并勾选是否允许申请时添加新文件系统。 文件系统来源可选择磁盘或卷组，磁盘的大小将根据文件系统大小动态调整： 卷组：可选择已创建并关联磁盘节点的卷组。若文件系统的大小超过卷组中磁盘的大小，那么部署时其中一个磁盘将被扩展以符合配置的文件系统的大小。 磁盘：可选择存储标签页上已添加的且未关联至卷组的磁盘节点。若文件系统的大小超过指定磁盘的大小，那么部署时该磁盘将被扩展以符合配置的文件系统的大小。 若不启用LVM，您仅可配置默认的文件系统。填写挂载点（Linux系统）或盘符（Windows系统）、配置文件系统大小（GB）、选择文件格式，在文件系统来源下拉选择存储标签页中已创建的数据盘，选择允许用户申请和审批时修改的参数。若勾选允许申请时添加新文件系统，用户在申请时可以基于磁盘创建新的文件系统。 SecurityGroup：点击SecurityGroup名称，进入节点详细设置，共有基本信息、属性等标签页： 基本信息标签页：显示类型和名称。 属性标签页：默认勾选 使用已有安全组 ，选择已有安全组，选择后将列出该安全组的规则，勾选 允许修改 和 仅审批时可修改 。 若不勾选 使用已有安全组 即新建安全组，填写安全组名称，点击添加规则，配置相关的防火墙规则。 点击保存，返回组件列表界面。点击验证，验证成功后，保存并发布该服务，青云服务配置并发布成功。 配置手工工单服务 管理员可以将设计好的工单发布为服务，管理员可以将服务与企业内部的流程集成之后发布到服务目录。服务项主要功能有： 服务与指定服务团队关联，服务请求由团队关联的用户来处理，即指定服务团队，发布工单到不同部门服务与流程配置相关联，平台支持管员自定义服务流程，同时支持使用内置的服务流程 添加手工工单服务配置 您可以根据下面步骤添加手工工单服务配置： 在左边导航栏选择 服务管理 - 服务配置 ，点击添加 填写服务名称、服务描述（选填）、选择业务组，服务类型为通用工单，问题工单，事件工单，变更工单，请求工单服务时，增选一项服务流程，点击提交，进入服务配置概况标签页 在概况标签页填入下列信息： 基本信息： 名称，描述，图标：请自定义名称和描述，并上传服务图标。 业务组：请选择该业务发布到的业务组。 角色：指定能够申请该服务的角色。 服务目录：为该服务指定一个分组，在服务目录中展现。 服务分组：指定该问题工单所属的类型，可选类型包括桌面运维、服务器、应用软件、网络管理和IT服务。 顺序：指定服务目录中的排列顺序，数值小的排列靠前。 状态：状态为“已发布”或者“未发布”，状态为“已发布”时，用户才可以申请此服务。 允许申请时上传附件：勾选后，申请此服务可上传文件。 启用服务申请确认页：勾选后，用户申请服务时会有申请确认提醒。 SLA选择策略：SLA定义了本次服务需要完成的时间和其他条件 不使用SLA: 用户在申请工单服务时无服务等级协议的选项，即不限制完成此项任务所需要的时间和其他条件。 根据优先级自动选择：在用户申请工单服务时，平台会根据用户选择的影响程度（特大、大、中、小）和紧急程度（特急、急、中、低）自动匹配对应优先级的服务等级协议。 申请时选择：用户在申请服务时，可以再次根据实际需求选择服务等级协议。 在表单配置标签页，您可以指定创建的表单，例如，申请创建新项目的手工工单服务，您可选择创建项目的表单。 流程配置标签页： 您可以指定不同流程步骤的处理人，并配置处理人的详细信息，处理人配置包括以下几种类型： 服务团队，再选择具体的服务团队名称，服务团队内部工单分配方式可选 成员认领/随机分配 角色，选择一种类型角色，其内部工单分配方式也可选 成员认领/随机分配 用户，指定具体用户处理工单 申请人，指定具体申请人处理工单 您可以为每个流程步骤配置表单，平台提供内置的表单供您选择，你也可以自定义表单，具体步骤请参考表单配置。 您可以选择开启流程关闭策略，系统将按照设置的策略，向处理人发送通知或直接关闭流程，您可以在系统参数中设置您的流程关闭策略。 「Note」如果您设置了服务等级协议，该流程关闭策略与SLA（服务等级协议）互不影响。 在审批配置标签页指定审批流程，例如，申请创建新项目的手工工单服务，您可以指定审批流程。 在服务条款配置标签页可添加用户在申请服务时候首先确认的服务条款、隐私政策等等。 在申请字段配置标签页，您可以定义用户在申请服务时需要填写的字段，包括业务组，项目，申请者，手机，邮箱，标题，描述，影响程度，紧急程度，优先级等字段。 启用申请字段配置： 如不勾选，则默认申请字段的配置与系统配置保持一致，您可以选择 系统管理 - 界面配置 ，点击服务申请标签页，查看已设置的服务申请字段。有部分申请字段并未在 界面配置 中设置，则默认为显示状态，并且所有字段的状态（”是否显示“和”是否必填”）不能修改。 如勾选，则您可以自行配置申请工单时显示的字段，并可以修改以下字段包括项目、描述、执行时间、云资源标签的状态（”是否显示“和”是否必填”），业务组、申请者、影响程度、紧急程度、优先级等字段只能修改“是否显示”的状态。启用申请字段配置后，此处配置的字段将覆盖系统配置，即当前服务申请页面字段与此处配置保持一致。 「Note」如果您修改了系统配置中的申请字段设置，则不会影响之前服务配置中的设置，只对新的服务配置中的默认配置生效。并且当您自定义所有申请字段都不显示时，则用户在申请该服务时，申请页面不会出现 组织信息 这部分内容的填写区域。 点击保存按钮，服务将被保存不发布，点击保存并发布按钮，服务将被发布到服务目录页面。 编辑、删除工单服务配置 在左侧导航栏点击 服务建模 - 服务配置 ，选择一个服务配置，点击编辑按钮，输入需要修改的内容，点击保存。 在左侧导航栏点击 服务建模 - 服务配置 ，选择一个服务配置，点击删除按钮，提示删除服务配置成功。 发布、取消发布工单服务配置 在左侧导航栏点击 服务建模 - 服务配置 ，选择一个服务配置，点击发布按钮，提示发布成功。 在左侧导航栏点击 服务建模 - 服务配置 ，选择一个服务配置，点击取消发布按钮，提示取消发布服务配置成功。 配置标准任务 在左侧导航点击 服务建模 - 服务配置 ，点击左上角的添加进入新建服务配置界面，依次填写服务名称，服务描述（选填），选择业务组，服务类型选择执行任务服务，流程选择标准任务服务流程，点击提交。 概况标签页：服务名称、描述自定义填写，选择服务可供申请的角色、服务分组、服务卡片排序、状态。 任务配置标签页：点击添加按钮，与流水线添加任务的界面一致。详情请参考：配置任务。 审批配置标签页：选择审批流程，例如：平台管理员审批、并行审批等其他自定义审批流程。 表单配置标签页：根据需求自定义绑定表单，例如：上传附件、创建IP池、创建项目、添加AD用户等其他自定义表单。 流程配置标签页：可以选择流程类型，查看流程信息、流程图、流程步骤 服务条款配置标签页： 您可以添加用户在申请服务时候首先确认的服务条款、隐私政策等等。 申请字段配置标签页：在此标签页，您可以定义用户在申请服务时需要填写的字段，包括业务组，项目，所有者，标题等字段。 启用申请字段配置： 如不勾选，则默认申请字段的配置与系统配置保持一致，您可以选择 系统管理 - 界面配置 ，点击服务申请标签页，查看已设置的服务申请字段。有部分申请字段并未在 界面配置 中设置，则默认为显示状态，并且所有字段的状态（”是否显示“和”是否必填”）不能修改。 如勾选，则您可以自行配置用户申请服务时显示的字段，并可以修改所有字段的状态（”是否显示“和”是否必填”）。 「Note」如果您在服务配置中启用了“申请字段配置”，则申请界面优先使用“申请字段配置”中的配置，即使在系统管理配置中配置相关字段也无影响，并且不会影响之前服务配置中的设置，只对新的服务配置中的默认配置生效。当您自定义所有申请字段都不显示时，则用户在申请该任务时，申请页面不会出现 组织信息 这部分内容的填写区域。 编辑服务配置 在左侧导航选择 服务建模 - 服务配置 ，在服务配置列表界面，点击服务配置名称，进入基本信息标签页，可编辑相应的参数，点击保存。 复制服务配置 在左侧导航选择 服务建模 - 服务配置 ，在服务配置列表界面，勾选需要复制的服务配置名称，点击复制按钮，进入概况标签页，当前服务的所有配置信息会自动填充，而名称自动显示为-复制，您可以修改相应的参数，点击发布。 取消发布服务配置 在左侧导航选择 服务建模 - 服务配置 ，在服务配置列表界面，选中某服务配置，若该服务配置状态为\"已发布\"，则 取消发布 操作可用，点击后确定，取消发布成功。在服务配置列表界面该服务配置状态更改为\"未发布\"，未发布服务配置将不能在服务目录界面显示且不能被申请。 卸除服务配置 在左侧导航选择 服务建模 - 服务配置 ，在服务配置列表界面，选中某服务配置，点击卸除服务部署，确定后卸除服务配置成功。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/06云服务管理/":{"url":"AdminDoc/06云服务管理/","title":"服务申请","keywords":"","body":"服务申请 通过SmartCMP，用户不仅能够完成用户自服务申请云资源，云资源自动化部署交付，也可以自助地进行运维操作、查看性能监控信息，以及设置告警。同时，SmartCMP将基于管理员配置的策略对资源自动进行到期回收，实现生命周期管理，避免闲置、浪费。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/06云服务管理/服务目录.html":{"url":"AdminDoc/06云服务管理/服务目录.html","title":"服务目录","keywords":"","body":"服务目录 功能描述 服务目录的主要作用是为用户提供统一的云服务入口。将云资源的申请、运维、变更、监控和回收都服务化，并配套提供企业级的流程、权限和配额管控。 提供在一个页面，申请任意云服务的能力，这样用户可以非常方便的以服务目录的形式，访问有权限的多种类型的阿里云服务、VMware云资源服务、容器云服务、工单服务、邮件服务等等。例如：Tomcat，MySQL集群，J2EE三层应用等。示例如下图： 其中，工单服务，即非标准化需要人工介入和支持的服务，包括服务请求，云资源出现问题时的事件处理，例如用户忘记密码需要进行重置，或是提交一个开通邮箱或账户的请求。 服务目录项都是通过云管理平台的蓝图编排设计后进行相应的参数配置。服务既可以部署在私有云，也可以部署到公有云，还可以适用于越来越广泛地混合云部署，例如，前端应用部署在阿里云上，数据库部署在私有云上。 可以定义服务分组，方便服务管理。 支持多种云服务类型、统一服务入口。 在申请服务时，无论是申请阿里云的服务，还是VMware的资源，云平台提供了统一的类公有云服务体验，降低用户使用门槛，还能根据资源用量和价格，展示每个服务不同配置的整体服务费用。如下图所示： 服务目录展现方式 服务配置发布成功之后，将会在服务目录界面看到发布的服务卡片，服务目录的界面展示支持两种方式： 标签页展示：即分组按照标签页展示，可以通过服务分组标签、业务组或搜索框快速定位您需要申请的服务。 层级展示：按照卡片的模式，先展示分组（图标，名称，描述）--文件夹的显示方式，点击一个分组，再展现这个分组的所有卡片，对于没有分组的卡片，如果按照层级展示，增加一个 未分组的服务 文件夹，点击进入展现所有未分组的卡片。如果卡片都是有分组的，则这个文件夹不显示。 「Note」 服务目录展现方式，在系统管理-界面配置功能区进行选择，具体操作步骤，请参考：界面配置 标签页展示 当服务目录以标签页方式展示时，可以通过服务分组标签，例如：数据库、基础设施、工单服务等等，或通过不同的业务组，或通过搜索框快速定位您需要申请的服务。 以\"在vSphere云平台上部署虚拟机\"为例： 在左侧导航栏点击 服务目录 ，选择内置的 \"Linux VM\" 服务，点击将进入服务申请页面 填写服务申请页面的相关申请参数： 组织信息 业务组：若该服务应用至全部业务组，即共享服务，需选择业务组（该业务组需有相关资源池，否则将不允许申请）；若服务配置时该服务已指定业务组，则无需填写 项目：可以选择具体项目 所有者：选择该服务的所有者，所有者需为业务组成员，服务部署的所有者，在服务部署的运维操作中支持更新所有者 部署信息 名称：若业务组已配置 “服务部署名命名规则”，则服务部署名无需填写，将根据业务组规则自动生成；若业务组未配置“服务部署名命名规则”，需自定义输入服务部署名称 数量：填写部署的数量，默认为1 执行时间：可指定时间开始服务部署，精确到分钟 租用到期日期：可以指定服务部署的使用期限。到期之后，所有的服务将被停机，最长到期日期无限制 标签设置 键值标签：默认勾选，所有、节点使用相同的键值标签， 若不勾选，将列出该服务部署下的所有节点，可为每个节点单独设置键值标签 云资源标签：若管理员已在资源标签中预设云资源标签，可为部署的云资源设置云资源标签。 「Note」 管理员需首先在系统设置 - 界面配置 中启用键值标签或云资源标签的申请字段配置以允许用户在申请服务时设置标签。管理员可在 系统配置 - 系统参数 启用同步标签功能，启用后，在服务申请时新建的键值标签将被同步至云平台。 其他信息 表单配置的参数：如果您在服务配置的表单配置中为云资源蓝图服务和手工单服务自定义相关字段，则在此处填写所需信息 申请参数 资源池：选择具体的资源环境，请先至 资源池管理 配置资源池 实例类型 计算规格：根据业务需求选择不同规格的计算资源 镜像 操作系统：根据需求选择不同操作系统的镜像 填写完成后点击申请，将根据业务组流程控制直接部署或等待审批，可至 我的部署 - 服务部署 中查看部署情况（也可在右上角 操作历史 中查看部署情况），或至 服务请求 - 待审批 中查看审批流程。 若您在进行服务申请时，未能一次性填写完相关参数，点击 保存 能够对已填写参数进行保存，并且在下次申请的时候，点击 加载 可以重新加载，自动填充上次已经填写好的参数。 层级展示 采用层级展示的方式，按照卡片的模式，先展示服务分组，服务分组的具体操作步骤，请参考：服务分组 在服务目录视图界面，可查看服务分组的图标、名称、描述和文件夹的显示方式，点击一个分组，展现此服务分组的所有卡片。（注意：当管理员创建的服务卡片没有选择服务分组时，如果按照层级展示，此类型卡片会存入 “未分组的服务” 文件夹，点击进入展现所有未分组的卡片。如果管理员创建的服务卡片都是有分组的，则“未分组的服务” 文件夹不显示。） 云资源部署 在服务目录下，会罗列您在 服务建模 - 服务配置 发布的所有的服务 ，同时平台提供了内置服务，通过 服务目录 你可以直接申请和部署各类云服务。 同时，您可以在 服务目录 - 云主机 和 服务目录 - 云资源中，点击 创建 按钮，申请各种不同类型的云服务。 「Note」 在 服务建模 - 服务配置 添加发布您的服务，具体操作步骤，请参考：服务配置 通过蓝图部署云资源 SmartCMP支持一个服务绑定多个蓝图，支持您根据需求快速选择蓝图，例如：\"申请云应用\"，系统提前配置了应用服务相关的蓝图，您可以申请部署所需要的软件应用，包括中间件、网站应用、数据库、或是多层架构的应用环境。 您可以通过以下步骤申请蓝图自服务： 通过蓝图申请云资源。 填写服务基本信息： 业务组：选择部署所属业务组。 服务部署名称： 自定义输入部署名称（若业务组已设定服务部署命名规则，服务部署名称将按照规则自动生成，无需填写）。 项目：选择服务部署所属的项目。 所有者：选择服务部署的所有者。 数量：输入数字，您可以一次创建多个服务部署。 「Note」 您可以在 系统管理 - 界面配置 里控制服务申请页面显示需申请时填写的字段。具体操作步骤，请参考：服务配置 执行时间：设定未来的某个时间，在这个时间点进行服务部署的创建。 付费方式：您可以选择“包年包月”或者“按需”的付费方式 购买时长：当您选择“包年包月”的付费方式后，可选择购买时长，范围从“1个月”至“3年” 租用到期日期:当您选择“按需”的付费方式后,可以指定服务部署的使用期限。到期之后，所有的服务将被停机,最长到期日期无限制 设置标签： 您可以为您申请部署的云资源创建或设置键值标签，也可以设置管理员提供的云资源标签。 键值标签：若勾选 所有节点使用相同的键值标签 ，可为所有节点设置相同的标签；您也可以取消勾选，平台将列出该服务部署下的所有节点并允许为每个节点设置不同的标签。 云资源标签：选择管理员预设的云资源标签，每个标签由一个键值对组成，例如一个键为“环境”且值为“UAT”的标签。云资源标签将对部署下所有资源生效。 「Note」 i. 若允许用户在服务申请时设置标签，管理员需先在服务配置或 系统设置 - 界面配置 中启用键值标签或云资源标签的申请字段配置，并在资源标签中预设云资源标签。 ii. 管理员可在 系统配置 - 系统参数 启用同步标签功能，启用后在服务申请时新建的键值标签将被同步至云平台。 填写相关申请参数，例如：资源池、私有网络、虚拟机配置、存储大小、节点数量等等信息。 资源池：选择具体的资源环境，请先至 资源池管理 配置资源池。 计算规格：根据业务需求选择不同规格的计算资源。 操作系统：根据需求选择不同操作系统的镜像。 存储：选择磁盘类型或基于存储标签选择，根据配置可以添加数据盘。 若提示选择磁盘类型，请从下拉框直接选择存储 若提示选择表情，请从下拉框选择存储标签，系统将自动匹配符合条件的存储 若服务配置允许添加新的数据盘，您可点击 添加数据盘 创建一个或多个磁盘。新创建的磁盘可做为文件系统的来源。 文件系统：根据需求选择文件系统挂载点、文件格式及大小，选择文件系统的来源。根据配置您可创建一个或多个文件系统： 基于卷组创建文件系统：若该服务配置已启用LVM并配置卷组，可下拉选择已配置的卷组作为文件系统来源。若您设置的文件系统大小大于所选卷组中磁盘的大小，系统将动态扩展其中一个磁盘节点。 基于磁盘创建文件系统：您可下拉选择磁盘作为文件系统的来源，此时可选的磁盘包含服务配置中未关联到卷组的磁盘节点和您在存储中创建的磁盘。若您设置的文件系统大小大于所选磁盘的大小，系统将动态扩展磁盘。 Network: 选择具体的网络IP地址。 「Note」 您可以在配置服务时控制参数是否在申请时可查看或修改。具体操作步骤，请参考：配置云资源蓝图服务 软件配置：您可以点击加号按钮，选择要在云主机上安装的软件。 如需使用凭证，验证用户身份，可参考如下步骤，创建并使用您的凭证： 点击页面右上角用户名称，选择编辑资料，进入个人中心界面。 在我的凭证标签页，点击添加，进入基本信息标签页。 输入名称、描述、用户名并选择凭证类别：密码、密钥。 密码：填写密码、确认密码（前后输入的密码必须一致）。服务配置时，可允许企业成员申请时，修改您创建的密码，还支持企业成员在申请服务时选择自己的凭证或者手动输入用户名和密码。 密钥：创建或导入密钥。在虚拟机模板中，若选择密钥对的验证类型，将只能选择系统中已存在的共享的且类型为密钥的凭证（新建生成或导入的密钥）。 创建密钥：选择算法（RSA）以及长度，目前支持1024、2048和4096三个长度的密钥生成。 导入密钥:可导入私钥在系统中保存以便随后使用。 允许共享：勾选允许共享，可将我的凭证共享给指定业务组的指定角色。 申请服务时：您可选择自己的凭证或者手动输入用户名和密码进行身份验证 点击保存，确认无误后点击提交，等待部署完成。 通过云组件部署云资源 SmartCMP也支持一个服务绑定多个云组件，您可以根据需求快速选择组件，例如：\"申请云资源\"，系统提前配置了虚拟机组件以及其他云资源组件（例如云硬盘、网络负载均衡等），这些组件都是可以单独部署的组件（例如RDS、Redis、Storage、EIP等）或者是能够自动部署生成简单蓝图的组件（例如Instance等）。所以针对这些云资源，您无需再设计相关蓝图，就可以直接申请部署。 您可以通过以下步骤申请云资源（以申请Instance(vSphere)为例）： 点击服务卡片，选择部署云组件 填写服务基本信息： 业务组：选择部署所属业务组。 服务部署名称： 自定义输入部署名称。 项目：选择服务部署所属的项目。 所有者：选择服务部署的所有者。 数量：输入数字，您可以一次创建多个服务部署。 键值标签：默认勾选，所有节点使用相同的键值标签， 若不勾选，将列出该服务部署下的所有节点，可为每个节点单独设置键值标签。管理员可在 系统配置 - 系统参数 启用同步标签功能，启用后在服务申请时新建的键值标签将被同步至云平台。 「Note」 您可以在 系统管理 - 界面配置 里控制服务申请页面显示需申请时填写的字段。具体操作步骤，请参考：服务配置 执行时间：设定未来的某个时间，在这个时间点进行服务部署的创建。 付费方式：您可以选择“包年包月”或者“按需”的付费方式 购买时长：当您选择“包年包月”的付费方式后，可选择购买时长，范围从“1个月”至“3年” 租用到期日期:当您选择“按需”的付费方式后,可以指定服务部署的使用期限。到期之后，所有的服务将被停机,最长到期日期无限制 保留时间（日）：您可以指定使用期限到期之后，服务部署的保留时间。到期之后，所有的服务将被卸除。您可以输入大于等于 2，留空为无限期 填写相关申请参数，例如：资源池、私有网络、虚拟机配置、存储大小、节点数量等等信息。 资源池：选择具体的资源环境，请先至 资源池管理 配置资源池。 计算规格：根据业务需求选择不同规格的计算资源。 操作系统：根据需求选择不同操作系统的镜像。 存储：选择系统盘磁盘类型，根据配置可以添加数据盘。 Network: 选择具体的网络IP地址。 「Note」 您可以在配置服务时控制参数是否在申请时可查看或修改。具体操作步骤，请参考：服务配置 设置标签： 您可以为您申请部署的云资源创建或设置键值标签，也可以设置管理员提供的云资源标签。 键值标签：若勾选 所有节点使用相同的键值标签 ，可为所有节点设置相同的标签；您也可以取消勾选，平台将列出该服务部署下的所有节点并允许为每个节点设置不同的标签。 云资源标签：选择管理员预设的云资源标签，每个标签由一个键值对组成，例如一个键为“环境”且值为“UAT”的标签。云资源标签将对部署下所有资源生效。 「Note」 i. 若允许用户在服务申请时设置标签，管理员需先在服务配置或 系统设置 - 界面配置 中启用键值标签或云资源标签的申请字段配置，并在资源标签中预设云资源标签。 ii. 管理员可在 系统配置 - 系统参数 启用同步标签功能，启用后在服务申请时新建的键值标签将被同步至云平台。 如需使用凭证，验证用户身份，可参考如下步骤，创建并使用您的凭证： 点击页面右上角用户名称，选择编辑资料，进入个人中心界面。 在我的凭证标签页，点击添加，进入基本信息标签页。 输入名称、描述、用户名并选择凭证类别：密码、密钥。 密码：填写密码、确认密码（前后输入的密码必须一致）。服务配置时，可允许企业成员申请时，修改您创建的密码，还支持企业成员在申请服务时选择自己的凭证或者手动输入用户名和密码。 密钥：创建或导入密钥。在虚拟机模板中，若选择密钥对的验证类型，将只能选择系统中已存在的共享的且类型为密钥的凭证（新建生成或导入的密钥）。 创建密钥：选择算法（RSA）以及长度，目前支持1024、2048和4096三个长度的密钥生成。 导入密钥:可导入私钥在系统中保存以便随后使用。 允许共享：勾选允许共享，可将我的凭证共享给指定业务组的指定角色。 申请服务时：您可选择自己的凭证或者手动输入用户名和密码进行身份验证 点击保存，确认无误后点击提交，等待部署完成。 工单服务 SmartCMP支持在 服务建模-服务配置 发布工单服务，包括通用工单，问题工单，事件工单，变更工单，请求工单和任务执行申请。用户在使用过程中，如需提交工单，可以通过服务目录的工单服务快速提交工单。 「Note」 您可以在服务配置中配置审批流程、申请表单、工单流程等。具体配置步骤，请参考配置工单服务 您可以通过以下步骤申请工单服务： 点击服务卡片，选择申请工单服务 填写申请者信息 申请者：请选择申请此工单的用户 项目：请选择申请者所属项目 业务组：选择申请者所属业务组。 手机号码和邮箱：请填写申请人的联系方式，方便您实时跟进工单状态 填写工单信息：请填写需要处理问题的详细信息，并指派处理此项工单的处理团队或者处理人。当您不指定服务团队和处理人时，工单会根据流程配置处理；当申请时指定服务团队不指定处理人，工单会指派给该服务团队，等待处理人认领；当申请时指定处理人，不指定服务团队，该工单会直接分派给该处理人。 标题和描述：请自定义工单标题并添加描述 影响程度：请根据业务需求选择此工单服务的影响程度，可选项包括特大、大、中和小 紧急程度：请根据业务需求选择此工单服务的影紧急程度，可选项包括特急、急、中和低 优先级：平台会根据您所选的影响程度和紧急程度自动匹配，此项不可编辑 服务分组：请选择一个服务分组，为此工单定义问题类型 服务团队：请选择审批此工单服务的服务团队，服务团队将会处理用户提交的工单申请或是故障单。您可以在 服务管理 - 服务团队 进行服务团队的配置 处理人：请选择审批此工单服务的人员，您可以在 服务管理 - 服务团队 中进行处理人的配置 CI：请选择系统的云资源，此项为可选项 服务等级协议：您只能选择与优先级相匹配的服务等级协议 填写备注 备注：填写此项工单的备注说明 可见范围：设定此工单备注的可见范围 所有人：处理此项工单时，所有人都能看到工单的备注信息。 用户：处理此项工单时，指定某个或多个用户能够查看工单的备注信息。 角色：处理此项工单时，指定某个或多个角色能够查看工单的备注信息。 确认无误后点击申请，申请通过后，您可以在 服务请求 - 我的申请 中查看进度、处理人和处理时间。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/06云服务管理/服务请求.html":{"url":"AdminDoc/06云服务管理/服务请求.html","title":"服务请求管理","keywords":"","body":"服务请求管理 SmartCMP可以管控和记录云资源服务和工单的全生命周期，包括服务配置、申请、处理和实时查看服务进展。 用户可在服务目录申请业务组发布的、已配置好的服务和共享的服务，其中服务类型包括两种类型：其一是工单服务，其二是云资源蓝图服务。服务申请完成，该服务信息可进入我的申请列表页面查看，稍后为您介绍我的申请详细信息。 当用户在服务目录申请工单完成后，根据预先配置的流程，系统将根据工单与服务团队的关联关系，派发工单给相应的服务团队进行处理。服务团队的成员也可以主动进行节点操作。服务团队中的指定人员收到工单请求之后，可以进行转派，也可以进行线下处理，完成之后更新工单状态，系统自动通知用户，也支持用户查看处理进程。 我的申请 选择某一个云资源蓝图服务或工单服务，点击进入服务信息详情页。输入服务基本信息并点击申请即可申请服务成功。服务申请成功之后，服务申请状态变更为处理中，申请进入我的申请当中。 用户可根据以下步骤查看用户自己已经申请的云资源蓝图服务或工单并跟踪处理进程，同时，用户也可以通过高级搜索或者选择不同条件来筛选工单，筛选条件包括工单所属服务目录，工单处理阶段，请求工单类型，业务组，项目，状态等： 在左侧导航栏点击 服务请求 - 我的申请 ，我的申请页面显示申请的基本信息：请求编号，请求类型，标题，申请人，业务组，项目，状态，申请时间，更新时间。 选择任意云资源蓝图服务的服务请求，点击请求编号链接，跳转到服务请求详情页面，可查看该请求的基本信息，部署信息、申请参数、审批记录、处理记录等。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等。 部署信息包括部署名称、描述、部署数量、付费方式、执行时间、租用到期日期、键值标签、保留时间等。 申请参数信息包括申请资源的信息等 审批记录信息包括审批流程、审批流程名称、状态、审批意见、审批人、审批角色、审批时间等。 处理记录信息包括流程步骤，描述，状态，处理结果描述、处理人、处理时间。 选择任意工单服务的服务请求，点击请求编号链接，跳转到服务请求详情页面，可查看该请求的申请者信息、工单信息等。 您可以判断问题是否已经得到解决，并选择不同的处理方式 确认关闭：判断问题已经得到解决并关闭该工单。 处理结果描述：请描述解决方案或提供额外信息。 重新处理：判断问题没有解决并要求处理人重新处理。 重新处理说明：请描述重新处理的原因或者请求。 您可以查看此工单处理的活动轨迹，也可以添加备注，并可以选择备注所见范围 所有人：处理此项工单时，所有人都能看到工单的备注信息。 用户：处理此项工单时，指定某个或多个用户能够查看工单的备注信息。 角色：处理此项工单时，指定某个或多个角色能够查看工单的备注信息。 点击提交，关闭此工单或者转给处理人重新处理。 选择已完成或超时关闭的工单，点击重新提交按钮，将会生成一条新的工单，并且新建的工单流程与原工单保持一致，而原工单的状态仍然保持不变。 我的审批 在我的审批页面，管理员在审批流程中配置审批人，审批人具有审批权限，则能够查看待审批的服务请求的详细信息，并进行审批操作。 在左侧导航栏点击 服务请求 - 我的审批 ，待审批页面显示所有等待您审批的服务工单，其中显示审批请求的基本信息：请求编号，请求类型，标题，申请人，业务组，项目，申请状态，申请时间等。 您可以列表点击多个审批单，进行批量审批通过，拒绝或者批量接单。您也可以选择一个工单，点击请求编号链接，跳转到我的申请详情页面，可查看该请求的审批人，审批状态，基本信息，工单信息，服务部署信息，组件参数，IP地址，部署资源占用信息总览，服务请求，资源申请依据等。 基本信息包括请求编号，申请时间，请求类型，申请者，业务组，项目等。 部署信息包括服务部署名称、数量、描述、租用到期时间等。若界面配置 - 服务申请中启用了云资源标签字段且资源标签中预设了云资源标签值，部署信息内将展示云资源标签（根据审批流程的设置，审批人将有权限修改云资源标签）。 组件参数：采集蓝图部署组件的参数 查看部署资源占用信息总览：包括资源池名称，待分配资源等 服务请求信息：审批流程，审批流程名称，状态，审批意见，审批人，审批角色，审批时间和审批意见等。 点击页面下方批准按钮即可批准此次申请，申请状态变更为已审批；点击拒绝，则此处申请被驳回，填写审批意见点击退回；点击申请则退回申请人处修改申请详情。 我的待办 此处显示等待您处理的服务请求工单。您可以查看详细的请求信息，并进行相应的处理操作。 在左侧导航栏点击 服务请求 - 我的待办 ，待处理页面显示发起的所有处理请求中待处理的部分，其中显示处理请求的基本信息包括：请求编号，请求类型，标题，服务名称，申请人，业务组，项目，申请状态，申请时间，完成时间等。 选择一个待处理的服务请求，点击请求编链接，跳转到请求详情页面，处理人有权限查看该请求的申请者信息，工单信息，服务处理信息等。 申请者信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等。 工单信息包括标题，描述，影响程度，紧急程度，优先级，服务分组，服务团队，处理人，CI,服务等级协议，表单信息等字段信息。 服务处理：您需要指派合适的人去完成这项任务，您也可以为此步骤配置表单，处理人可以根据表单配置填写不同的内容，具体步骤请参考工单服务配置。 选择直接处理方式：点击直接处理，填上处理结果描述，即可点击提交处理，平台会通知服务申请者，申请者可进行工单关闭操作，则服务请求状态变更为已处理。 选择转派处理方式： 选择转派类型（服务团队、用户、角色或者申请人），处理人和转派说明，点击页面下方提交按钮即可处理完成此次服务请求，平台会通知服务申请者，申请者可进行工单关闭操作，则服务请求状态变更为已处理。 选择“服务团队”，并选择具体的服务团队，如无法选择，请点击 组织架构 - 服务团队 进行创建。 选择“用户”，并直接选择一个处理人。 选择“角色”，并选择具体的处理人，平台会根据您选择的角色筛选处理人的选项，您可以点击 组织架构 - 角色 创建角色。 选择“申请人”，工单直接转派回给申请人。 处理人：请选择处理该任务的处理人。 转派说明：请描述转派的原因或背景。 活动轨迹：您可以查看此工单处理的活动轨迹，也可以添加备注，并可以选择备注所见范围 所有人：处理此项工单时，所有人都能看到工单的备注信息。 用户：处理此项工单时，指定某个或多个用户能够查看工单的备注信息。 角色：处理此项工单时，指定某个或多个角色能够查看工单的备注信息。 请求管理 您可以查看所有的请求工单详情，具体步骤如下： 点击左侧菜单栏的 服务请求 - 请求管理 ，可查看所有的请求工单的申请列表，包括申请状态为待审批和已审批，待处理和已处理。 该页面显示请求编号、服务名称、请求类型、标题、申请人、业务组、项目、申请状态、申请时间以及完成时间。可点击请求编号查看申请的详细信息。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等等。 工单信息包括标题，描述，优先级，紧急程度。 审批信息包括审批人，审批状态，服务部署名称，服务请求，资源申请依据。 处理记录包括流程步骤，描述，处理结果描述，状态，处理人，处理时间。 请求类型为请求工单。 在请求管理列表页面，支持您快速定位到您需要查看的请求管理工单，您可以通过状态（服务请求的审批状态：处理中、审批中、已完成、已拒绝、已退回、已失败、已取消），业务组，项目，SLA状态（正常、剩余时间25%-50%），剩余时间不足25%、超时），申请时间（服务请求的起止时间）或关键字搜索框快速定位。 事件管理 您可以查看所有的事件工单详情，具体步骤如下： 点击左侧菜单栏的 服务请求 - 事件管理 ，可查看所有的事件工单的申请列表，包括申请状态为待审批和已审批，待处理和已处理。 该页面显示请求编号、服务名称、请求类型、标题、申请人、业务组、项目、申请状态、申请时间以及完成时间。可点击请求编号查看申请的详细信息。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等等。 工单信息包括标题，描述，优先级，紧急程度。 审批信息包括审批人，审批状态，服务部署名称，服务请求，资源申请依据。 处理记录包括流程步骤，描述，处理结果描述，状态，处理人，处理时间。 请求类型为事件工单。 在请求管理列表页面，支持您快速定位到您需要查看的请求管理工单，您可以通过状态（服务请求的审批状态：处理中、审批中、已完成、已拒绝、已退回、已失败、已取消），业务组，项目，SLA状态（正常、剩余时间25%-50%），剩余时间不足25%、超时），申请时间（服务请求的起止时间）或关键字搜索框快速定位。 问题管理 您可以查看所有的问题工单详情，具体步骤如下： 点击左侧菜单栏的 服务请求 - 问题管理 ，可查看所有的问题工单的申请列表，包括申请状态为待审批和已审批，待处理和已处理。 该页面显示请求编号、服务名称、请求类型、标题、申请人、业务组、项目、申请状态、申请时间以及完成时间。可点击请求编号查看申请的详细信息。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等等。 工单信息包括标题，描述，优先级，紧急程度。 审批信息包括审批人，审批状态，服务部署名称，服务请求，资源申请依据。 处理记录包括流程步骤，描述，处理结果描述，状态，处理人，处理时间。 请求类型为问题工单。 在请求管理列表页面，支持您快速定位到您需要查看的请求管理工单，您可以通过状态（服务请求的审批状态：处理中、审批中、已完成、已拒绝、已退回、已失败、已取消），业务组，项目，SLA状态（正常、剩余时间25%-50%），剩余时间不足25%、超时），申请时间（服务请求的起止时间）或关键字搜索框快速定位。 变更管理 您可以查看所有的变更工单详情，具体步骤如下： 点击左侧菜单栏的 服务请求 - 变更管理 ，可查看所有的变更工单的申请列表，包括申请状态为待审批和已审批，待处理和已处理。 该页面显示请求编号、服务名称、请求类型、标题、申请人、业务组、项目、申请状态、申请时间以及完成时间。可点击请求编号查看申请的详细信息。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等等。 工单信息包括标题，描述，优先级，紧急程度。 审批信息包括审批人，审批状态，服务部署名称，服务请求，资源申请依据。 处理记录包括流程步骤，描述，处理结果描述，状态，处理人，处理时间。 请求类型为变更工单。 在请求管理列表页面，支持您快速定位到您需要查看的请求管理工单，您可以通过状态（服务请求的审批状态：处理中、审批中、已完成、已拒绝、已退回、已失败、已取消），业务组，项目，SLA状态（正常、剩余时间25%-50%），剩余时间不足25%、超时），申请时间（服务请求的起止时间）或关键字搜索框快速定位。 所有工单 您可查看所有申请的详细信息，具体步骤如下： 点击左侧菜单栏的 服务请求 - 所有工单 ，可查看所有工单的申请列表，包括申请状态为待审批和已审批，待处理和已处理。 该页面显示请求编号、服务名称、请求类型、标题、申请人、业务组、项目、申请状态、申请时间以及完成时间。可点击请求编号查看申请的详细信息。 基本信息包括请求编号，申请时间，请求类型，申请者，联系方式，邮箱，业务组，项目等等。 工单信息包括标题，描述，优先级，紧急程度。 审批信息包括审批人，审批状态，服务部署名称，服务请求，资源申请依据。 处理记录包括流程步骤，描述，处理结果描述，状态，处理人，处理时间。 请求类型包括云应用部署，云资源部署，通用工单，问题工单，事件工单，变更工单，请求工单，任务执行申请，不同请求类型展示的详情页面稍显不同。 在服务请求列表页面，支持您快速定位到您需要查看的服务请求，您可以通过状态（服务请求的审批状态：处理中、审批中、已完成、已拒绝、已退回、已失败、已取消），业务组，项目，SLA状态（正常、剩余时间25%-50%），剩余时间不足25%、超时），申请时间（服务请求的起止时间）或关键字搜索框快速定位。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/14我的部署/":{"url":"AdminDoc/14我的部署/","title":"云资源管理","keywords":"","body":"云资源管理 用户申请服务之后，云管理平台将根据策略自动化部署用户申请服务包含的所有云资源，例如一台虚拟机，一个数据库，或是一个多层次架构的应用环境。用户可在配置的服务租期内，使用该服务部署的所有资源，并能够根据管理员配置的操作许可，自助进行运维或变更操作。 在云管理平台的 我的部署 菜单下，实现服务按策略部署；查看云主机、云资源；选中一个或者多个服务部署或者云资源快速进行已被授权的运维操作；优化资源回收流程，支持手动回收和按策略自动回收资源，如果存在误删除的情况时，支持通过回收站找回资源与数据。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/14我的部署/服务部署.html":{"url":"AdminDoc/14我的部署/服务部署.html","title":"服务部署","keywords":"","body":"服务部署 服务部署包括了用户所申请的一个服务中的所有云主机实例和云资源。 服务部署页面可查看服务部署的状态、详情、监控等。用户可通过统一页面，看到申请的所有服务部署和云资源，包括，云主机、存储、网络、软件等，查看运行状态，并进行允许的各种变更运维操作。 在左侧导航栏选择 我的部署 - 服务部署 后，您将会看到服务部署列表，可根据业务组、所有者、项目进行筛选，也可直接进行关键词搜索操作。 列表页面进行重构，如下图所示，用户可以按需拖动间距，表头支持筛选和搜索。 在服务部署列表中，用户可以选中一个或者多个服务部署快速进行一些操作，包括“刷新状态”，“停止”，更多操作如：卸除“服务部署”，“删除管理信息”，“更改所有者”，“更改第二所有者”，“更改项目”，“更改业务组”，“重新执行部署”等。 点击服务部署名称，可查看该服务部署的详细信息。服务部署详情信息界面包括概况，部署拓扑，操作历史，监控（对云主机和应用组件的监控），操作历史以及顶部的运维操作 概况包括服务部署的名称、业务组、项目、蓝图、资源池、云平台，以及费用、状态、时间等相关信息。还包括该服务部署的输入参数列表以及输出参数信息。服务部署失败后，某些场景可线下修复，修复成功后支持更改服务部署状态，将操作失败更改为运行 部署拓扑包括服务部署的蓝图、详情和流程信息。鼠标悬停至服务拓扑图中，将显示该节点的关键信息，如Server节点将显示云主机名称、客户操作系统、IP地址、内存、磁盘总空间、vCPU数量、CPU使用率、内存使用率等 定时任务显示定时部署服务的相关信息，例如：操作名称、节点名称、定时设置、定时任务描述、创建时间、创建者 操作历史显示该服务部署的操作历史记录，例如启用/切换监控等 监控显示对该部署中有的组件应用的监控信息，监控的时间跨度有种选择可选（30分钟，1小时，3小时，1天，30天，90天等） 服务部署运维操作 在服务部署列表界面或点击服务部署名称进入服务部署详情界面，均可对服务部署做运维操作。服务部署的运维操作由授权配置进行控制。管理员可在授权配置中创建和管理授权配置模板，定义用户对服务部署可以进行的操作，同时可以指定审批流程。 刷新状态 状态为遗失的虚拟机无法查看详情，在某些业务场景中，遗失的虚拟机会重新加入平台中，需要支持能够手动刷新状态。同时，也要能够支持其他云资源状态的刷新。 支持批量刷新，在服务部署列表中，选中一个或多个部署 点击刷新状态按钮，可以手工刷新状态。刷新状态的按钮放在第一个。 刷新后，后台更新每个服务部署的状态还包括：规格配置的修改，磁盘的增加，IP地址的修改，刷新的结果通过通知返回。刷新的操作会记录到操作历史中。 在云主机中进行运维操作时，SmartCMP能够根据虚拟机的UUID重新刷新虚拟机的正确状态 启动服务部署 若服务部署处于关闭状态，则点击重启按钮进行启动服务部署的操作。可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。 停止服务部署 若服务部署处于正在运行的状态，则可以点击停止按钮完成停止服务部署，该操作将对该服务部署下的所有虚机进行关机操作。可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。 安装软件 选择服务部署下的云主机，并选择需要安装的软件。该软件列表来源于 我的部署 - 云资源 - 软件组件，可对软件的属性键值进行更改。 更改组织信息 您可通过以下操作更改组织信息： 更改所有者 更改服务部署的所有者，将会同时改变该服务部署下的所有云资源的所有者。所选的目标所有者，为该业务组下的成员。 更改第二所有者 第二所有者可以访问当前服务部署（以及部署所包含的所有云资源）。您可以对第二所有者单独配置授权，指定其对服务部署和云资源可进行的操作。 更改项目 更改服务部署的所属项目，将会同时改变该服务部署下的所有云资源的所属项目和所有者。选择目标项目，并选择该项目下的所有者。 更改业务组 将会把该服务部署下的所有云资源同时更改到新业务组中，并修改所有者等相关信息。请确保目标和源业务组使用了相同的共享资源池，否则将无法进行更改。选择目标业务组，项目（可选），所有者（该业务组下的成员）。 设置标签 可为云主机设置键值标签或云资源标签，从而为云主机分类和过滤。设置标签的方法如下： 在服务部署列表页面点击服务部署左侧三角展开已部署云主机列表，点击右侧···展开云主机运维操作列表。 点击设置键值标签（或设置云资源标签） 设置键值标签：填写键、值，点击创建，标签创建成功；也可选择已有的标签，点击确定。 设置云资源标签：选择管理员定义好的云资源标签，通常由一对键值对组成。 「Note」管理员需在 界面配置 - 服务申请 中打开键值标签/云资源标签的字段配置以允许用户进行设置标签操作。 扩展与收缩 伸缩：扩展当前部署下的实例，静态IP部署的Server不支持伸缩。可以通过设置 启用定时 ，从而定时（将来某一时刻）触发此项任务。 复制服务部署：服务部署成功后，可将该服务部署整体的应用环境复制至其他云平台或克隆至当前云平台。 常见应用场景：例如将vSphere服务部署复制至阿里云，vSphere至vSphere，阿里云至阿里专有云 操作步骤： 选择目标服务：选择目标业务组、项目（可选）、所有者以及服务，选择当前实例节点作为模板来复制/新建到所选的服务拓扑图中的目标节点 配置参数：填写服务部署名称（若业务组有规则将根据业务组规则自动生成）、服务部署租用到期时间，以及配置该服务拓扑图中的其他节点参数，针对每个计算节点，可以选择复制或者新建（从模板部署一台新机器） 点击提交，等待执行。 「Note」若是跨云复制，则需要第三方支持 延长过期时间：延长服务部署的租用到期时间，点击将显示业务组中设置的最大可延期次数以及已延期次数，选择延长到哪一时间到期，精确到分钟。 删除 您可通过以下步骤进行删除操作： 卸除服务部署 服务部署后，可卸除该服务部署下的云资源。选择部署的服务，点击更多操作-删除-卸除，可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。卸除服务部署将删除在SmartCMP中新建的所有资源。若该服务部署中包含共享资源，将不删除共享资源；若该服务部署包含已有资源，如LoadBalance\"使用已有资源\"，将不删除已有资源；若导入资源后，您是该资源的Owner，可删除导入资源。 删除管理信息 删除该服务部署以及所属虚拟机在SmartCMP上的管理信息，在相关云平台中仍然保留，不进行删除。选择部署的服务，点击更多操作-删除-卸除，可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务 删除节点 可在服务部署后删除计算节点、存储和软件组件。点击删除节点，将展示该服务部署名称、该部署下的所有计算节点、存储和软件组件节点以及部署状态，可单选或多选节点进行删除，可启用定时指定时间进行操作。 重新部署 您可通过以下操作重新部署： 重新执行部署：可在服务部署后针对部署节点进行重新执行部署的操作。 操作步骤： 点击更多操作-重新部署-重新执行部署，将展示该服务部署名称、该部署下的所有计算节点/存储节点/软件组件节点以及部署状态。 可单选或多选节点进行重新执行；可启用定时，从而定时（将来某一时刻）触发此项任务。 点击确定，等待执行。 重新申请部署：可在服务部署成功或失败后重新申请部署操作。 操作步骤： 点击更多操作-重新部署-重新申请部署。 服务申请页面将自动带入该部署执行所用的参数，允许修用户修改参数。 点击申请，等待部署执行。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/14我的部署/云主机.html":{"url":"AdminDoc/14我的部署/云主机.html","title":"云主机","keywords":"","body":"云主机 用户可以查看云主机列表来对其进行管理和操作，操作的启用和是否需要审批需要在业务组级别或者服务配置级别进行设置。 云主机信息查看 在左侧导航栏选择 我的部署 - 云主机 后，用户将会看到云主机的列表。可在该列表界面查看云主机的详细信息。可通过点击右上角选择展示列的按钮，选择您需要的列进行展示。 在云主机列表中，用户可以选中一个或者多个云主机快速进行一些操作，包括启动、重启、挂起、停止、执行脚本、设置标签、启用/切换监控、更新监控代理，具体操作介绍会在下文展开 您也可以单击某一个云主机进入其详情界面进行管理和操作： 概况：包括了云主机的主要配置信息，监控信息（如果启用了监控），凭证信息（如果关联了凭证）等。 网络连通：显示连接云主机的方式 平台直连：直接访问云主机 通过云网关（云网关的名称）进行连接：云网关已部署，并与资源池作关联，通过云网关访问该云主机。 监控：包括了该云主机CPU、内存、磁盘、网络的监控数据（可以按照需要调整时间跨度或者平均时间来查看历史监控数据） 「Note」只有在云主机模板中配置安装监控的云主机在部署生成后，才可以在监控中看到数据，如何配置安装监控请参看 云主机模板 章节。 已触发警报：如果配置了告警，该云主机有警报产生，可在此处查看所有警报。 快照信息：显示当前的快照信息（快照名称、创建时间等），点击添加可以创建快照。支持vSphere、OpenStack和阿里云主机。 定时任务：列出了您针对该云主机设置的所有定时任务。 操作历史：包括了该云主机进行过的操作的历史记录 操作列表：云主机图标的上方显示了运维的操作列表，具体操作介绍会在下文展开 云主机快速导入 在云主机列表界面，您可以点击导入按钮快速导入已有云资源至SmartCMP进行纳管。 导入云主机至SmartCMP进行纳管，当您在主流公有云，私有云（例如阿里云，腾讯云，AWS, Azure, vSphere等）上已部署云资源，并需要导入至SmartCMP进行纳管，平台管理员可以进行以下操作： 在 我的部署 - 云主机 界面，点击导入按钮，选择需要导入到平台进行纳管的云主机。 在导入云主机页面填写配置信息 组织信息：选择导入的云主机所属的业务组、项目与所有者。如无法选择，请先添加对应的业务组、项目与所有者。 标签设置：为导入的云主机创建或设置键值标签，也可以选择管理员配置的云资源标签。 键值标签：请选择或输入键值标签，为您所要导入的主机打上标签。键值标签由一个键值对组成。例如，您可以定义一个键为“环境”且值为“UAT”的标签。 云资源标签：请选择管理员预先配置的云资源标签。 资源环境：请选择平台已添加的资源池，如无法选择，请先添加对应的资源池。 选择云主机：选择您要导入到平台进行纳管的云主机。 过滤条件：通过名称关键字、标签过滤，快速定位需要导入的云主机。可选择已有的键值标签，或者新建键值标签进行过滤。 云主机：请选择通过该资源池的资源部署成功的云主机。 点击确定按钮，完成导入云主机的申请。 云主机运维操作 在云主机列表界面或点击云主机名称进入云主机详情页面，均可对云主机进行下列运维操作。 「Note」 列表页面可批量对云主机进行操作。不能批量进行的操作请进入云主机详情页面。 只有在授权配置模板中配置云主机的操作许可，云主机在部署生成后才能看到允许的操作列表，如何配置云主机操作许可请参看授权配置章节。 运维操作针对不同云平台的云主机略有不同。 启动 可以实时启动（关机状态的）云主机，也可以通过设置启用定时，定时（在将来某一时刻）触发此项任务。 挂起（vSphere） 挂起一个或者多个（开机状态的）云主机，可以通过设置启用定时，定时（在将来某一时刻）触发此项任务。 停止 可以实时关机（开机状态的）云主机，可以通过设置启用定时，定时（在将来某一时刻）触发此项任务。 重启 重启一个或者多个（开机状态的）云主机，可以通过设置启用定时，定时（在将来某一时刻）触发此项任务。 执行脚本 在该云主机中执行一个脚本库的脚本，可以通过设置启用定时，定时（在将来某一时刻）触发此项任务，具体操作步骤请参考执行脚本。 您也可以直接输入脚本，通过设置启用定时，定时（在将来某一时刻）触发此项任务，具体步骤如下： 您可以通过以下不同的方式执行脚本操作 在左边导航选择 我的部署 - 云主机 ，选择云管平台已纳管的云主机，点击执行脚本。 　 　 在左边导航选择 我的部署 - 云资源 ，选择云管平台已纳管的云主机或者RDS资源，点击执行脚本。 在左边导航选择 我的部署 - 服务部署 ，选择云管平台已纳管的云主机或者RDS资源，点击执行脚本。 在左边导航选择 我的部署 - 服务部署 ，点击服务的部署拓扑，选择云主机或者RDS资源，点击执行脚本。 在执行脚本配置页面，选择直接执行，并点击脚本类型，直接输入脚本内容。 输入凭证或者自定义用户密码 点击确定按钮，完成脚本执行任务。 　 「Note」如果您输入的是ansible脚本或者输入其他类型脚本且并未安装代理，执行脚本时必须使用凭证或者自定义密码。 迁移（即vSphere vMotion迁移） 支持对vSphere的计算资源迁移和存储迁移。利用vSphere的vMotion迁移功能，使用不同的迁移方式，将云主机在不同主机之间进行迁移。 计算资源迁移：选择目标主机，可以通过设置启用定时，定时（在将来某一时刻）触发此项任务。 存储迁移： 链接克隆：选择需要存储，将目标云主机迁移到所选的存储中去； 完全克隆：选择置备模式（与源格式相同、精简置备、厚置备延迟置零、后置备置零）；选择云主机存储策略（保留现有云主机存储策略、数据存储默认值，以及其他自定义存储策略）；存储（根据所选的存储策略判定存储的兼容性，并显示各存储的空间和占比） 启用定时：设置时间在将来某一时刻触发此项任务 远程终端 vSphere的云主机，将使用vSphere的Web console client，无需浏览器特别支持。 OpenStack云主机远程终端操作需要使用VNC Web Client，您的浏览器需要支持HTML5 Canvas和HTML5 WebSockets。如果需要了解VNC WebClient所支持的全部浏览器，可以访问https：//github.com/kanaka/noVNC/wiki/Browser-support 阿里云的云主机，远程终端使用VNC的方式，请首先在 更多操作 - 其他 - 设置VNC密码 中设置密码，然后通过远程终端，输入VNC密码后进行访问。 关联凭证 可为云主机关联用户凭证。将云主机与您的凭证关联之后，下次访问云主机时，平台将自动选用关联的凭证。当您修改凭证的密码或密钥时，可同步更新云主机操作系统中的密码或密钥。 从下拉框内选择已有凭证，与云主机关联 勾选 将凭证信息录入到云主机中 ，如果虚拟机的操作系统中已存在凭证中的用户，会将该用户的密码进行更新；如果不存在，则将创建新的用户。 输入连接云主机的密码。可以通过下拉框选择已有凭证，或者点击自定义密码并输入用户名与密码。 设置标签 可为云主机设置键值标签或云资源标签，从而为云主机分类和过滤。云主机标签的使用方法如下： 添加标签 对新建的云主机添加标签： 在左侧导航栏选择 我的部署 - 云主机 ，在云主机的列表界面，选择一个云主机 点击上方的 更多操作 - 更改配置 - 设置键值标签（或设置云资源标签） ，出现标签的设置界面 设置键值标签：填写键、值，点击创建，标签创建成功；也可选择已有的标签，点击执行。 设置云资源标签：选择管理员定义好的云资源标签，通常由一对键值对组成。 在云主机详情页，可查看已添加的云主机标签。用户亦可在已添加的键值标签/云资源标签处点击+号，为云主机添加新的标签。 对导入的云主机添加标签： 在左侧菜单选择 服务部署 - 云主机，点击导入按钮导入云主机 在标签设置中，可以为导入的云主机选择键值标签，也可以输入键值创建新的标签 「Note」管理员需在 界面配置 - 服务申请 中打开键值标签/云资源标签的字段配置以允许用户进行设置标签操作。管理员可在 系统配置 - 系统参数 启用同步标签功能，启用后在服务申请时新建的键值标签将被同步至云平台。 修改/删除标签： 在云主机列表界面，选择一个云主机；点击更多操作- 更改配置 - 设置键值标签/设置云资源标签，可直接删除并重新创建键值标签，或重新选择云资源标签。 管理磁盘 您可通过以下操作管理磁盘： 添加新磁盘 点击 更多操作 - 管理磁盘 - 添加新磁盘 给云主机添加一块新的磁盘。 「Note」vSphere云主机在挂起状态下不能执行该操作；Azure云主机在添加磁盘时需是关机状态。 扩展磁盘 点击 更多操作 - 管理磁盘 - 扩展磁盘 给云主机扩展一块已有的磁盘。 「Note」vSphere云主机在挂起状态下不能执行该操作；Azure仅支持卷分离后调整磁盘大小。 管理文件系统 您可通过以下操作管理文件系统： 添加文件系统 点击 更多操作 - 管理磁盘 - 添加文件系统 给云主机添加新的文件系统。 允许创建一个或者多个文件系统。如果需要在逻辑卷上创建一个文件系统, 请在文件系统的来源中指定或选择一个卷组。若该卷组已存在，系统将直接在已创建的逻辑卷上创建一个文件系统；若指定的逻辑卷不存在，将自动创建该逻辑卷然后在该逻辑卷上创建一个文件系统。如果需要直接从一个磁盘上创建一个文件系统, 请在文件系统的来源中选择自动创建一块新磁盘。 扩展文件系统 点击 更多操作 - 管理磁盘 - 扩展文件系统 给云主机扩展已有的文件系统。 「Note」导入的云主机在添加和扩展文件系统前请先关联凭证。 更改配置 您可通过以下操作更改配置： 调整虚机配置 更多操作 - 更改配置 - 调整虚机配置，可调整云主机的CPU和内存配置。 「Note」阿里云云主机需要在关机状态下进行调整。 添加网卡 添加一个新网卡，针对该计算节点的所有实例生效，选择网络标签和IP分配方式，目前vSphere只支持DHCP，OpenStack和PowerVC支持DHCP和IP池两种IP分配方式，OpenStack云主机还支持手动指定IP。 删除网卡 删除运维新增加的网卡，该操作会影响该节点的所有云主机。 更新云主机名称 点击更多操作 - 更改配置 - 更新云主机名称，可以重新设置云主机的显示名。 重置操作系统主机名 点击更多操作 - 更改配置 - 重置操作系统主机名，可以重新设置操作系统主机名，即OS Hostname。 管理快照 您可通过以下操作管理快照： 创建快照 支持创建快照的时候，设置定时循环任务，例如在每天的某个时间，每周或每月的某一天，自动的进行快照创建，并且支持随时查看、取消已经设置的定时循环任。 在左边导航选择 我的部署- 云主机 ，在右边选择快照信息 点击添加按钮 ，输入名称，若启用定时循环任务，名称将由系统自动生成。 点击确定，定时创建快照的任务设置成功。 在左边导航选择 我的部署 - 云主机 ，在右边选择定时任务 选中操作名称，点击上方的删除，即可取消已经设置的定时循环任务。 恢复至快照 把云主机恢复到之前的某一个快照。 删除快照 点击删除按钮，选择快照名称，删除已创建的快照 「Note」阿里云的快照管理在云资源的磁盘中进行配置。 监控和代理 您可通过以下操作管理监控代理： 启用/切换监控 目前对云主机支持两种监控方式：平台的代理监控以及云平台监控。 代理监控是通过在云主机中安装平台的监控代理，获取监控信息； 云平台监控是指通过云平台的API，获取监控信息，无需安装代理。vSphere和微软Azure的云主机，阿里云的ECS、SLB、OSS、RDS等资源支持这种方式。 「Note」请首先在阿里云和Azure云平台入口的配置中，启用云平台监控。启用后会频繁调用云平台API，可能会触发云平台的API限流机制，并需要为超出免费次数限制的API调用支付额外的费用。 更新监控代理 如果云主机安装了监控代理，可通过该操作进行更新。 删除 您可通过以下步骤进行删除操作： 卸除 您可以通过以下三种方式卸除云主机 点击 我的部署 - 云主机 ，点击云主机的名称，选择更多操作-删除-卸除，进行卸除操作。 点击 我的部署 - 云主机 ，勾选云主机，选择更多操作-删除-卸除，进行卸除操作。 点击 我的部署 - 云主机 ，在云主机列表右侧，点击 操作 - 卸除，进行卸除操作。 您也可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。进行卸除操作时，只删除这台云主机，同一个部署下的其他资源将不被删除。 删除管理信息 您可以通过多种方式删除管理信息 点击 我的部署 - 云主机 ，点击云主机的名称，选择更多操作-删除-删除管理信息，进行删除操作。 点击 我的部署 - 云主机 ，勾选云主机，选择更多操作-删除-删除管理信息，进行删除操作。 点击 我的部署 - 云主机 ，在云主机列表右侧，点击 操作 - 删除管理信息，进行删除操作。 您也可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。删除该虚拟机在SmartCMP上的管理信息，在相关云平台中仍然保留，不进行删除。可以通过设置启用定时，从而定时（将来某一时刻）触发此项任务。 其他 如果您在组件中，增加了新的运维操作，可以在此处显示。例如下图，如果您在vSphere的Instance组件中，自定义了一个备份的操作，并加入了 其他 操作分组，配置授权之后，用户可在 更多操作 - 其他 中进行点击操作。自定义组件操作的具体步骤，请参考：配置操作 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/14我的部署/云资源.html":{"url":"AdminDoc/14我的部署/云资源.html","title":"云资源","keywords":"","body":"云资源 云资源菜单下统一纳管所有的云资源，展示其相关信息以及提供各云资源对应的运维操作。 用户可通过统一页面，看到申请的所有云资源，包括，云主机、存储、网络、软件等，查看运行状态，并进行允许的各种变更运维操作。 如下图，用户能快速查看云资源分组，并针对任意云资源统一地进行运维变更操作。 在云资源列表和详情页均可为云资源设置键值标签或云资源标签，从而为云资源分类和过滤。设置后，云资源列表及详情页将展示当前云资源的所有标签。管理员需在系统设置 - 界面配置 中启用键值标签或云资源标签的申请字段配置，并在资源标签中预设云资源标签。 云资源快速导入 在云资源列表界面，您可以点击导入按钮快速导入已有云资源至SmartCMP进行纳管。 云主机导入 您可以点击导入按钮快速导入已有云资源至SmartCMP进行纳管。详情请参考云主机快速导入 存量机器导入 您可以导入存量机器至SmartCMP进行纳管。当您有物理机需要管理，或者在SmartCMP暂未支持的云平台上已部署云资源，并需要导入至SmartCMP进行纳管，普通用户（有云主机列表查看和创建权限）可以进行以下操作： 在 我的部署 - 云资源 界面，点击导入按钮，选择导入存量机器 ，根据需求选择导入Linux云主机或者Windows Machine。 在请求服务页面填写申请信息： 组织信息 业务组: 您可以选择资源所属的业务组，如无法选择，可选择添加业务组 项目: 您可以选择资源所属的项目，如无法选择，可选择添加业务组 所有者：您可以指定资源所属的人员 部署信息 名称：自定义资源名称，或者您可以点击 组织架构 － 命名规范 创建命名规则，则在此可以根据业务组上的规则自动生成 数量：您可以一次创建多个服务部署 执行时间：您可以指定在未来的某个时间，进行服务部署的创建 付费方式：可选包年包月或者按需 租用到期时间：您可以指定服务部署的使用期限。到期之后，所有的服务将被停机 保留时间（日）：您可以指定使用期限到期之后，服务部署的保留时间。到期之后，所有的服务将被卸除。您可以输入大于等于2，留空为无限期 标签设置：您可以为申请部署的云资源设置管理员配置的云资源标签。每个标签由一个键值对组成，例如一个键为“环境”且值为“UAT”的标签。 资源环境 资源池：指定导入资源的Hostpool资源池 IP地址：请输入云主机的IP地址，以供访问 主机名：输入主机名 IPMI配置信息：勾选则您需要配置接入智能平台管理的接口，您可以通过IPMI实现对物理设备的开关机操作。 IPMI访问配置：请输入IPMI本地地址，用户，密码，主机IP以及端口信息等。 系统配置 协议：您可以选择安全协议，例如SSH(安全外壳协议) 端口：填写端口号 验证方式：您可以选择“凭证”或者“密码” 凭证：当验证方式选择“凭证”，请选择可以SSH登录云主机的用户凭证。若下拉为空，请首先创建。 用户名，密码：当验证方式选择“密码”，请输入可以通过SSH登录云主机的用户名和用户密码。 点击申请按钮，完成导入云资源的申请。 云上资源导入 您可以根据以下步骤导入云上资源至SmartCMP进行纳管： 在 我的部署 - 云主机 界面，点击导入按钮，选择需要导入的云上资源，如RDS等。 在请求服务页面填写申请信息： 组织信息 业务组: 您可以选择资源所属的业务组，如无法选择，可选择添加业务组 项目: 您可以选择资源所属的项目，如无法选择，可选择添加业务组 所有者：您可以指定资源所属的人员 部署信息 名称：自定义资源名称，或者您可以点击 组织架构 － 命名规范 创建命名规则，则在此可以根据业务组上的规则自动生成 数量：您可以一次创建多个服务部署。点击申请参数的“+”可以同时导入多个资源，部署信息内的数量值会对应调整。 标签设置：您可以为申请部署的云资源设置管理员配置的云资源标签。每个标签由一个键值对组成，例如一个键为“环境”且值为“UAT”的标签。 资源环境：指定导入资源的资源池及可用区（如有）等。 资源参数：选择表单定义的资源参数 系统配置 名称：输入导入资源的名称，留空将使用业务组命名规则自动生成。 管理员凭证：选择一个共享给所有业务组的凭证。若下拉为空，请首先创建。您也可以点击自定义密码，手动输入管理员密码并确认。 点击申请按钮，完成导入云资源的申请。 非云资源导入 您可以根据以下步骤导入非云资源至SmartCMP进行纳管： 在 我的部署 - 云主机 界面，点击导入按钮，选择需要导入的非云资源，如数据库、网络设备等。 在请求服务页面填写申请信息： 组织信息 业务组: 您可以选择资源所属的业务组，如无法选择，可选择添加业务组 项目: 您可以选择资源所属的项目，如无法选择，可选择添加业务组 所有者：您可以指定资源所属的人员 部署信息 名称：自定义资源名称，或者您可以点击 组织架构 － 命名规范 创建命名规则，则在此可以根据业务组上的规则自动生成 数量：您可以一次创建多个服务部署。点击申请参数的“+”可以同时导入多个资源，部署信息内的数量值会对应调整。 标签设置：您可以为申请部署的云资源设置管理员配置的云资源标签。每个标签由一个键值对组成，例如一个键为“环境”且值为“UAT”的标签。 资源参数：选择表单定义的资源参数 系统配置 名称：输入导入资源的名称，留空将使用业务组命名规则自动生成。 管理员凭证：选择一个共享给所有业务组的凭证。若下拉为空，请首先创建。您也可以点击自定义密码，手动输入管理员密码并确认。 点击申请按钮，完成导入云资源的申请。 下面对云资源菜单下包含的存储、网络、软件等资源及相关运维操作进行介绍： 容器服务 支持在云资源中展示kubernetes的各个组件信息，包括部署（Deployment）、容器（Container）、服务（Service）、路由（Ingress）、存储卷（PVC）、配置字典（ConfigMap）、保密字典（Secrets）等。 部署 Kubernetes的部署（Deployment）为Pod和ReplicaSet提供声明式更新。通过在Deployment中描述所期望的集群状态，DeploymentController会将现在的集群状态在一个可控的速度下逐步更新成所期望的集群状态。Deployment的主要职责同样是为了保证Pod的数量和健康，90%的功能与ReplicationController完全一样，可以看作下一代的Replication Controller。 支持对部署（Deployment） 的资源展示，点击 容器服务 - 部署 ，将看到Kubernetes的部署列表：显示名称、云平台类型、状态、业务组、服务部署、项目、所有者、标签、容器组、镜像以及创建时间。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入部署详情页面。部署详情页面包括基本信息、容器组、操作历史、监控、已触发警报，以及更新副本数量、更新镜像调整配置等运维操作 「Note」监控、已触发警报标签页需要在Kubernetes的云平台处设置Prometheus监控地址后才会出现。 部署的基本信息标签页包括： 基本信息：名称、命名空间、标签、注释、策略、镜像、创建时间等 组织信息：服务部署名称、服务名称、业务组、项目等 运维操作 更新副本数量：更新POD的副本数量（Replicas），点击后在弹框中选择需要更新的副本数量，也可启用定时在特定时间执行操作 更新镜像：更新该部署的实例镜像，点击后在弹出框中选择需要更新的容器节点（必填），选择镜像源，选择镜像名称（必填），选择镜像标签，也可启用定时在特定时间执行操作。点击提交，等待操作执行完成 「Note」支持集成Habor以及Docker 原生镜像作为Image Registry。在Kubernetes云平台中，可添加容器镜像源。参考[添加Kubernetes云平台 调整容器配置：调整选定容器节点的vCPU和内存的大小，包括请求值和最大值，请求值（request）必须小于最大值（limit） 操作历史标签页：包括了该Deployment进行过的操作历史记录 监控标签页：显示该部署的监控信息，如Pod CPU使用情况、Pods内存使用情况、Pod网络流量等，可更改时间跨度查看不同时间段的监控信息 已触发警报标签页：根据定义好的对容器的告警策略和告警操作，若监控信息检测到该部署已达到触发警报条件，将触发警报。该页面显示已触发的警报信息，以及可对该警报做恢复、暂停、解除等操作 守护进程集 Kubernetes的守护进程集（DaemonSet）保证在每个Node上都运行一个容器副本，常用来部署一些集群的日志、监控或者其他系统管理应用。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 守护进程集 中查看详细信息。 在 容器服务 - 守护进程集 中可查看守护进程集的基本信息，如：名称、云平台类型、状态、业务组、服务部署、项目、所有者、标签、容器组、镜像和创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入DaemonSet的详情页面。包括基本信息、容器组、操作历史、监控、已触发警报等 基本信息标签页包括了： 基本信息：名称、命名空间、标签、注释、镜像、创建时间等 组织信息：服务部署名称、服务名称、业务组、项目等 运维操作：更新镜像、调整配置 操作历史标签页：包括了对守护进程组进行过的操作历史记录 「Note」 监控、已触发警报标签页需要在Kubernetes的云平台处设置Prometheus监控地址后才会出现。 有状态副本集 Kubernetes的有状态副本集（StatefulSet）是为了解决状态服务的问题。由以下几个部分组成：用于定义网络标志（DNS domain）的Headless Service、用于创建PersistentVolumes的volumeClaimTemplates、定义具体应用的StatefulSet。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 有状态副本集 中查看详细信息。 在 容器服务 - 有状态副本集 中可查看有状态副本集的基本信息，如：名称、云平台类型、状态、业务组、服务部署、项目、所有者、标签、容器组、镜像和创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入StatefulSet的详情页面。包括基本信息、容器组、操作历史、监控、已触发警报，以及更新副本数量、更新镜像、调整配置等运维操作 容器 K8s Container部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 容器 中查看详细信息。 在容器（Container）的列表界面，可查看该容器的名称、云平台类型、状态、业务组、服务部署、项目、所有者、镜像、端口、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入容器的详情页面。包括基本信息、操作历史 运维操作：调整配置 服务 在K8集群中，客户端需要访问的服务就是Service对象。每个Service会对应一个集群内部有效的虚拟IP，集群内部通过虚拟IP访问一个服务。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 服务 中查看详细信息。 在容器服务的服务（Service）的列表界面，可查看该服务的名称、云平台类型、状态、业务组、服务部署、项目、所有者、集群IP、内部端点、外部端点、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入服务的详情页面。包括基本信息、容器组、操作历史、监控、已触发警报等页面 运维操作：更新副本数量、更新镜像、调整配置 路由 在kubernetes中，通常情况下，服务（service）和pod的IP仅可在集群内部访问。集群外部的请求需要通过负载均衡转发到service在Node上暴露的NodePort上，然后再由kube-proxy将其转发给相关的Pod，而路由（Ingress）就是为进入集群的请求提供路由规则的集合。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 路由 中查看详细信息。 在路由（Ingress）的列表界面，可查看该路由的名称、云平台类型、状态、业务组、服务部署、项目、所有者、端点、规则、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入路由的详情页面。包括基本信息、操作历史 存储卷 Kubernetes中的存储卷（PVC：PersistentVolumeClaim）是用户存储的请求。它类似于pod。Pod消耗节点资源，PVC消耗光伏资源。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 存储卷 中查看详细信息。 在存储卷（PVC）的列表界面，可查看该存储卷的名称、云平台类型、状态、业务组、服务部署、项目、所有者、卷状态、总量、访问模式、存储类、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入存储卷的详情页面。包括基本信息、操作历史 配置字典 在kubernetes中，配置字典（ConfigMap）用于保存配置数据的键值对，可以用来保存单个属性，也可以用来保存配置文件。ConfigMap跟保密字典（Secret）很类似，但它可以更方便地处理不包含敏感信息的字符串。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 配置字典 中查看详细信息。 在配置字典（ConfigMap）的列表界面，可查看该配置字典的名称、云平台类型、状态、业务组、服务部署、项目、所有者、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入配置字典的详情页面。包括基本信息、操作历史 保密字典 在kubernetes中，保密字典（Secret）解决了密码、token、密钥等敏感数据的配置问题，而不需要把这些敏感数据暴露到镜像或者Pod Spec中。Secret可以以Volume或者环境变量的方式使用。部署成功后可在左侧导航栏选择 云资源 - 容器服务 - 保密字典 中查看详细信息。 在保密字典（Secret）的列表界面，可查看该保密字典的名称、云平台类型、状态、业务组、服务部署、项目、所有者、类型、创建时间等。高级搜索可通过业务组、状态、项目和所有者对列表信息进行快速筛选定位 点击名称，进入保密字典的详情页面。包括基本信息、操作历史 IaaS资源 云主机 用户可以查看已部署云主机列表，快速部署云主机并进行运维管理操作。 可执行的云主机运维操作包括：刷新状态、启动、停止、执行脚本、关联凭证、设置键值标签和云资源标签、启用/切换监控等，各项运维操作详情请参考：云主机运维操作。 当前页面支持批量执行云主机运维操作，不能批量进行的操作请进入云主机详情页面。 存储资源 云硬盘 支持对OpenStack/Azure/阿里云/青云的云硬盘进行统一管理。 点击 存储资源 下的 云硬盘 ，将看到云硬盘列表 在云硬盘的列表界面，可查看云硬盘的相关信息：名称、云平台类型、状态、业务组、服务部署、项目、所有者、大小（GB）、挂载状态、挂载到的云主机以及创建时间 点击名称，进入云硬盘详情页面。云硬盘详情页面包括基本信息、操作历史 云硬盘详情的基本信息标签页包括： 基本信息：名称、云平台类型、状态、业务组、服务部署、项目、所有者、大小挂载到的云主机、创建时间等 组织信息：服务部署名称、服务名称、业务组、项目等 运维操作： 卷分离：去除云硬盘和云主机的挂载关系 卷挂载：建立云硬盘和云主机的挂载关系 调整大小：支持对硬盘调整大小（Azure/AWS） 云硬盘详情的操作历史标签页：包括了该云硬盘进行过的操作历史记录 对象存储 支持对AWS、Azure、阿里云的对象存储进行统一管理，分别是S3、Blob、OSS。 在云资源标签页中，点击所有分组中的\"Iass\"下的“存储”，点击对象存储，将看到对象存储列表 在对象存储的列表界面，可查看对象存储的相关信息：名称、云平台类型、状态、业务组、服务部署、项目、所有者、创建时间 点击名称，进入对象存储详情页面。对象存储详情页面包括基本信息、操作历史 对象存储详情的基本信息页面包括： 基本信息：名称、云平台类型、状态、所有者、公共访问级别、存储账户、资源组、创建时间等 组织信息：服务部署名称、服务名称、业务组、项目等 对象存储详情的操作历史页面：包括了该云硬盘进行过的操作历史记录 网络资源 支持OpenStack的防火墙（FireWall）、浮动IP（Floating IP）的独立部署和全生命周期管理。 部署完成后，可在云资源标签页， 云资源 - 网络资源 处查看基本信息和运行状况。并支持OpenStack的负载均衡器（LoadBalance）和负载均衡监听器（Listener），以及VMware　NSX的虚拟服务器（VirtualServer）。 负载均衡器 负载均衡是高可用网络基础架构的关键组件，通常用于将工作负载分布到多个服务器来提高网站、应用、数据库或其他服务的性能和可靠性。 若部署中包含负载均衡器（LoadBalancer），则部署成功后可在 云资源 - 网络资源 - 负载均衡器 中查看详细信息。 在负载均衡器（LoadBalancer）列表界面，显示负载均衡器的名称、云平台类型、状态、业务组、服务部署、项目、所有者、IP地址、创建时间等 点击名称进入详情页面，包括基本信息、操作历史 运维操作（OpenStack）： 绑定浮动IP：选择某一浮动IP，将该负载均衡器和浮动IP进行绑定，可启动定时在特定时间执行操作 解绑浮动IP：若该负载均衡器已绑定浮动IP，则可进行解绑操作，可启动定时在特定时间执行操作 负载均衡监听器 支持VMWare NSX / OpenStack / Azure的负载均衡监听器，VMWare NSX负载均衡监听器为VirtualServer，OpenStack 负载均衡监听器为Listener，Azure负载均衡监听器为LoadBalancerRule。负载均衡器可以监听多个端口上请求，每个端口通过负载均衡监听器指定。部署成功后可在 云资源 - 网络资源 - 负载均衡监听器 中查看详细信息。 在负载均衡器监听器（Listener）列表界面，显示负载均衡监听器的名称、状态、描述、业务组、项目、所有者、协议、云平台类型、创建时间等 点击名称进入详情页面，包括基本信息、操作历史界面，以及添加成员、删除成员等运维 运维操作 -- OpenStack 添加成员：添加成员（member），可添加内部成员和外部成员。选择要添加成员的云主机、指定IP地址、端口和权重。可启动定时在特定时间执行操作 删除成员：点击后选择需要删除的成员，可启动定时在特定时间执行操作 浮动IP 支持OpenStack的的浮动IP（FloatingIP），FloatingIP可单独部署，部署成功后可在左侧导航栏选择 云资源 - 网络资源 - 浮动IP 中查看详细信息。 在选择 云资源 - 网络资源 - 浮动IP ，可查看已部署成功的浮动IP的列表界面，该界面显示浮动IP的名称、云平台类型、状态、业务组、服务部署、项目、所有者、IP地址、网络、映射地址、创建时间等 点击名称，进入详情页面，包括基本信息、操作历史 基本信息标签页，显示该浮动IP的的基本信息和组织信息 操作历史标签页，显示操作历史记录，点击后将在操作历史列表下方显示操作详情 运维操作： 关联端口：若当前FloatingIP未关联任何一个端口，则在详情页上方会显示「关联端口」操作，点击后在弹框中选择需要绑定的端口，下拉框中会列出当前业务组下，OpenStack云平台中所有未被关联的端口（Port）。选择后点击提交 解除绑定：若当前FloatingIP已关联端口，则在详情页上方会显示「解除绑定」操作，点击后提交，也可启用定时在特定时间执行操作 防火墙 支持OpenStack防火墙即服务（Firewall as a service），Fwaas应用于OpenStack对象，如项目，路由器和路由器端口。OpenStack防火墙的核心概念是防火墙策略和防火墙规则。策略是有序的规则集合。可在左侧导航栏选择 云资源 - 网络资源 - 防火墙 查看已部署成功的防火墙。 选择 云资源 - 网络资源 - 防火墙 ，可查看已部署成功的防火墙列表界面，该界面显示防火墙的名称、云平台类型、状态、业务组、服务部署、项目、所有者、策略、路由、激活状态、管理员状态、创建时间等 点击名称，进入详情页面，包括基本信息、操作历史 基本信息标签页：显示该防火墙的的基本信息和组织信息 操作历史标签页：显示操作历史记录，点击后将在操作历史列表下方显示操作详情 运维操作： 更新防火墙：点击后可在页面中选择已有的防火墙策略或新建防火墙策略。勾选 使用已有策略 ，将列出当前业务组下，OpenStack云平台中所有可用的防火墙策略。若未勾选，则新建防火墙策略，需填写策略名称（必填），策略描述（选填），可选择是否属于已共享、已审计，还可定时，操作完成后点击提交 更新防火墙策略：该页面将列出当前所有可用的规则列表。支持使用已有规则和新建规则。若使用已有规则，在列表中勾选将使用的规则即可。若新建规则，将展现新建规则界面： 填写基本信息：名称、描述、协议（必填，TCP、UDP、ICMP和任何）、动作（必填，允许、拒绝）、源IP、源端口、目的IP、目的端口、选择是否是共享的、激活 可选择新增的规则的位置，指定当前规则在某条规则之前插入（规则前于），或指定规则在某条规则后插入（规则后于）。如果两者均被指定，前者优先级更高。 「Note」：一个防火墙策略可关联多个规则，但规则只能被一个策略所关联 删除防火墙规则：删除防火墙中已关联的规则，删除后将不可恢复。可同时选择多个规则删除，也可启动定时在特定时间执行操作 安全组 安全组是一种虚拟防火墙，具备状态检测和数据包过滤功能，用于在云端划分安全域。您可以通过配置安全组规则，允许或禁止安全组内的虚拟机实例对公网或私网的访问。 支持展示OpenStack、AWS、Azure、阿里云的安全组。若安全组组件部署后，将在 云资源 - 网络资源 - 安全组 中查看部署的安全组组件。 在安全组列表界面，显示安全组名称、云平台类型、状态、所属业务组、服务部署、所属项目、所有者、创建时间等 点击名称进入详情页面，包括基本信息、操作历史界面 基本信息标签页，显示该安全组的的基本信息、组织信息和入站/出站安全组规则。 操作历史标签页，显示操作历史记录，点击后将在操作历史列表下方显示操作详情 域名系统DNS 支持OpenStack域名系统DNS，若DNS组件部署后，将在 云资源 - 网络资源 - 域名系统DNS中查看部署的DNS组件。 在域名系统DNS列表界面，显示DNS名称、状态、业务组、项目、所有者、DNS类型、DNS域、DNS服务器、DNS参数等 点击名称进入详情页面，包括基本信息、操作历史界面 运维操作 更新DNS：更新DNS参数，DNS类型不可更改 PaaS资源 支持AWS、Azure、阿里云的关系型数据库（RDS）的独立部署和全生命周期管理，支持关系型数据库即服务（RDS as a Service）和Web应用。部署完成后，可在 云资源 - PaaS资源 处查看基本信息和运行状况。 关系型数据库 在左侧导航栏选择 云资源 - PaaS资源 - 关系型数据库 查看已部署成功的关系型数据库（RDS）。 在关系型数据库的列表界面，可查看关系型数据库的相关信息，如名称、所属业务组、所属项目、所有者、云平台类型、创建时间等 点击名称可进入该关系型数据库详情页面，有基本信息、操作历史两个页面 基本信息标签页，显示该关系型数据库的基本信息和组织信息。 操作历史标签页，显示对该关系型数据库的操作历史记录，点击后将在操作历史列表下方显示操作详情 运维操作： 更新防火墙：点击关系型数据库名称进入详情页，或在关系型数据库的列表页勾选一个关系型数据库，点击更新防火墙按钮，打开 更新防火墙 - RDS名称 弹窗。勾选\"定时\"，设置执行时间，点击提交按钮，定时更新防火墙；或者直接点击提交按钮，立即更新防火墙 Web应用 在左侧导航栏选择 云资源 - PaaS资源 - Web应用 查看已部署成功的Web应用 在Web应用的列表界面，可查看Web应用的相关信息，如名称、所属业务组、所属项目、所有者、云平台类型、创建时间等 点击名称可进入该Web应用详情页面，有基本信息、操作历史两个页面 基本信息标签页，显示该Web应用的基本信息和组织信息。 操作历史标签页，显示对该Web应用的操作历史记录，点击后将在操作历史列表下方显示操作详情 软件资源 「Note」 支持对软件资源的统一展示和管理。 选择 云资源 - 软件资源 - 软件 ，可查看已部署成功的软件列表，该界面显示软件名称、云平台类型、状态、业务组、服务部署、项目、所有者、版本、系统类型、创建时间等。可通过高级搜索对业务组、状态、项目或所有者进行筛选，也可使用普通搜索进行快速定位 点击名称，进入详情页面，包括基本信息、操作历史 基本信息标签页：显示该软件的基本信息、组织信息、参数 操作历史标签页：显示操作历史记录，点击后将在操作历史列表下方显示操作详情 运维操作： 「Note」 运维操作根据 服务建模 - 软件组件 中对个软件的操作定义显示对应的运维操作，例如：启动、停止、删除、创建、配置等 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/14我的部署/回收站.html":{"url":"AdminDoc/14我的部署/回收站.html","title":"资源回收","keywords":"","body":"资源回收 回收站 回收站功能，优化资源回收流程，存在误删除的情况时，支持找回资源与数据。 「Note」 若要启用回收站功能，请参考系统参数并设置回收站保留时间以及已回收资源展示时间。 找回资源具体步骤： 在左侧菜单选择 我的部署 - 回收站 在回收站列表页面再对该服务部署进行手工删除操作，该资源阶段状态显示为已删除。 回收站列表页面的服务进行还原，点击 还原 则可以还原资源。 系统自动回收资源 SmartCMP通过在业务组或服务配置设置服务部署租用时间和保留时间，使资源在被申请使用后，能够在规定时间内自动回收。 组织架构 - 业务组 ，点击业务组名称，进入 概况 页面，在该页面可修改业务组下的服务部署租用时间范围和服务部署保留时间范围 服务建模 - 服务配置 ，点击服务配置名称，进入 概况 页面，在该页面可修改服务配置下的服务部署租用时间和服务部署保留时间 「Note」服务配置处的租用/保留时间不能超过业务组上的最大时间范围。 若服务的租用时间到期后，该部署下的所有云主机将会被自动关机； 若服务的保留时间到期后，该部署下的所有云主机将被放入回收站。系统根据用户设置的回收站展示时间保留该部署下的云主机，到期后将自动卸除，释放资源。 手动回收资源 您可根据以下步骤手动回收资源： 我的部署 - 服务部署 ，进入服务部署列表界面，选择某服务部署，顶部将出现对该服务的运维操作列表。 点击更多操作-删除-卸除，该操作将卸除该服务部署包含的所有云资源。 也可点击启用定时定时卸除资源。 点击确定后，若业务组有审批流程，则审批通过后将开始卸除；若无审批流程，则直接开始卸除。 服务部署延期 若该服务将到期时，可对该服务部署进行延期。 点击左侧导航栏的组织架构-业务组，点击业务组名称，进入概况标签页，在该页面可配置业务组下的最大可延期次数，以保证服务的租用时间到期后仍可以正常使用，也可控制业务组内的资源申请。 业务组成员申请服务部署成功后，在 我的部署 - 服务部署 ，选择某服务部署，服务部署列表界面顶部将出现“延长过期时间”的运维操作。 点击“延长过期时间”，可延长到期时间，该页面还显示已“延长次数”以及该业务组下的“最大可延期次数”。 点击确定，若业务组有审批流程，则审批通过后将执行；若无审批流程，则直接开始执行。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/07云资源分析/":{"url":"AdminDoc/07云资源分析/","title":"监控告警","keywords":"","body":"云资源分析 通过SmartCMP，您可以查看所拥有的云资源的监控信息并自服务设置告警。 云资源的性能监控，助您了解云环境的整体使用情况。您可以通过监控状态图总览资源性能与健康状态。 SmartCMP支持丰富的告警类型、策略的设置，针对云主机、应用、容器等资源进行在线状态、性能指标的检测和趋势判断并通过多种方式通知到干系人，及时掌握云平台的运行情况。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/06云服务管理/云资源监控.html":{"url":"AdminDoc/06云服务管理/云资源监控.html","title":"云资源监控","keywords":"","body":"云资源监控 资源状态图 资源状态图能够显示云主机、容器的健康状态，根据性能指标的状态显示不同的颜色。若该云主机或容器未配置监控，默认显示灰色。浅绿到深绿到红色，颜色越深代表使用的资源越多。 鼠标移至该云主机上，将显示该云主机名称 点击后显示详情： 基本信息：IP地址、操作系统、vCPU数量、内存、磁盘总空间 组织信息：业务组、项目、所有者 性能监控指标：内存使用率、CPU使用率、磁盘使用率 「Note」若未安装监控，将不显示性能监控指标 可根据您的需求对展示内容进行筛选，如全部或已安装监控或未安装监控、按云平台筛选、业务组筛选、项目筛选、标签筛选等。 资源监控 监控数据收集后，需要提供统一的界面进行展示。平台不仅能在部署或云资源的界面进行监控信息地展示，还能在全新的页面，统一展示监控信息。组件监控作为单独的页面，展示对应用、云主机或虚拟机的监控。 添加代理组件的具体步骤，请参考：组件库 点击左侧导航栏 监控告警 - 资源监控 ，左侧展现Export组件的树形结构，右侧显示相关的Exporter（用于描述所有的Exporter的组件， 每个组件能定义自己支持的组件类型）。 例如：点击右侧显示的NginxExporter，进入 NginxExporter 标签页，页面左侧显示NginxExporter关联的实例，右侧显示NginxExporter组件的相关描述信息。 Instance Exporter 提供了一个监控不同VM的抽象组件，不管是何种监控方式的虚机，都会在Instance Exporter中列表展示。进入 Instance Exporter 标签页，页面左侧显示Instance Exporter关联的虚机实例，右侧显示虚机的监控信息。 「Note」 组件监控的权限管理：每个用户都可以看见菜单，能够查看的组件资源范围是基于用户提前配置的权限。 云资源监控 支持针对云主机、应用软件以及容器进行监控，实时动态搜集监控数据。 云主机监控 若在配置虚机模板时已添加监控代理，服务部署成功后，点击左侧导航栏 我的部署 - 服务部署 进入服务部署列表界面，点击服务部署名称，进入服务部署详情界面 点击监控标签页，点击云主机名标签页将显示该部署下的云主机的监控信息。若该部署含多个云主机，则会出现多个标签页，每个标签页对应一个云主机的监控。可调整时间跨度查看监控信息。 CPU、CPU使用率、CPU状态 内存总量、内存使用率、内存状态 SWAP总量、SWAP使用率 根文件系统总量、根文件系统使用率 丢失/错误的网络包、网络流量 磁盘吞吐量、磁盘IOPS 文件系统空间使用率 若在配置虚机模板时未添加监控，可在部署成功后，运维添加。 在我的部署 - 云主机 ，进入云主机列表界面，选择云主机，点击顶部的更多操作， 启用/切换监控 ，给该云主机添加监控，添加成功后，可选择我的部署 - 服务部署 ，点击云主机名称，在监控标签页查看。 也可点击 我的部署 - 云主机 ，进入云主机列表界面，点击云主机名称进行云主机详情页面，点击 监控 标签页，点击云主机名标签页将显示云主机的监控信息。可调整时间跨度查看监控信息。 应用监控 支持对JMX、MySQL、Nginx的应用监控。需要在蓝图建模时，增加对应用的Exporter监控的添加，带应用及其监控的蓝图部署成功后。 点击左侧导航栏 我的部署 - 服务部署 进入服务部署列表界面 点击服务部署名称，进入服务部署详情界面 点击监控标签页，点击应用标签栏，该页面将显示该部署下的应用监控的监控信息 Kubernetes监控 支持Kubernetes的监控告警，查看Kubernetes监控前提： Kubernetes云平台中已添加Prometheus监控 在 基础设施 - 云平台管理 - Kubernetes 中，添加Kubernetes云平台添加的Prometheus监控地址：如192.xx.xx.xx：xxxx 完成以上操作，部署kubernetes成功后， 点击 我的部署 - 云资源 - 容器服务 - 部署 进入容器部署列表界面 点击部署名称，进入kubernetes部署详情界面 点击监控标签页，该页面将显示该部署监控信息：Pods CPU使用情况(核)、Pods内存使用情况、Pods网络 流量等 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/06云服务管理/告警.html":{"url":"AdminDoc/06云服务管理/告警.html","title":"告警","keywords":"","body":"告警 告警为用户提供了云主机、任意应用的告警配置自服务。 告警策略 用来定义所选的对象类型（如云主机/应用/容器等）触发警报的条件。点击左侧导航监控告警下的二级菜单告警策略，显示告警策略列表，列表中包括告警策略名称、类别、类型（宕机、阈值或预测）、创建时间以及创建者等。可对告警策略进行添加、编辑、删除等操作。 添加告警策略 在左侧导航选择告警策略，进入告警策略列表界面，点击添加，进入添加告警策略界面。 在添加告警策略界面，定义告警策略的基本信息。依次输入告警策略的名字，选择告警类别和告警类型。告警类别支持对云主机、应用和容器的告警。告警类型支持对云主机的宕机告警、阈值告警和预测告警，支持对应用的阈值告警和预测告警，对容器的阈值和预测告警。根据选择的不同告警类型定义告警策略的触发条件。 宕机告警：输入时间（分钟），云主机在规定时间内失去响应后，将触发宕机警报 阈值告警：选择云主机/容器的xx指标（如内存使用（百分比）、CPU使用率（百分比）、POD内存使用等）的取最大值/最小值/平均值，在过去xx时间（分钟/小时），若该值小于/小于等于/大于/大于等于xx值后，将触发警报 预测告警：基于过去xx时间（分钟/小时/天）内的xx指标的值（如内存使用（百分比）、CPU使用率（百分比）等），预测未来xx时间（分钟/小时/天）内，若该指标的值小于/小于等于/大于/大于等于xx值后，将触发警报 点击保存，提示告警策略添加成功，返回告警策略列表界面 编辑告警策略 点击告警策略，选择一行已添加的告警策略，工具栏编辑按钮变成可用，点击编辑按钮，或者直接点击告警策略名称，进入告警策略编辑界面。 删除告警策略 点击告警策略，选择一行已添加的告警策略，工具栏删除按钮变成可用，点击删除按钮，确认删除提示后，提示告警策略删除成功。 告警 用来定义所选告警策略应用到的范围以及触发的通知和操作。点击左侧导航监控告警下的二级菜单告警，显示告警列表，包括告警名称、警报级别、告警策略名称、范围、对象、状态、创建时间、创建者等。可对告警进行添加、编辑、启用、禁用、删除等操作。 添加告警 在左侧导航选择告警，点击添加，进入添加告警界面，定义告警的基本信息。 输入告警的名字，选择告警策略、告警范围、告警对象以及警报级别，触发xx次后，自动升级为更高级别。 告警范围支持对业务组、项目、服务部署和云主机的告警； 告警对象依据所选的告警范围；告警级别为警告和危险。 定义触发告警后，通知到的用户、角色或邮件 可定义警报触发后的行为，触发行为后，可设置最多xx次操作后停止自动执行 点击保存，返回告警列表界面 已触发警报 点击左侧导航监控告警下的二级菜单已触发警报，显示已触发警报列表，包括警报级别、告警名称、触发告警对象、告警类型、第一次触发时间、最后一次触发时间、已触发次数以及告警状态。告警状态分为已触发、已暂停、已解除。还可对列表中的触发警报进行恢复、暂停、解除操作。 选择已触发警报，任意选择一条已触发的警报，工具栏中的暂停和解除将变为可用，点击暂停，将会有提示，确认后，提示操作成功 点击列表中的告警名称，可查看该警报的详细信息以及历史数据。该页显示了告警触发的对象、警报的级别，触发的条件、业务组、所有者、IP地址、警报图表（可调控时间范围灵活查看各个时间段的警报数据）、以及该告警的后续操作历史 告警触发的对象可链接，如服务部署链接至服务部署监控页面、云主机链接至云主机监控页面、应用链接至服务部署监控页面 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/11作业管理/":{"url":"AdminDoc/11作业管理/","title":"作业管理","keywords":"","body":"作业管理 功能描述 平台运用流程化、自动化的理念将零碎的单个任务组装成一个自动化的流水线作业，并且每个任务都可灵活地定制，每个阶段/任务可以做为一个原子节点，提供给不同的项目和系统调度，结合权限管控和详细的结构展示，满足用户复杂多样的业务使用场景。 同时，作业管理功能是平台整合自动化流水线和脚本库的功能而成。除了快速脚本执行、批量执行运维脚本、构建软件包、定时任务等一系列可实现的基础运维场景以外。通过定制阶段和任务，将一个操作流程制作成完整的流水线，提供丰富的任务类型来支持复杂的运维操作场景，例如：服务部署+运维一体化流程式管理；制品库解析+应用自助更新；数据库SQL自动化运维等。 使用场景 自动化运维的场景：运维人员可针对任意云资源进行快速脚本执行或批量脚本执行。例如：对海量的云主机或数据库批量做巡检。特色： 脚本库统一管理适应于多种场景的脚本； 脚本能针对多云资源与应用软件统一使用； 脚本是否共享给其他人使用，以及脚本具体的参数内容，都可以按需选择； 在流水线作业中，脚本能与任务关联，以灵活组装和配置自动化运维的流水线作业。 DevOps的场景：开发测试人员持续集成已发布，通过定制的流水线中的阶段和任务，实现从代码的提交，到构建、打包、制品库解析、部署或者更新最新的环境，升级应用的全程自动化。特色： 不仅仅支持在容器环境下，还支持传统应用、虚拟化、公有云等环境下实现持续集成与发布； 流水线作业与组件、蓝图协调工作，更好地管理复杂应用； 强调对异构资源的统一管理，体现云管理平台流水线作业功能强大、高效、易用的特色。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/11作业管理/脚本库.html":{"url":"AdminDoc/11作业管理/脚本库.html","title":"脚本库","keywords":"","body":"脚本库 功能描述 脚本：指可以运行在终端的工具或命令，平台支持包括 Shell、Perl、Bat、PowerShell、Python、SQL 等类型脚本。 脚本库：管理员将海量的脚本进行统一的创建和管理，支持根据业务需要创建一些共享脚本，供被授权的业务组某类角色成员，在任意场景下直接引用。 功能特色：在统一的平台上规范管理适用于多种环境的脚本，直接新建、编辑和删除脚本，还支持快速查找新建好的脚本。 灵活地选择执行该脚本的云资源类型（云主机、数据库等），以创建MySQLCheck脚本来检查数据库参数为例，可以指定该脚本执行的云资源类型为 Software下的 RDS和 PaaS类型下的RDS。还可以在执行历史中可查看脚本执行的的详细日志信息，具体步骤，请参考执行历史。 创建和使用脚本的具体步骤 创建脚本 平台支持创建多种类型的脚本，在此以创建SQL脚本类型 — MySQLCheck脚本为例，该脚本适用于检查数据库参数。 　1.在左边导航选择 作业管理 - 脚本库 ，点击添加按钮，出现创建脚本页面； 　2.输入所需参数(请根据自己的真实环境输入相关参数，示例只给出参考)； 参数名称 描述 示例 名称 脚本名称 MySQLCheck 描述 描述脚本信息 用于检查数据库参数 资源类型 执行该脚本的云资源类型 Software RDS 是否允许共享 是否将脚本共享给指定业务组的用户使用，同时限定角色 允许共享 业务组 选择脚本共享的业务组 全部业务组 授权 选择脚本共享的角色 业务组管理员 「Note」若不共享脚本，则不需要输入业务组和授权的角色。该脚本将作为您私人脚本，不允许其他查看或使用。 　3.在脚本内容输入框中填写相关参数。例如，下图中MysqlCheck脚本定义详细参数，如错误日志存放路径、数据库存放路径、数据库大小等； 　4.保存并发布脚本，发布成功后就能在资源列表或流水线作业中执行。 脚本执行 运维操作中快速执行脚本 以针对数据库资源，快速执行各参数检查的脚本为例，具体步骤： 在左边导航选择 我的部署 - 云资源 ，选择部署成功的数据库，点击执行脚本。 在执行脚本配置页面，选择创建成功的MysqlCheck脚本，自动且快速地完成数据库的参数检查。 脚本和任务关联 以阿里云Linux虚拟机巡检的场景为例 在左侧导航栏点击 作业管理 -流水线作业 ； 在概况标签页，选择基本信息标签页，填写基本信息和共享信息； 在任务标签页，添加串行任务； 输入串行任务名称，在输入参数中选择执行所要执行脚本的资源类型和资源实例； 在操作详情中选择执行脚本操作，并选择所要执行的脚本； 设置执行时参数 保存任务 执行任务后，便可在执行历史中查看执行结果，具体步骤，请参考执行历史。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/11作业管理/入口.html":{"url":"AdminDoc/11作业管理/入口.html","title":"入口","keywords":"","body":"入口 功能描述 入口可以添加需要连接的持续集成系统，例如Jenkins。Jenkins是一个开源的、提供友好操作界面的持续集成(CI)工具，主要用于持续、自动的构建/测试软件项目。Jenkins通常与版本管理工具、构建工具结合使用，常用的版本控制工具有SVN、Git，构建工具有Maven、Ant、Gradle。 平台广泛集成包括Jenkins、Git、Maven等DevOps工具链，帮助用户高效地构建代码，运行测试（CI），部署和更新应用程序的新版本（CD），致力于打造虚拟化、容器、多云等环境下，适应复杂业务场景的应用持续集成与交付。 添加Jenkins入口的步骤 具体步骤： 　1.在左侧导航栏点击 作业管理 - 入口 ； 　2.点击添加Jekins入口； 　3.输入所需参数(请根据自己的真实环境输入相关参数，示例只给出参考)； 参数名称 描述 示例 名称 指定Jenkins服务在平台上的名称 Jenkins 描述 描述Jenkins的信息 用于代码构建XXX 地址 Jenkins地址 192.168.xx.xx 类型 访问Jenkins的认证方式，密码或令牌 选择密码 用户名 访问Jenkins的用户名 xxx@xxx.com 密码 访问Jenkins的密码 xxxxxxxx 　4.点击验证，验证连接Jenkins服务。若输入参数错误，则提示配置错误；若配置正确，则提示验证连接成； 　5.验证成功后点击保存，Jenkins连接成功。 「Note」 先决条件： 确认Jekins服务器可用并已配置。 入口与jenkins任务关联 以软件包构建和升级的使用场景为例。用户向master分支提交代码后，自动同步最新的代码并自动触发jenkins对Process进行打包，打包完成后，将软件包传送到制品仓库进行存放，再通过制品库解析任务取得新包的地址，对现有的服务进行升级。 具体步骤： 在左侧导航栏点击 作业管理 -流水线作业 ； 添加任务阶段； 添加串行任务； 选择任务类型为Jenkins，输入串行任务名称，在输入参数中关联已配置成功的Jenkins入口名称和所要执行的Job； 保存任务； 在向master分支提交代码后，自动同步最新的代码并自动执行该流水线任务。您可以在执行历史中查看执行记录，具体步骤，请参考执行历史。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/11作业管理/流水线作业.html":{"url":"AdminDoc/11作业管理/流水线作业.html","title":"流水线作业","keywords":"","body":"流水线作业 功能描述 为了能够提高企业高速交付应用程序和服务的能力，平台在流水线作业中集成了DevOps工具链，使用时通过脚本、组件、蓝图和可视化的流程编排来实现包括虚机在内的多种资源和服务的持续集成/持续交付。 帮助企业在以下场景中提高自动化的能力： 构建应用； 运行测试； 巡检机器； 迭代产品。 流水线由一系列阶段构成，每个阶段由软件在发布到生产之前必须完成的多个任务和环境组成。目前支持多种阶段和任务的自定义和组装，能够在阶段中添加任意数量的执行任务，通过它们已经可以设计出各种场景适用的开发、部署、运维流水线。帮助用户建设自动化的、可重复利用、安全合规的应用持续交付和部署。实现应用的测试、部署、更新、运维、回收的的全生命周期管理。 流水线的组成部分 流水线由以下几部分组成： 阶段：指根据业务的需要，定义不同的阶段，在每个阶段中定义需要完成的任务。例如，可定义软件打包、部署测试环境等不同的阶段。 任务：具体执行的活动。支持自定义任务类型、输入输出参数，其中输入输出参数指云平台支持流水线各个任务之间传递的参数，例如将上一个任务新部署的虚拟机ID传给下一个任务进行调用。流水线的发布者可以定义每个任务的资源和参数，在后续的任务中进行调用。其中， 每个阶段的任务类型包括： 等待任务，定义间隔时间，在执行时等待。在输入参数处填写等待时间（s）。 蓝图部署任务，在作业执行时部署新的云资源，在输入参数处填写服务（服务目录中发布的服务）和模板。 Jenkins任务，执行Jenkins上已有的Job，配置Jenkins的端点和Job，自定义构建软件包。 选择云资源运维任务，对指定的云资源执行运维操作，例如启停、快速执行脚本、添加白名单等。 制品库解析任务，解析二进制制品库中的软件制品包版本。 更新资源池网络资源任务，自动将创建的专有网络、交换机和安全组添加到您请求这些资源时选择的自愿中。 触发器: 自定义流水线的触发条件，触发器定义何时自动运行流水线，可以手动触发流水线任务，也可以设定策略由触发器自动触发流水线任务。触发器类型包括：Webhook集成(支持Git，Gitlab等代码仓库改变触发)、Jenkins触发、定时触发、手工触发等等。 执行历史: 展示当前流水线作业执行记录，点击每个历史，能够看到该任务的具体基本信息，可以看到该任务完整的执行结果和执行日志。 流水线详细的配置步骤 以“自动构建+制品库解析+应用升级”场景为例：开发人员提交代码，触发Jenkins自动化构建，上传最新的War包到制品仓库存储最新的镜像包，再通过制品库解析任务获取最新应用包的仓库地址，最终自动化更新环境下的镜像包。 创建流水线 您可根据以下步骤创建流水线： 在左侧导航栏点击 作业管理 - 流水线作业 ，点击创建流水线; 在概况标签页输入名称、描述、绑定一个项目（该项目的成员可以申请执行流水线）、通知到用户(流水线开始执行，结束执行时会发送通知给指定用户，前提是管理员在系统管理-通知配置界面，已对接完成消息通知平台，配置细节请参考，通知配置); 可添加全局参数，在后期任务中进行调用。在概况标签页，属性列表中，点击加号按钮，主键填写“Branch”，默认值填写“maste”。 配置阶段 创建完成流水线作业，添加完成基本信息之后，进行流水线作业的阶段配置： 在左侧导航栏点击 作业管理 - 流水线作业 - 流程 ，点击添加按钮； 输入阶段名称，例如，Jenkins构建，解析软件包，更新应用环境等阶段。 配置任务 添加Jenkins任务 首先你需要创建Jenkins构建阶段，点击添加串行任务按钮，配置Jenkins任务详情： 类型选择Jenkins任务，填写基本信息； 在输入参数处选择仓库入口（选择在入口处添加提前配置的Jekins仓库，具体配置步骤，请参考 添加Jenkins入口的步骤 ），选择在Jenkins上已有的Job（这些Job任务，由这个Jenkins账号所有者，在Jenkins后台按需创建完成。） 输入在Jenkins配置的属性文件名称，文件内容会写入任务完成后输出的结果中； 勾选选择等待结果，指当前Jenkins任务输出结果完成之后，再进行下一阶段，不勾选，则即使输出结果不成功，也不会影响任务执行； 执行设置内填写超时时间（例如：设置超时时间为360s，该任务执行时间超过360s代表任务执行失败）。执行选项（选择失败后继续执行表示当前任务失败继续执行下一个任务，或选择失败后结束流程表示当前任务失败结束该流水线流程，流水线执行失败）。 执行方式（选择默认执行，或选择条件执行时需要设置条件执行表达式），例如：您可以输入EL表达式，可参考下图： 添加制品库解析任务 在Jenkins任务执行完成之后，将构建的新镜像保存到Harbor中，并通过制品库解析任务，获取最新版本镜像，用新镜像更新应用环境。其中，需要创建制品库解析任务，解析Harbor制品库中的软件制品包的地址，以获取最新的镜像包升级应用环境。在制品库解析任务添加详情界面： 任务类型选择制品库解析任务； 输入参数：选择制品库入口，注意，入口需要提前配置，具体配置步骤，请参考 添加制品库 ，仓库支持在任务执行时选择：不指定仓库，任务执行过程中灵活选择；从上下文中获取：依赖于上下文的仓库参数，需要填写获取的表达式 ；默认值：如果是对接Harbor制品仓库，选择一个制品库入口，会默认填入其余的相关参数； 制品库解析输出参数，包括制品库入口、制品所在主机地址、制品所在仓库、制品所在组、制品的名称、制品的版本和制品下载地址。 添加蓝图部署任务 选择蓝图部署任务，在作业执行时部署新的云服务： 任务类型选择蓝图部署任务。 选择所要部署的服务 点击编辑按钮，进入服务编辑页面，对服务的参数进行调整 点击保存并返回创建任务 蓝图部署输出参数包括：所有部署ID、部署成功后所有云资源ID、部署成功后所有云主机ID和部署下的所有云资源。 添加等待任务 等待任务，定义间隔时间，在执行时等待。 在输入参数处填写等待时间（s），例如：在等待10s之后，流水线再自动执行运维脚本。 添加云资源运维任务 选择云资源运维任务，对云资源执行运维操作，例如对云主机批量启停、执行运维脚本并查看结果，具体步骤： 任务类型选择云资源运维任务； 在树形结构中，选择云资源类型 Resource-IaaS-Machine,则指定运维操作脚本将应用于IaaS分组下多个类型的云主机； 选择方式，选择已有云资源，则 可选择的云资源来源于平台已纳管的云资源（云资源具体查看步骤：点击左侧导航栏 我的部署 - 云资源 ，选择云资源类型，可查看已纳管的IaaS分组下的Machine）； 还可以从上下文中选择，云资源运维任务依赖于此任务之前的蓝图部署任务， 支持在云资源的下拉框中选择全局参数或上下文的传参，例如，下图中，之前任务的输出参数，选择vSphere Server下的machineids，选中部署成功的所有vSphere云主机的ID； 在操作详情中关联配置的脚本，脚本的配置步骤，请参考添加脚本； 输出参数中可以了解当前云资源运维任务下执行的云资源ID，所有成功执行完成本任务的云资源ID，所有执行本任务失败的云资源ID，并且具体输出哪些参数，支持按需自定义。 配置触发器 自定义流水线的触发条件，触发器定义何时自动运行流水线，可以手动触发流水线任务，也可以设定策略由触发器自动触发流水线任务。SmartCMP触发器类型包括：Webhook集成(支持Git，Gitlab等代码仓库改变触发)、Jenkins触发、定时触发、手工触发(即手动执行流水线作业时触发)等等。 添加定时触发器 添加定时触发器的具体步骤： 输入触发器名称填写定时触发器、类型选择CRON、描述(选填) 。 配置CRON的详细参数，选择重复的类型（自定义cron表达式 例如：0 0 0 ？、每周某天的某个时段、每月某天的某个时段、每天的某个时段）。 点击保存即可配置完成触发器。例如：每天/每周/每月的10点10分执行生成快照的操作。 添加Jenkins触发器 添加Jenkins触发器的具体步骤： 输入触发器名称填写定时触发器、类型选择JENKINS、描述(选填) 。 在输入参数处选择仓库入口（选择在入口处添加提前配置的Jekins仓库，具体配置步骤，请参考 添加Jenkins入口的步骤； 选择在Jenkins上已有的Job（这些Job任务，由这个Jenkins账号所有者，在Jenkins后台按需创建完成）。 点击保存即可配置完成触发器。 添加Webhook触发器 添加配置一个Webhook类型的触发器，具体步骤： 输入触发器名称、类型选择WEBHOOK、描述(选填)，WEBHOOK详细参数配置如下图； 以Gitlab为例，在流水线详情中添加一个webhook类型的触发器。在来源中自定义字段，例如：下图填写的gitlab-test，gitlab-test会自动拼接到URL后面，形成完整的网址链接。注意：http：//SmartCMP地址/ops-listener/webhook/gitlab-test，在Gitlab中配置时要用到； 添加过滤条件，过滤条件的作用相当于密码验证。当管理员不配置过滤条件时，只要调用这个URL：http：//SmartCMP地址/ops-listener/webhook/Gitlab-test，就会触发流水线操作。添加过滤条件后，相当于给\"webhook trigger\"添加了密码； 当回调URL时，只有密码匹配成功才能触发流水线操作。如果只支持Gitlab，Gitlee和Git，过滤条件只需要设置密码就可以生效，采用键值对的方式是为了兼容更多的场景。所以添加过滤条件时，如果回调方是Gitlab，Gitlee和Git，“名称”要固定写token，“值”支持自定义（输入password）。配置完毕后依次保存； 如果Gitlab是新申请的环境配置，要调整下network配置，允许请求从本地回调。 具体步骤：配置webhook时，首先创建一个project，进入project详情，依次点开Setting–Integrations，在URL中输入WEBHOOK参数配置中提前设置的URL地址:http：//SmartCMP地址/ops-listener/webhook/gitlab-test ，在Secret Token中输入\"条件过滤\" 中配置的token对应的值(自定义的值password)，注意，不要勾选Enable SSL verification去掉，选择Add Webhook。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/11作业管理/执行历史.html":{"url":"AdminDoc/11作业管理/执行历史.html","title":"执行历史","keywords":"","body":"执行历史 功能描述 所有类型的运维操作脚本执行、快速脚本执行、流水线作业执行，并且不论是立即执行还是定时执行均有历史记录，记录着详细的信息，方便事后核查和审计。 通过执行历史的详情可以了解该作业的基本信息、全局变量、执行结果的状态，目标机器和执行的结果日志。 对所有在平台执行过的脚本、流水线作业等操作进行记录，点击每个历史，能够看到该任务的具体基本信息，可以看到该任务完整的执行结果和执行日志。 在执行历史中将显示任务执行状态，如果任务执行成功显示为绿色，失败则为红色。 查看执行历史 您可根据以下步骤查看执行历史： 在左侧导航栏点击 作业管理 - 执行历史 ，可根据筛选条件（项目、状态、起止时间）快速定位流水线。 以查看更新容器镜像流水线的执行历史为例，了解该流水线执行的基本信息，通过作业执行历史可以查看任务的编排情况，通过颜色快速了解当前任务的执行状态。 在执行详情中，查看执行了该脚本的目标容器资源，执行的结果日志详细信息，如果执行失败，通过日志可以快速定位执行失败的原因，以解决问题。 执行历史 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/07云资源分析/计量计费.html":{"url":"AdminDoc/07云资源分析/计量计费.html","title":"计量计费","keywords":"","body":"计量计费 SmartCMP为用户提供了丰富的计量计费功能： 费用管理：支持自定义计费模型，以实现私有云的计费和公有云的二次计费，统一公有云和私有云的费用管理。 资源分析：发现和分析多云环境的使用情况和利用率，让所有资源可追踪、可追溯。通过自定义成本核算，公有云成本可见性，洞察多云环境的花费，提高ROI。能够按照策略定时同步公有云账单，自动按照业务组、项目等维度进行分账；多维度展现费用使用情况和趋势。 费用优化：费用可视化，结合资源使用率，帮助优化工作负载部署，合理化配置。申请时候预估整体服务价格，进行不同云平台的比价；结合资源使用率和成本，提出优化建议，降低过高配置。 容量管理：针对资源池和IP池等基础设置，提供容量使用分析、告警功能。 资源治理：针对定义的事件，触发相关的任务或操作，实现告警、自愈。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/07云资源分析/费用管理.html":{"url":"AdminDoc/07云资源分析/费用管理.html","title":"费用管理","keywords":"","body":"费用管理 费用类型 平台支持为不同的云资源类型关联计费项，从而将费用账单中的费用明细按照费用类型进行匹配。用户可以使用平台内置的费用类型，也可以根据业务需要自定义添加。 平台内置费用类型涵盖云主机、网络（如浮动IP、VPN、防火墙等）、存储、监控、缓存及关系型数据库等。内置的费用类型不允许修改或删除，用户可以复制该费用类型，或在该类型分组下创建新的费用类型分组。 您可以根据以下步骤自定义添加计费类型： 点击左侧导航 计量计费 - 费用类型 ，当前页面展示平台内置的所有费用类型及分组。 点击添加费用类型，输入主键、名称及描述，点击保存并成功创建类型分组。 在 费用明细映射 页面，输入名称、描述及代码（如instance_type）。 若此计费项是公有云计费项，勾选 公有云计费项 并在映射标签页下公有云映射关系。映射表示每一个计费项与各个公有云平台中相关产品和实际计费项的关联关系。 费用明细 用户可以通过云平台管理启用账单同步，定时同步导入费用信息。在费用明细页面，用户可以查看已导入的费用明细和自定义新增明细信息，同时您可以在费用明细详情中进行费用校准和更改费用归属。 针对平台已管理的资源，如果因某些原因导致公有云、私有云账单不准的，用户可以通过执行创建新账单（差价）、更新账单费用或删除账单的操作来校准账单费用。 点击一条费用明细ID，可以编辑该费用的归属（业务组、项目及所有者）和配置（费用类型及计费项）并校准账单费用。 支持费用明细多选，批量编辑归属（业务组、项目及所有者）或者删除费用。 费用明细页面支持根据业务组、项目、所有者、时间、云平台、资源类型、费用类型等不同维度进行筛选查看。 点击刷新按钮，将把最新的费用明细同步到当前页面，同时把最新的费用类型和计费项更新到当前所有的费用明细中。 费用分析 SmartCMP能够从不同维度统计资源费用信息，帮助您了解各个业务组、项目、云平台等在过去一段时间内的花费情况。 费用展示 点击左侧导航 计量计费 - 费用分析 ，进入费用展示标签页。该页面显示各业务组、项目和云平台的费用占比，以时间为跨度的费用趋势，可根据时间、云平台、资源类型、费用类型、业务组、项目和所有者等不同维度进行筛选查看。 鼠标悬浮于饼图或柱状图上时，将显示悬浮区域的数据大小。点击饼图或柱状图中的某一项将跳转至费用明细页面，可根据时间、云平台、资源类型、费用类型、业务组、项目和所有者等不同维度进行筛选查看。 TOP排行 TOP排行展示了云平台费用使用TOP5、资源类型费用使用TOP5、业务组费用使用TOP5、项目费用使用TOP5、费用类型使用TOP5和所有者费用使用TOP5等信息。可根据时间、云平台、资源类型、费用类型、业务组、项目和所有者等不同维度进行筛选查看。 优化建议 优化建议功能列表展现了云资源的使用情况，以及费用情况，帮助您找出使用率较低的资源，并可以直接进行配置调整。 使用率分数是综合了CPU、内存以及磁盘的平均使用情况。根据使用率分数的排序找出闲置资源分布情况（使用率分数越小表示闲置资源越多），并能够一键重新进行配置，从而及时调整低效使用的资源，节省费用。 点击左侧导航 计量计费 - 优化建议 ，展示所有云资源的使用情况：该页面显示各云资源的名称、状态、使用率分数、CPU使用率、内存使用率、磁盘使用率、过去一个月费用、配置（CPU/内存/磁盘）、业务组、项目、所有者等信息。 详细使用情况参数请看下表介绍： 业务组：云资源所属业务组 名称：名称（若业务组已设定命名规则，名称将按照规则自动生成，无需填写） 项目：云资源所属项目 所有者：部署资源的所有者 状态：目前展现三种状态，分别是已启用、已停止、遗失 CPU使用率：过去一段时间CPU的平均使用率（上周、上个月、上三个月、上半年） 内存使用率：过去一段时间内存的平均使用率（上周、上个月、上三个月、上半年） 磁盘使用率：过去一段时间磁盘的平均使用率（时上周、上个月、上三个月、上半年） 使用率分数：过去一段时间磁盘的平均使用率，内存的使用率和CPU的使用率，三者的平均数（上周、上个月、上三个月、上半年），分数越小代表使用率越低，闲置资源越多 费用 按照上个月部署资源的花费预计下个月的部署虚拟机的费用（数值统一了公有云和私有云的费用） 平台考虑了计算、网络、存储的使用率，基于数据监控，算出过去一个星期、一个月、三个月或半年的磁盘使用率、内存使用率、CPU使用率的平均值，三者平均值之和得到使用率分数。根据以上展示的所有数据，找出闲置资源，排序分析得出费用比较高的虚拟机，使用率比较低的虚拟机，进行一键重新配置，优化资源配置，提高资源使用率。 重新配置资源的方法： 点击左侧导航 计量计费 - 优化建议 ，选择某一个云主机，进入云主机详情页，显示云主机基本信息、操作历史、快照信息、监控、已触发警报、定时任务等，在云主机详情页可重新配置资源，可进行如下操作：重新启动、挂起、停止、远程终端、调整虚机配置、添加新磁盘、扩展磁盘、添加网卡、删除网卡、创建快照、恢复至快照、vMotion迁移等。 重新启动： 重新启动（关机状态的）虚拟机，也可以通过设置定时，定时（在将来某一时刻）触发此项任务。 挂起：挂起（开机状态的）虚拟机，可以通过设置定时，定时（在将来某一时刻）触发此项任务 停止：停止（即关机）（开机状态的）虚拟机，可以通过设置定时，定时（在将来某一时刻）触发此项任务。 远程终端：进入远程终端页面。输入要执行的命令，单击确认 调整虚机配置：调整虚拟机或容器节点的配置（vCPU，内存） 添加新磁盘：给虚拟机添加一块新的磁盘，可以通过设置定时，定时（在将来某一时刻）触发此项任务 扩展磁盘：给虚拟机扩展一块已有的磁盘，可以通过设置定时，定时（在将来某一时刻）触发此项任务。 添加网卡：添加一个新网卡，针对该计算节点的所有实例生效，选择网络标签和IP分配方式 删除网卡：删除网卡，该操作会影响该节点的所有云主机 创建快照：给虚拟机创建一个快照，可以通过设置定时，定时（在将来某一时刻）触发此项任务。 恢复至快照：把虚拟机恢复到之前的某一个快照，可以通过设置定时，定时（在将来某一时刻）触发此项任务 vMotion迁移：计算资源迁移和存储迁移 「Note」如您需要查看更多关于云主机操作的详细内容，请您参考：云主机操作 计费规则 SmartCMP允许自定义计费规则，对纳管的私有云、公有云等多种不同类型资源进行计费；并能够同步公有云的费用账单（详见账单同步小节），统一公有云和私有云的费用管理和分析。 平台支持多种计费模式，包括，经典模式、专家模式、公有云计费。 经典模式，是指当前的计费规格都是对单种资源来计费的，您可以按需选择云平台、资源池后，指定组件类别，选择具体的组件来设定价格，例如：针对腾讯云平台下的全部资源池，IaaS组件类别的云主机设置价格。 专家模式，通过脚本定义一套计费规则，例如：阿里云的规格类型多种多样，不同规格的价格不一致，如果单个配置会非常繁琐，支持Javascript的脚本来定义一套阿里云不同规格的计费价格。 计费规则支持多个货币单位，包括，人民币、美元、沙特里亚尔等等，您可以在系统配置选择一个货币单位，（默认人民币）可以选择沙特里亚尔或美元。选择后，计费规则、资金账户的充值时候的货币单位都为配置的保存一致，并且三种货币单位，都支持设定打折系数。。 下文为您介绍添加、编辑、删除计费规则的步骤： 点击左侧菜单栏 计量计费 - 计费规则 ，将看到已创建好的计费规则列表，列表中列出了已经创建的资源类型及价格等信息。您可以对已创建的计费规格进行编辑和删除，同时可以添加新的计费规格。计费规则会显示云平台、资源类别、存储类型、计价单位、价格、货币单位、周期等。 添加计费规则：进入菜单 计量计费 - 计费规则 ，点击添加，在弹出页面中填写以下信息： 名称：自定义计费名称，请说明云资源类型 云平台类型：根据接入的云平台进行选择 资源池：选择全部资源池 模式：根据业务需求选择计费模式，可选模式包括经典模式、专家模式和公有云计费模式 组件类别：根据业务需求选择计费模式，可选范围包括Iaas、Paas、Caas、软件、代理和其他 价格：设置云资源具体价格 周期：设置计费时长，可选小时、天、周、月 计费脚本：选择“专家模式”时，可通过输入脚本自定义一套计费规则 折扣系数：可针对公有云平台不同的资源设置不同的折扣系数 点击提交，添加计算资源价格成功，计费管理列表显示刚才添加的信息。 编辑计费规则：选中列表中某个项目，点击编辑，修改信息后点击保存。 删除计费规则：选中列表中某个项目，点击删除，弹出确认提示框，点击确认。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/07云资源分析/容量管理.html":{"url":"AdminDoc/07云资源分析/容量管理.html","title":"容量管理","keywords":"","body":"容量管理 容量管理为用户提供了资源池配额和IP池、IP地址使用情况的告警功能。 SmartCMP支持对基础设施的容量使用进行检测、追踪，为您进行合理的规划提供决策依据。通过图形化的界面对数据中心整体状况的检测展示；对各种云资源的容量使用进行追踪，分析，告警； 资源池、IP池等基础设施资源使用的跟踪，根据制定的策略进行告警。 在左边导航选择 容量管理 容量管理支持在 资源告警 设置资源告警规则和 在 已触发警报 查看警报记录： 资源告警 资源告警监控资源配额的使用情况，达到预设的条件会触发警报。点击左侧导航 容量管理 - 资源告警 ，显示资源告警列表。可对资源告警进行添加、编辑、启用、禁用、删除以及筛选、搜索等操作。 添加资源告警 您可根据以下步骤添加资源告警： 点击添加按钮，进入添加资源告警页面 在添加资源告警页面，定义告警的基本信息。依次输入告警的名字，选择告警类别、以及告警类型。支持对IP池、资源池的阈值告警和预测告警 根据选择的不同告警类别和类型，定义告警触发条件和对象 点击保存返回资源告警列表界面 编辑告警 选择一行已添加的告警，工具栏编辑按钮变成可用，点击编辑按钮，或者直接点击告警名称，进入告警编辑界面。 启用/禁用告警 选择一行状态为启用/禁用的告警，工具栏禁用/启用按钮变成可用，点击，提示该告警状态更新成功。 删除告警 选择一行已添加的告警，工具栏删除按钮变成可用，点击删除按钮，确认删除提示后，提示告警删除成功。 已触发警报 点击左侧导航 容量管理 - 已触发警报 ，显示已触发警报列表，包括警报级别、告警名称、触发告警对象、告警类型、第一次触发时间、最后一次触发时间以及告警状态。告警状态分为已触发、已暂停、已解除。还可对列表中的触发警报进行恢复、暂停、解除操作。 任意选择一条已触发的警报，工具栏中的暂停和解除将变为可用，点击暂停，将会有提示，确认后，提示操作成功。 点击列表中的告警名称，可查看该警报的详细信息以及历史数据。该页显示了告警触发的对象、警报的级别，触发的条件、业务组、类型、资源池配额总体情况（vCPU、内存、存储、虚机数量）或IP池使用情况、警报图表（可调控时间范围灵活查看各个时间段的警报数据）、以及该告警的后续操作历史。 告警触发的对象可链接，资源池链接至 资源池管理 - 资源使用趋势 、IP池链接至 IP地址管理 - IP地址使用趋势 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-01-23 11:33:08 "},"AdminDoc/07云资源分析/资源治理.html":{"url":"AdminDoc/07云资源分析/资源治理.html","title":"资源治理","keywords":"","body":"资源治理 事件配置 事件配置功能用来定义事件应用到的范围以及触发的通知和操作，如：当检测到IP地址被未知机器占用时，能够检测到冲突并触发告警；针对云主机部署成功设置通知（云主机部署成功）；支持扩展其他类型，比如云主机名称修改通知，云主机IP地址修改通知等等；支持在“操作配置”功能区，灵活的自定义触发的事件的名称，类型，应用的范围，触发的操作。 点击左侧菜单栏 资源治理 - 事件配置 ，将看到事件配置列表，显示名称、类型、范围、对象、状态、创建者、创建时间。 创建步骤如下： 添加事件配置：点击添加，输入事件名称，触发条件，选择针对的范围（用户），选择对某对象触发通知。通知配置所选用户邮箱，如果事件触发将收到系统通知和邮件通知。 操作配置：提供通用的任务配置，事件、告警发生后，能够触发操作，如：云资源部署完成之后不仅是可以发送邮件通知，同时也可以进行云资源的运维操作，通知和操作可以同时配置，不配置具体操作就不会触发后续的运维操作。（具体的操作配置步骤与流水线的流程设计任务配置相似，请参考：配置任务） 编辑事件配置：在列表中选择一项事件，点击编辑，进入编辑界面，可针对新建中的所有项进行编辑更改。 启用/禁用事件：在列表界面选择某项已启用/禁用的事件，上方的禁用/启用操作将可用。 事件历史 列出触发的事件以及执行的任务状态。事件历史页面显示： 展示事件编号，事件名称，事件类型，触发对象，触发时间，通知对象，触发操作，操作执行状态. 触发的对象显示实际的对象名称，例如，检测到IP冲突，则触发对象显示具体的某个IP地址；部署完成或更新，则触发的对象是该部署. 可根据筛选条件快速定位事件. 点击任意事件进入事件详情页面：包括事件本身的信息，通知信息，触发的操作信息。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/12安全审计/":{"url":"AdminDoc/12安全审计/","title":"备份与安全","keywords":"","body":"备份与安全 堡垒机 堡垒机是集用户管理、授权管理、认证管理和综合审计于一体的集中运维管理系统。 SmartCMP不仅整合了内置的堡垒机，还支持对接第三方堡垒机，支持您通过堡垒机访问虚拟机，并可选择SSH/RDP/VNC等多种远程协议，为您提供统一的运维入口、构建安全、高效的运维通道。 核心使用场景： 堡垒机拥有以下主要特点： 权限管理：整合堡垒机和平台的访问控制，支持对不同角色实行不同的授权配置，管控运维操作范围； 管理协议：支持SSH、RDP、VNC等多种远程访问协议； 运维操作：支持对主机进行批量改密和下发密钥，提高安全防护； 会话管理和录像回放：拥有会话管理功能，并支持对所有的运维操作进行录像，全程审计。 堡垒机功能 堡垒机的配置 SmartCMP提供的云网关组件就集成了堡垒机功能，当您需要配置堡垒机时，可参考以下步骤： 在左侧菜单选择 基础设施 – 云网关管理，点击添加按钮，进入编辑页面： 名称和描述：自定义云网关的名称和描述，以便进行标识。 标签：请根据云网关所在地点或区域选择合适的标签，平台会根据标签，选择合适的网络中转节点转发网络流量。 点击下一步，进入安装脚本页面，复制脚本信息。 选择一台符合安装条件的云主机，执行脚本信息，安装云网关的代理。 绑定资源池：点击左侧导航栏 基础设施 - 资源池管理 ，点击资源池名称，进入概况标签页，指定已经安装的云网关。例如：在添加vSphere资源池时，绑定云网关，使用vSphere资源池部署的虚拟机将自动注册到堡垒机，使用vSphere资源池部署的虚拟机卸除时自动从堡垒机中取消注册。 堡垒机的使用 当堡垒机与资源池进行绑定之后，可使用堡垒机进行运维操作(以vSphere资源池为例）： 点击左侧导航栏 我的部署 - 云主机 ,选择通过vSphere资源池部署成功的云主机，进入 云主机 概况 标签页 设置关联凭证：您可以点击 组织架构 - 用户 ，在我的凭证标签页添加凭证，并将我的凭证与云主机相关联，下次访问云主机时，云管平台将自动选用关联的凭证。当您修改凭证的密码或密钥时，可同步更新云主机操作系统中的密码或密钥。 选择完成后，点击 Web SSH 按钮，按照云主机的配置来打开云平台上的远程终端，可以通过远程终端修改协议信息的相关参数，例如，修改虚拟机的用户名和密码。 对接第三方堡垒机 平台也支持对接第三方堡垒机，并提供Web SSH与远程终端服务，便于您进行远程操作。 以对接安恒堡垒机为例，具体配置步骤如下： 点击左侧导航栏 备份与安全 - 堡垒机入口 ，点击添加按钮，填入以下信息： 堡垒机名称和描述：自定义堡垒机名称和描述 安恒堡垒机地址：请输入堡垒机的URL链接 Admin令牌：请输入安恒堡垒机的管理令牌 点击保存按钮，成功验证对接安恒堡垒机。 备份系统 SmartCMP支持基于Veeam实现快速、可靠地备份云平台的所有云主机。当您配置备份系统，并将资源池和备份管理平台进行绑定后，则在这个资源池部署的云主机都可以通过Veeam来进行管理，并支持恢复单个文件、整个虚拟机、应用程序等等，确保服务的安全性和高可用性。 核心使用场景 备份：是一个即时发生的备份（即手工备份），当您将资源池和备份系统进行绑定，您可以快速地备份这个资源池内的云资源，您可以在云主机的操作历史中查看备份操作的执行过程和结果（备份成功或是失败）。 例如：将当前整个云主机进行备份，类似于打快照 恢复：即支持选择备份点，在当前的云主机中进行恢复（备份点是一个列表， 允许用户进行选择备份文件的名称， 时间信息，更多额外的参数需要配置表单，点击备份点之后， 触发一次恢复的过程把备份点的数据恢复到当前云主机），您可以在云主机的操作历史中查看恢复操作的执行过程和结果（恢复成功或是失败）。 例如：实施备份的云主机副本恢复到当前云端虚拟机 配置方法 备份系统的具体配置步骤请参考下文： 备份管理入口配置：点击左侧导航栏 备份与安全 - 备份系统 ，点击添加按钮，进入编辑页面 名称和描述：自定义Veeam系统平台的名称和描述 地址：即Veeam平台的URL链接 用户名和密码：Veeam平台的登录用户名和密码 点击保存按钮，验证添加完成备份系统。 备份系统的使用 当您配置完成一个备份系统，您可以通过以下方式来管理云主机： 与资源池进行绑定：点击左侧导航栏 基础设施 - 资源池管理 ，选择需要绑定的资源池，进入概况标签页，选择已经接入的备份管理平台。 绑定资源池之后，您能够使用备份管理平台来管理云主机，例如，当您将vSphere资源池和备份系统绑定之后，您可以进行如下运维操作： 点击左侧导航栏 我的部署 - 云主机 ，可进行基本的 备份 / 恢复 操作。 操作审计 SmartCMP支持对用户访问、操作信息的记录，平台管理员默认有该权限，若需要为其他角色增加该权限，请新增角色并添加该权限，详见角色 点击左侧导航栏的 备份与安全 - 操作审计 ，可看到该用户下的操作记录，该页面显示操作者、操作对象、操作名称、操作参数、状态以及操作时间。您可以通过高级搜索功能进行快速筛选定位，支持操作者、状态、操作对象、起止时间的筛选，也可以使用普通搜索功能。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/12安全审计/会话管理.html":{"url":"AdminDoc/12安全审计/会话管理.html","title":"会话管理","keywords":"","body":"会话管理 堡垒机的用户轨迹 您可以查看通过堡垒机对云主机的远程访问记录，具体步骤请参考下文： 点击左侧导航栏 会话管理 - 用户轨迹 ，进入活动会话标签页，您可以查看当前正在进行的会话，也可以终止一个或多个会话，点击终止按钮就能断开对应用户的会话。 点击历史会话标签页，您可以查看过往所有的会话历史，并了解每个历史会话的详细信息，点击回放按钮就可以查看历史操作录像，点击下载按钮可以查看当次会话中用户所执行的webssh命令，以及执行的结果。 堡垒机命令的过滤 堡垒机提供命令过滤功能。通过使用该功能，您可以设置命令控制策略来管理用户对主机的访问，以保障运维操作的合规、安全、可控。 点击 会话管理 - 命令过滤 ，您可以看到过滤命令的相关信息，包括名称、描述、状态、作用方式、匹配方式、命令规则、过滤目标、作用角色、创建者、创建时间、更新时间等。 您也可以对已添加的命令进行各种操作，包括编辑、删除、启用和禁用等。 下文为您介绍如何新建命令过滤策略。 选择 会话管理 - 命令过滤 ，点击添加按钮，填入以下信息： 基本信息：请填写过滤命令的基本信息 过滤命令的名称和描述：请自定义堡垒机命令的名称和描述 状态：请选择该命令是启用或者被禁用 作用方式：请设置该命令是否被允许或者拒绝执行，当一条命令既被设定为允许又被设置为拒绝时，此条命令优先被设定为拒绝。 匹配方式：请选择该命令的匹配方式，可选“完整匹配”和“正则表达式匹配” 完整匹配：整个字符信息完全匹配成功 正则表达式匹配：一种字符串匹配的模式，可以用来检查一个字符串是否含有某种子串 命令规则：请自定义填写命令规则信息 过滤目标：请定义命令生效的云资源，当用户在某个云资源上进行脚本执行的时候，只要该云资源满足下列任意一个条件，平台将对脚本内容做审计，不满足条件的脚本将被拒绝执行。 业务组：请选择云资源所属业务组 项目：请选择云资源所属项目 键值标签：由一个键值对组成，例如键为“环境”且值为“UAT”的标签。 资源类型：云资源类型包括IaaS、PaaS、CaaS、软件和代理。 云资源：请选择命令作用的具体云资源，使该命令在相应云资源上生效。 作用角色：请选择该命令作用的角色或者用户。 角色：可选的角色类型包括平台内置的角色（软件架构师、普通成员、基础设施架构师、平台管理员等),您也可以自定义添加角色，具体步骤可参考角色 用户：可选具体用户，使命令生效。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "},"AdminDoc/09系统管理/":{"url":"AdminDoc/09系统管理/","title":"系统管理","keywords":"","body":"系统管理 系统配置 在左侧菜单栏选择 系统管理 - 系统配置 ，进入概况标签页： 用户登录类型 目前SaaS版本只允许本地登录，可以直接使用SmartCMP配置的用户名和密码登录。 业务组 管理员可在当前页面为所有业务组配置默认命名规范模板及授权配置模板，并可勾选是否在将用户加入到子业务组时同时加入到父业务组中。 该默认配置可以为空。若配置默认模板，则每个业务组不再需要单独配置。 授权配置模板：可选“允许所有操作”和“允许常规操作” 命名规范：您可以选择云主机和云资源的命名规则，得先在 组织架构管理 - 命名规范 中设置命名规则 DNS配置 如果需要配置和发布DNS服务，可在这里设置DNS根域名，并在资源池中根据不同环境的需要设置子域名，从而在服务配置中进行选择。 管理员可以新增一个或多个DNS域（选填）。 「Note」DNS域名需在DNS服务器上配置，如无，在申请服务时将报错。 域名由根域名、顶级域、二级、三级等多级域名构成，每级域名由字母、数字和连字符(-)构成(第一个字符不能是连字符)，不区分大小写，长度不超过63个字符。一个完整域名总长度不超过255个字符，必须以点结尾。配置成功后，可在OpenStack资源池中配置二级、三级域名。 安全配置 双因素认证概述 平台支持对用户的登录和运维操作启用双因素认证，启用双因素认证后，将在原有静态密码验证的基础上新增验证动态信息的认证步骤。平台支持通过短信、邮箱、企业微信及钉钉发送动态认证信息进行双因素认证。 「Note」双因素验证(Two Factor Authentication)是在用户名和密码之外，额外增加的一层安全认证，用于确保登录和使用云资源的用户身份的安全性。 启用双因素认证 如需开启双因素认证，请按以下步骤设置： 在 系统管理 - 通知配置 中对接需要发送认证信息的系统，具体配置方法请参考：通知配置 在 系统管理 - 系统配置 的安全配置标签页选择双因素认证方式，支持短信验证、邮箱验证、微信验证及钉钉验证。 如需对用户登录开启双因素认证，请进行界面配置，具体配置方法请参考：界面配置 如需对用户的运维操作开启双因素认证，请在 组织架构 - 授权配置 中设置对部署操作授权或云资源操作授权启用双因素认证，具体配置方法请参考：授权配置 双因素认证使用场景 SmartCMP双因素认证包含以下两种使用场景：用户登录及运维操作。 当用户登录开启双因素认证时，在登录界面，用户输入静态密码点击登录后会跳出弹框提示“已启用双因素认证，需要输入验证码进行验证”。用户可通过配置的认证方式获取动态验证码完成双因素认证，如下图所示。 当运维操作开启双因素认证时，以安装软件为例，用户需根据提示点击获取验证码，通过已配置的认证方式完成双因素认证。 费用配置 管理员可在 系统管理 - 系统配置 - 费用配置 页面设置服务计费的货币单位，支持选择人民币、欧元、美元、日元、英镑等。可勾选是否在服务申请和部署时显示预估费用。 系统参数 管理员可在当前页面启用或关闭回收站功能、设置IP地址冷却时间、启用或关闭同步键值标签功能以及设置隐藏不开放给用户选择的盘符。 回收站 管理员可在当前页面启用或关闭回收站功能，开启后可将卸除的云资源放入回收站进行保留。 保留时间：指卸除的云资源在回收站中保留时间（留空表示无限制），到期后将自动卸除云主机，释放资源。 已回收资源显示时间： 指回收站中已回收资源的显示时间。 IP池 管理员可在当前页面设置IP地址冷却时间。IP地址回收后，暂时冷却保留一段时间再重新进行分配使用。 云资源 管理员可在当前页面启用或关闭同步键值标签功能。启用后，用户为云资源设置标签时，键值标签将被同步到云平台。 同时，管理员可选择设置隐藏某些盘符，在用户为云主机添加磁盘或挂载点时不开放给用户添加。 流程关闭策略 管理员可在当前页面设置流程关闭策略，当服务配置的流程部署开启自动关闭，对应步骤将按照当前策略向处理人发送通知消息或关闭流程。 等待时长（天）：当任务超过等待时长所设置的天数后，仍未被处理，将发送通知消息给处理人。 通知次数（次）：当通知消息发送次数达到所配置次数后，若任务仍未被处理，1天后将自动关闭该任务。 界面配置 通过 系统管理 - 界面配置 来确定品牌和服务申请信息包括，配色、页眉页脚、菜单配色和是否显示帮助文档，以及调整服务目录与服务展示的显示方式，服务申请页面字段。 配置品牌 在配置品牌的品牌标签页中可完成对界面的设置： 选择亮色系或暗色系风格，控制左边导航栏区域的配色风格。 主题色可选择纯色或渐变色，使用调色面板选择设置颜色。当选择渐变色时，高亮显示的菜单和按钮将用渐变颜色显示，而链接和标签将用第二个颜色显示。 文本框和按钮风格可设置为方角或者圆角。 可选择是否隐藏页眉。当选择不隐藏时，使用调色面板选择页眉配色、文字及图标颜色（分别生效），上传图标、自定义文字内容。 为菜单配置颜色。可使用调色面板分别为菜单、文字和图标配置颜色，配色设置将分别生效。 可选择是否隐藏页脚。当选择不隐藏时，使用调色面板选择页脚配色、文字颜色（分别生效），上传图标、自定义文字内容。 新建用户菜单和页眉页脚颜色将不受其他用户影响。 定义是否显示帮助文档，选择隐藏时，导航栏右上角的问号按钮将被隐藏。 配置服务申请 配置服务申请的具体步骤：目前服务目录支持2种视图。在服务申请标签页， 您可以配置在服务目录中分组与服务的展现方式：标签页展示或层级展示 标签页展示：即分组按照标签页展示。 层级展示：按照卡片的模式，先展示服务分组，服务分组的具体操作步骤，请参考：服务分组。在服务目录视图界面，可查看服务分组的图标、名称、描述和文件夹的显示方式，点击一个分组，展现此服务分组的所有卡片。 您可以配置服务申请页面字段显示，其中可配置的字段有：业务组、项目、所有者、描述、执行时间、键值标签及云资源标签。可根据需求设置是否要求必填。 通知配置 管理员可设置对接平台，将系统的通知、告警等消息发送到所连接的消息通知平台。支持SMTP邮件、SMS短消息、企业微信与钉钉。 以下为您详细介绍各平台配置流程： SMTP邮件配置 进入菜单 系统管理 - 通知配置 ，在SMTP配置标签页，可以配置当前能够访问的SMTP配置。 在SMTP配置中可以填入下列信息： 基本信息 说明 使用SSL 是一种保证私密性的安全协议，如勾选，则保证客户/服务器应用之间的通信不被攻击者窃听，并始终对服务器进行认证 SMTP服务器 请输入SMTP服务器地址 端口 SMTP端口号 用户名 请输入邮箱的用户名 密码 请输入邮箱的密码 发件人 请输入邮件发件人地址 配置完成后，可点击验证设置，系统将会根据配置自动发送一封测试邮件到当前账户的邮箱地址，以验证SMTP服务器是否工作。 SMS短消息 进入菜单 系统管理 - 通知配置 ，在SMS配置标签页中，可以填入当前能够访问的SMS（短消息）配置。短消息类型分为阿里云短信服务和短信服务 在阿里云短信服务中，可以填入下列信息： 基本信息 说明 访问密钥ID 请输入阿里云访问密钥ID 密码 请输入阿里云访问密钥密码 短信签名 请输入短信签名 模板代码 根据业务需求选择合适的通知模板 在短信服务中，可以填入下列信息： 基本信息 说明 用户名 请输入SMS用户名 密码 请输入SMS密码 SMS服务器 SMS服务器地址 端口 SMS端口 企业微信配置 进入菜单 系统管理 - 通知配置 ，在企业微信配置标签页中，可以配置企业微信的相关信息,为企业微信的消息通知和审批指定应用。通知应用用于将系统的通知发送到用户的企业微信账号，审批应用用于企业微信接收系统发起的审批（可在流程配置中进行审批流程的配置）。 基本信息 说明 CorpId 在企业微信管理后台“我的企业”->“企业信息”下查看 AgentId 每一个应用的唯一AgentID，请在企业微信管理后台“应用与小程序”->“应用”下查看 Secret 每一个应用都有一个独立的访问密钥，请在企业微信管理后台“应用与小程序”->“应用”下查看 Token 调用接口凭证，必须使用审批应用或企业内自建应用的secret获取 EncodingAESKey 请在企业微信管理后台“应用与小程序”->“应用”下查看 钉钉配置 进入菜单 系统管理 - 通知配置 ，在钉钉配置标签页中，可以配置钉钉的相关信息,为钉钉的消息通知和审批指定应用（在钉钉开放平台创建的第三方企业应用）。通知应用用于将系统的通知发送到用户的钉钉账号，审批应用用于钉钉接收系统发起的审批（您可在流程配置中进行审批流程的配置）。 基本信息 说明 CorpId 企业在钉钉中的标识，每个企业拥有唯一的CorpId，可登录钉钉开发者后台-“首页”下查看 AgentId 创建应用时，系统自动生成的AgentId，可用于发送企业会话消息等场景 AppKey 创建应用时，与应用Key一起同时由系统自动生成 AppSecret 创建应用时，系统自动分配，是应用开发过程中的唯一性标识 Token 企业后台获取信息时的重要凭据，由Appkey和AppSecret产生。需通过API Exporer进行获取 AES_Key 需通过API Exporer进行获取 URL 需通过API Exporer进行获取 菜单配置 当您接入第三方系统或扩展系统（如接入百度、京东、Azure账单）时，菜单配置使接入的菜单能够更加灵活。 在菜单配置中，您也可以接入外部系统，并自由灵活的选择扩展菜单，下文为您介绍具体的操作方法。 添加菜单配置 菜单配置可定义内置菜单访问权限、接入多种不同第三方系统，内置菜单和扩展系统将根据定义的权限分配给不同的角色查看，并可根据定义的位置灵活地展现扩展系统。 点击 系统管理 - 菜单配置 ，点击添加，在添加菜单配置标签页中，选择菜单配置类型： 内置菜单访问权限：可以设置拥有查看该菜单的角色。在下拉框中选择需要配置的菜单（例如：服务请求、我的部署、报表与分析等）及能够访问此菜单的角色（如项目成员等）。设置该菜单配置的状态：启用或禁用此配置。 选择外部链接：选择可接入第三方系统。 输入名称、描述、位置、URL参数、角色（选择能够访问此菜单的角色）、状态（选择启用还是禁用此配置）并上传图标。 您可以灵活选择扩展菜单的位置，当添加第三方系统页面时，可选择如下位置： 前于系统管理（系统管理是一级菜单），则第三方系统也是一级菜单在系统管理菜单前面 位于系统管理（系统管理是一级菜单），则第三方系统是二级菜单内置在系统管理菜单中 后于系统管理（系统管理是一级菜单），则第三方系统也是一级菜单在系统管理菜单后面 点击保存，菜单配置列表中显示目前添加的所有内置菜单或外部链接名称、描述、URL参数、角色、状态、创建者、创建时间等。 「Note」 添加二级菜单时支持将菜单位置存放到有链接的自定义一级菜单下，适应项目需求。 编辑、删除菜单配置 点击 系统管理 - 菜单配置 ，选中扩展菜单名称，点击编辑，在编辑菜单配置标签页中，二次编辑扩展菜单信息。 点击 系统管理 - 菜单配置 ，选中扩展菜单名称，点击删除，即可删除扩展菜单。 数据字典 平台支持数据字典功能，数据字典的名称和值集可以直接在服务配置、流程定义和表单等地方作为字段的来源。系统内置以下数据字典：服务类型、紧急程度、影响程度、优先级，内置的数据字典不支持修改名称、主键与序号，您可以选择启用或禁用部分值集、或新增自定义值集以修改上述配置中的字段。 您可根据以下步骤修改内置数据字典的值集（以“优先级”为例）： 点击 系统管理 - 数据字典，选择内置的数据字典名称，如：优先级。 在概况标签页，内置数据字典的名称、主键、描述与序号不支持修改。 点击值集标签页，该页面展示了当前数据字典内已预设的值集，如：低、中、高、特高。内置的值集无法编辑。 对任意一个值集选择启用/禁用（或者勾选多个值集批量操作）。 点击添加按钮，输入自定义值集的名称、主键、描述，可选择父级并设置字体显示颜色。指定数据字典的排列序号，数值小的排列靠前。选择是否启用该值集，并点击保存。自定义值集添加成功。 「Note」 父级仅支持选择同一数据字典内的值集，不支持跨字典选择。 如若在值集中禁用部分字段，则在服务配置、流程定义等处相应字段将被禁用无法选择。例如：禁用“优先级”中的值集“特高”，则在服务等级协议中优先级设置仅可选择“低、中、高”或其他已启用的自定义值集。 Copyright © 2016-2020 CloudChef. All Rights Reserved. 上海骞云信息科技有限公司 版权所有            更新时间： 2021-03-24 10:15:07 "}}